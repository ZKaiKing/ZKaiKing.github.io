<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[shellËÑöÊú¨ÂÆûË∑µÊåáÂçó(‰∏ä)]]></title>
    <url>%2F2020%2F07%2F12%2Fshell%E8%84%9A%E6%9C%AC%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97-%E4%B8%8A%2F</url>
    <content type="text"><![CDATA[[shellÂ∞èÊÄªÁªì] „ÄäLinuxÁ≥ªÁªüÂëΩ‰ª§ÂèäShellËÑöÊú¨ÂÆûË∑µÊåáÂçó„Äã‰π¶Á±çÂ∞èÊÄªÁªì BashshellÁÆÄ‰ªãShellÊòØÊåá‰∏ÄÁßçÂëΩ‰ª§Ë°åËß£ÈáäÂô®ÔºåÊòØ‰∏∫Áî®Êà∑ÂíåÊìç‰ΩúÁ≥ªÁªü‰πãÈó¥ÈÄö‰ø°Êèê‰æõÁöÑ‰∏ÄÁßçÊé•Âè£„ÄÇ Bash ShellÊúâ‰∏§ÁßçÂ∑•‰ΩúÊ®°ÂºèÔºåÂàÜÂà´ÊòØ‰∫íÂä®Ê®°ÂºèÂíåËÑöÊú¨Ê®°Âºè„ÄÇÊâÄË∞ì‰∫íÂä®Ê®°ÂºèÂ∞±ÊòØÁî±Á≥ªÁªüÁÆ°ÁêÜ‰∫∫ÂëòÁõ¥Êé•ÈÄöËøáÈîÆÁõòËæìÂÖ•ÂëΩ‰ª§ÔºåÂπ∂Á≠âÂæÖÂÖ∂ÊâßË°åÂÆåÊØïÂêéÂÜçÊâßË°å‰∏ã‰∏ÄÊù°ÂëΩ‰ª§ÔºõËÄåÂè¶‰∏ÄÁßçÊ®°ÂºèÊòØËÆæËÆ°Âá∫‰∏Ä‰∏™ËÑöÊú¨Êñá‰ª∂ÔºåÂ∞ÜÊâÄÊúâÈúÄË¶ÅÊâßË°åÁöÑÂëΩ‰ª§ÂÜôÂú®ËØ•Êñá‰ª∂‰∏≠ÔºåÁî±Bash ShellËØªÂèñÂπ∂ÊâßË°å shellÁöÑÂÜÖÂª∫ÂëΩ‰ª§‰∏Ä‰∏™ShellËÑöÊú¨Ê∞∏ËøúÊòØ‰ª•‚Äú#!‚ÄùÂºÄÂ§¥ÁöÑÔºåËøôÊòØ‰∏Ä‰∏™ËÑöÊú¨ÂºÄÂßãÁöÑÊ†áËÆ∞ÔºåÂÆÉÊòØÂú®ÂëäËØâÁ≥ªÁªüÊâßË°åËøô‰∏™Êñá‰ª∂ÈúÄË¶Å‰ΩøÁî®Êüê‰∏™Ëß£ÈáäÂô®ÔºåÂêéÈù¢ÁöÑ/bin/bashÂ∞±ÊòØÊåáÊòé‰∫ÜËß£ÈáäÂô®ÁöÑÂÖ∑‰Ωì‰ΩçÁΩÆ„ÄÇ 1#ÔºÅbin/bash#Â§áÊ≥®echo &quot;hello shell&quot; ShellÂÜÖÂª∫ÂëΩ‰ª§ÔºåÂ∞±ÊòØÁî±BashËá™Ë∫´Êèê‰æõÁöÑÂëΩ‰ª§ÔºåËÄå‰∏çÊòØÊñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊüê‰∏™ÂèØÊâßË°åÊñá‰ª∂„ÄÇ 1‰æãÂ¶ÇÔºåÁî®‰∫éËøõÂÖ•ÊàñËÄÖÂàáÊç¢ÁõÆÂΩïÁöÑcdÂëΩ‰ª§ÔºåËôΩÁÑ∂Êàë‰ª¨‰∏ÄÁõ¥Âú®‰ΩøÁî®ÂÆÉÔºå‰ΩÜÂ¶ÇÊûú‰∏çÂä†‰ª•Ê≥®ÊÑèÂæàÈöæÊÑèËØÜÂà∞ÂÆÉ‰∏éÊôÆÈÄöÂëΩ‰ª§ÁöÑÊÄßË¥®ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºöËØ•ÂëΩ‰ª§Âπ∂‰∏çÊòØÊüê‰∏™Â§ñÈÉ®Êñá‰ª∂ÔºåÂè™Ë¶ÅÂú®Shell‰∏≠‰Ω†Â∞±‰∏ÄÂÆöÂèØ‰ª•ËøêË°åËøô‰∏™ÂëΩ‰ª§„ÄÇÊâì‰∏™ÊØîÊñπÔºåÂ∞±ÂÉè‰ΩøÁî®ËØ≠Ë®Ä‰∫íÁõ∏Ê≤üÈÄöÊòØ‰∫∫Á±ª‰∏éÁîü‰ø±Êù•ÁöÑËÉΩÂäõÔºå‰ΩÜÊòØÊàë‰ª¨ÊúâÊó∂Âç¥ÈúÄË¶Å‰ΩøÁî®ÁßªÂä®ÁîµËØùÊù•ËøõË°åËøúË∑ùÁ¶ªÁöÑÊ≤üÈÄöÔºåÈÇ£‰πà‰∫∫Á±ªÊú¨Ë∫´ÂÖ∑Â§áÁöÑËØ≠Ë®ÄËÉΩÂäõÂ∞±ÊòØ‚ÄúÂÜÖÂª∫‚ÄùÁöÑËÉΩÂäõÔºåËÄåÁßªÂä®ÁîµËØùÂç¥ÊòØ‰∏Ä‰∏™Â§ñÈÉ®ÁöÑÂ∑•ÂÖ∑„ÄÇ ‚ö°Ô∏èÁü•ËØÜÁõ≤ÁÇπÔºöÂÜÖÂª∫ÂëΩ‰ª§‰ºöÊØîÂ§ñÈÉ®ÂëΩ‰ª§ÊâßË°åÂæóÊõ¥Âø´ÔºåÊâßË°åÂ§ñÈÉ®ÂëΩ‰ª§Êó∂‰∏ç‰ΩÜ‰ºöËß¶ÂèëÁ£ÅÁõòI/OÔºåËøòÈúÄË¶ÅforkÂá∫‰∏Ä‰∏™ÂçïÁã¨ÁöÑËøõÁ®ãÊù•ÊâßË°åÔºåÊâßË°åÂÆåÊàêÂêéÂÜçÈÄÄÂá∫„ÄÇËÄåÊâßË°åÂÜÖÂª∫ÂëΩ‰ª§Áõ∏ÂΩì‰∫éË∞ÉÁî®ÂΩìÂâçShellËøõÁ®ãÁöÑ‰∏Ä‰∏™ÂáΩÊï∞„ÄÇ üëπÂèØÈÄöËøá type ÂëΩ‰ª§Âà§Êñ≠‰∏Ä‰∏™ÂëΩ‰ª§ÊòØ‰ºöÂê¶ÊòØÂÜÖÂª∫ÂëΩ‰ª§ shellÁºñÁ®ãÂ∏∏Áî®ÂÜÖÂª∫ÂëΩ‰ª§ 1„ÄÅÂ£∞ÊòéÂèòÈáèÔºödeclare„ÄÅtypesetËøô‰∏§‰∏™ÂëΩ‰ª§ÈÉΩÊòØÁî®Êù•Â£∞ÊòéÂèòÈáèÁöÑÔºå‰ΩúÁî®ÂÆåÂÖ®Áõ∏Âêå,ShellÂèàË¢´Áß∞‰∏∫Âº±Á±ªÂûãÁºñÁ®ãËØ≠Ë®ÄÔºåÂ£∞ÊòéÂèòÈáèÊó∂Âπ∂‰∏çÈúÄË¶ÅÊåáÊòéÁ±ªÂûã„ÄÇ‰ΩøÁî®-rÂ£∞ÊòéÂèòÈáè‰∏∫Âè™ËØª 2„ÄÅÊâìÂç∞Â≠óÁ¨¶Ôºö echo 3„ÄÅË∑≥Âá∫Âæ™ÁéØÔºöbreak ‰ªé‰∏Ä‰∏™Âæ™ÁéØÔºàfor„ÄÅwhile„ÄÅuntilÊàñËÄÖselectÔºâ‰∏≠ÈÄÄÂá∫„ÄÇbreakÂêéÂèØ‰ª•Ë∑ü‰∏Ä‰∏™Êï∞Â≠ónÔºå‰ª£Ë°®Ë∑≥Âá∫nÂ±ÇÂæ™ÁéØÔºånÂøÖÈ°ªÂ§ß‰∫é1ÔºåÂ¶ÇÊûúnÊØîÂΩìÂâçÂæ™ÁéØÂ±ÇÊï∞ËøòË¶ÅÂ§ßÔºåÂàôË∑≥Âá∫ÊâÄÊúâÂæ™ÁéØ„ÄÇ 4„ÄÅÂæ™ÁéØÊéßÂà∂ÔºöcontinueÂÅúÊ≠¢ÂΩìÂâçÂæ™ÁéØÔºåÂπ∂ÊâßË°åÂ§ñÂ±ÇÂæ™ÁéØÔºàfor„ÄÅwhile„ÄÅuntilÊàñËÄÖselectÔºâÁöÑ‰∏ã‰∏ÄÊ¨°Âæ™ÁéØ„ÄÇcontinueÂêéÂèØ‰ª•Ë∑ü‰∏ä‰∏Ä‰∏™Êï∞Â≠ónÔºå‰ª£Ë°®Ë∑≥Ëá≥Â§ñÈÉ®Á¨¨nÂ±ÇÂæ™ÁéØ„ÄÇnÂøÖÈ°ªÂ§ß‰∫é1ÔºåÂ¶ÇÊûúnÊØîÂΩìÂâçÂæ™ÁéØÂ±ÇÊï∞ËøòË¶ÅÂ§ßÔºåÂ∞ÜË∑≥Ëá≥ÊúÄÂ§ñÂ±ÇÁöÑÂæ™ÁéØ 5„ÄÅÊâßË°åÂëΩ‰ª§Êù•Âèñ‰ª£ÂΩìÂâçshellÔºöexecÂÜÖÂª∫ÂëΩ‰ª§execÂπ∂‰∏çÂêØÂä®Êñ∞ÁöÑShellÔºåËÄåÊòØÁî®Ë¶ÅË¢´ÊâßË°åÁöÑÂëΩ‰ª§ÊõøÊç¢ÂΩìÂâçÁöÑShellËøõÁ®ãÔºåÂπ∂‰∏îÂ∞ÜËÄÅËøõÁ®ãÁöÑÁéØÂ¢ÉÊ∏ÖÁêÜÊéâÔºåËÄå‰∏îexecÂëΩ‰ª§ÂêéÁöÑÂÖ∂‰ªñÂëΩ‰ª§Â∞Ü‰∏çÂÜçÊâßË°å„ÄÇ 6„ÄÅÈÄÄÂá∫shellÔºöexitÂú®ÂΩìÂâçShell‰∏≠Áõ¥Êé•ËøêË°åËØ•ÂëΩ‰ª§ÁöÑÂêéÊûúÊòØÈÄÄÂá∫Êú¨Ê¨°ÁôªÂΩï„ÄÇÂú®ShellËÑöÊú¨‰∏≠‰ΩøÁî®exit‰ª£Ë°®ÈÄÄÂá∫ÂΩìÂâçËÑöÊú¨„ÄÇËØ•ÂëΩ‰ª§ÂèØ‰ª•Êé•ÂèóÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™Áä∂ÊÄÅÂÄºnÔºå‰ª£Ë°®ÈÄÄÂá∫ÁöÑÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÈªòËÆ§Áä∂ÊÄÅÂÄºÊòØ0„ÄÇ 7„ÄÅÂ£∞ÊòéÂÖ®Â±ÄÂèòÈáèÔºöexportÁî®Êà∑ÁôªÂΩïÂà∞Á≥ªÁªüÂêéÔºåÁ≥ªÁªüÂ∞ÜÂêØÂä®‰∏Ä‰∏™ShellÔºåÁî®Êà∑ÂèØ‰ª•Âú®ËØ•Shell‰∏≠Â£∞ÊòéÂèòÈáèÔºå‰πüÂèØ‰ª•ÂàõÂª∫Âπ∂ËøêË°åShellËÑöÊú¨ÔºåÈÄöÂ∏∏ÔºåÂ¶ÇÊûúËØ¥ÁôªÂΩïÊó∂ÁöÑShellÊòØÁà∂ShellÔºåÂàôÂú®ËØ•Shell‰∏≠ËøêË°åÁöÑShellÊòØËØ•ShellÁöÑÂ≠êShell„ÄÇÂΩìÂ≠êShellËøêË°åÂÆåÊØïÂêéÔºåÂ∞ÜËøîÂõûÊâßË°åËØ•ËÑöÊú¨ÁöÑÁà∂Shell„ÄÇ‰ªéËøôÁßçÊÑè‰πâ‰∏äÊù•ËØ¥ÔºåÁî®Êà∑ÂèØ‰ª•ÊúâËÆ∏Â§öShellÔºåÊØè‰∏™ShellÈÉΩÊòØÁî±Áà∂ShellÂàõÂª∫ÁöÑ„ÄÇ Âú®Áà∂Shell‰∏≠ÂàõÂª∫ÂèòÈáèÊó∂ÔºåËøô‰∫õÂèòÈáèÂπ∂‰∏ç‰ºöË¢´ÂÖ∂Â≠êShellËøõÁ®ãÊâÄÁü•Ôºå‰πüÂ∞±ÊòØËØ¥ÂèòÈáèÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØ‚ÄúÁßÅÊúâ‚ÄùÁöÑÔºåÊàñÁß∞‚ÄúÂ±ÄÈÉ®ÂèòÈáè‚Äù„ÄÇ‰ΩøÁî®exportÂëΩ‰ª§ÂèØ‰ª•Â∞ÜÂèòÈáèÂØºÂá∫Ôºå‰ΩøÂæóËØ•ShellÁöÑÂ≠êShellÈÉΩÂèØ‰ª•‰ΩøÁî®ËØ•ÂèòÈáèÔºåËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ÂèòÈáèËæìÂá∫„ÄÇ Âç≥‰æøÂ≠êShellÁ°ÆÂÆûËØªÂèñÂà∞‰∫ÜÁà∂Shell‰∏≠ÂèòÈáèvarÁöÑÂÄºÔºå‰πüÂè™ÊòØÂÄºÁöÑ‰º†ÈÄíÔºåÂ¶ÇÊûúÂú®Â≠êShell‰∏≠Â∞ùËØïÊîπÂèòvarÁöÑÂÄºÔºåÊîπÂèòÁöÑÂè™ÊòØvarÂú®Â≠êShell‰∏≠ÁöÑÂÄºÔºåÁà∂Shell‰∏≠ÁöÑËØ•ÂÄºÂπ∂‰∏ç‰ºöÂõ†Ê≠§ÂèóÂà∞ÂΩ±Âìç 8„ÄÅÁªàÊ≠¢ËøõÁ®ãÔºökillLinuxÊìç‰ΩúÁ≥ªÁªüÂåÖÊã¨3Áßç‰∏çÂêåÁ±ªÂûãÁöÑËøõÁ®ãÔºåÁ¨¨‰∏ÄÁßçÊòØ‰∫§‰∫íËøõÁ®ãÔºåËøôÊòØÁî±‰∏Ä‰∏™ShellÂêØÂä®ÁöÑËøõÁ®ãÔºåÊó¢ÂèØ‰ª•Âú®ÂâçÂè∞ËøêË°åÔºå‰πüÂèØ‰ª•Âú®ÂêéÂè∞ËøêË°åÔºõÁ¨¨‰∫åÁßçÊòØÊâπÂ§ÑÁêÜËøõÁ®ãÔºå‰∏éÁªàÁ´ØÊ≤°ÊúâËÅîÁ≥ªÔºåÊòØ‰∏Ä‰∏™ËøõÁ®ãÂ∫èÂàóÔºõÁ¨¨‰∏âÁßçÊòØÁõëÊéßËøõÁ®ãÔºå‰πüÁß∞Á≥ªÁªüÂÆàÊä§ËøõÁ®ãÔºåÂÆÉ‰ª¨ÂæÄÂæÄÂú®Á≥ªÁªüÂêØÂä®Êó∂ÂêØÂä®ÔºåÂπ∂‰øùÊåÅÂú®ÂêéÂè∞ËøêË°å„ÄÇ killÂëΩ‰ª§Áî®Êù•ÁªàÊ≠¢ËøõÁ®ãÔºåÂÖ∂Â∑•‰ΩúÁöÑÂéüÁêÜÊòØÂêëÁ≥ªÁªüÁöÑÂÜÖÊ†∏ÂèëÈÄÅ‰∏Ä‰∏™Á≥ªÁªüÊìç‰Ωú‰ø°Âè∑ÂíåÊüê‰∏™Á®ãÂ∫èÁöÑËøõÁ®ãÊ†áËØÜÂè∑ÔºåÁÑ∂ÂêéÁ≥ªÁªüÂÜÖÊ†∏Â∞±ÂèØ‰ª•ÂØπËøõÁ®ãÊ†áËØÜÂè∑ÊåáÂÆöÁöÑËøõÁ®ãËøõË°åÊìç‰Ωú„ÄÇ 9„ÄÅÊï¥Êï∞ËøêÁÆóÔºöletletÊòØshellÂÜÖÂª∫ÁöÑÊï¥Êï∞ËøêÁÆóÂëΩ‰ª§ 1let I=2+2 ----&gt;I=4let L=15/7 ---&gt;L=2ÔºàÊï¥Êï∞ËÆ°ÁÆóÔºåÊâÄ‰ª•ËÆ°ÁÆóÁªìÊûú‰πüÊòØÊï¥Êï∞Ôºâ#let‰πüÊîØÊåÅÁ±ªCÁöÑËÆ°ÁÆóÊñπÂºèlet i++ ÔºàiËá™Â¢û1Ôºâlet i-- ÔºàiËá™Âáè1Ôºâlet i+=10 ÔºàiÂÄºÁ≠â‰∫éiÂ¢ûÂä†10Ôºâ 10„ÄÅÂ£∞ÊòéÂ±ÄÈÉ®ÂèòÈáèÔºölocalËØ•ÂëΩ‰ª§Áî®‰∫éÂú®ËÑöÊú¨‰∏≠Â£∞ÊòéÂ±ÄÈÉ®ÂèòÈáèÔºåÂÖ∏ÂûãÁöÑÁî®Ê≥ïÊòØÁî®‰∫éÂáΩÊï∞‰ΩìÂÜÖÔºåÂÖ∂‰ΩúÁî®Âüü‰πüÂú®Â£∞ÊòéËØ•ÂèòÈáèÁöÑÂáΩÊï∞‰Ωì‰∏≠„ÄÇÂ¶ÇÊûúËØïÂõæÂú®ÂáΩÊï∞Â§ñ‰ΩøÁî®localÂ£∞ÊòéÂèòÈáèÔºåÂàô‰ºöÊèêÁ§∫ÈîôËØØ„ÄÇ 11„ÄÅ‰ªéÊ†áÂáÜËæìÂÖ•ËØªÂèñ‰∏ÄË°åÂà∞ÂèòÈáè ÔºöreadÂºÄÂèëÁöÑËÑöÊú¨ÂøÖÈ°ªÂÖ∑Êúâ‰∫§‰∫íÊÄßÔºå‰πüÂ∞±ÊòØÂú®ËøêË°åËøáÁ®ã‰∏≠‰æùËµñ‰∫∫Â∑•ËæìÂÖ•ÊâçËÉΩÁªßÁª≠„ÄÇreadÊòØÊåâË°åËØªÂèñÁöÑÔºåÁî®ÂõûËΩ¶Á¨¶Âå∫ÂàÜ‰∏ÄË°å 12#Ê†πÊçÆËæìÂÖ•ÁöÑÁÆ±Êï∞ËÆ°ÁÆó‰∏ÄÂÖ±ÊúâÂ§öÂ∞ëÁì∂Âï§ÈÖí[root@localhost ~]# cat read.sh#!/bin/bashdeclare Necho &quot;12 bottles of beer in a box&quot;echo-n &quot;How many box do you want:&quot;read Necho &quot;$((N*12)) bottle in total&quot;#ËøêË°åÊïàÊûú[root@localhost ~]# bash read.sh12 bottles of beer in a boxHow many box do you want:10 #ËøôÈáåËæìÂÖ•Êï∞Â≠ó120 bottle in total#read‰ΩøÁî®-pÂèÇÊï∞ÁÆÄÂåñÂêéÁöÑ‰ª£Á†Åread-p &quot;How many box do you want:&quot; N 12„ÄÅÂÆö‰πâÂáΩÊï∞ËøîÂõûÂÄºÔºö returnÂÖ∏ÂûãÁöÑÁî®‰∫éÂáΩÊï∞‰∏≠ÔºåÂ∏∏ËßÅÁî®Ê≥ïÊòØreturn nÔºåÂÖ∂‰∏≠nÊòØ‰∏Ä‰∏™ÊåáÂÆöÁöÑÊï∞Â≠óÔºå‰ΩøÂáΩÊï∞‰ª•ÊåáÂÆöÂÄºÈÄÄÂá∫„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆönÂÄºÔºåÂàôËøîÂõûÁä∂ÊÄÅÊòØÂáΩÊï∞‰Ωì‰∏≠ÊâßË°åÁöÑÊúÄÂêé‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÈÄÄÂá∫Áä∂ÊÄÅ„ÄÇ 13„ÄÅ*ÂêëÂ∑¶ÁßªÂä®‰ΩçÁΩÆÂèÇÊï∞ÔºöshiftÊÉ≥ÊêûÊ∏ÖÊ•öshiftÁöÑÁî®Ê≥ïÔºåÈ¶ñÂÖàÈúÄË¶Å‰∫ÜËß£ËÑöÊú¨‚Äú‰ΩçÁΩÆÂèÇÊï∞‚ÄùÁöÑÊ¶ÇÂøµ„ÄÇÂÅáËÆæ‰∏Ä‰∏™ËÑöÊú¨Âú®ËøêË°åÊó∂ÂèØ‰ª•Êé•ÂèóÂèÇÊï∞ÔºåÈÇ£‰πà‰ªéÂ∑¶Âà∞Âè≥Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë¢´ËÆ∞‰Ωú$1ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫$2Ôºå‰ª•Ê≠§Á±ªÊé®ÔºåÁ¨¨n‰∏™ÂèÇÊï∞‰∏∫$N„ÄÇÊâÄÊúâÂèÇÊï∞ËÆ∞‰Ωú$@Êàñ$*ÔºåÂèÇÊï∞ÁöÑÊÄª‰∏™Êï∞ËÆ∞‰Ωú$#ÔºåËÄåËÑöÊú¨Êú¨Ë∫´ËÆ∞‰Ωú$0„ÄÇ shiftÂëΩ‰ª§ÂèØ‰ª•ÂØπËÑöÊú¨ÁöÑÂèÇÊï∞ÂÅö‚ÄúÂÅèÁßª‚ÄùÊìç‰Ωú„ÄÇÂÅáËÆæËÑöÊú¨ÊúâA„ÄÅB„ÄÅCËøô3‰∏™ÂèÇÊï∞ÔºåÈÇ£‰πà$1‰∏∫AÔºå$2‰∏∫BÔºå$3‰∏∫CÔºõshift‰∏ÄÊ¨°ÂêéÔºå$1‰∏∫BÔºå$2‰∏∫CÔºõÂÜçÊ¨°shiftÂêé$1‰∏∫C 14„ÄÅ*ÊòæÁ§∫Âπ∂ËÆæÁΩÆËøõÁ®ãËµÑÊ∫êÈôêÂ∫¶ÔºöulimitÁ≥ªÁªüÁöÑÂèØÁî®ËµÑÊ∫êÊòØÊúâÈôêÁöÑÔºåÂ¶ÇÊûú‰∏çÈôêÂà∂Áî®Êà∑ÂíåËøõÁ®ãÂØπÁ≥ªÁªüËµÑÊ∫êÁöÑ‰ΩøÁî®ÔºåÂàôÂæàÂÆπÊòìÈô∑ÂÖ•ËµÑÊ∫êËÄóÂ∞ΩÁöÑÂú∞Ê≠•ÔºåËÄå‰ΩøÁî®ulimitÂèØ‰ª•ÊéßÂà∂ËøõÁ®ãÂØπÂèØÁî®ËµÑÊ∫êÁöÑËÆøÈóÆ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãLinuxÁ≥ªÁªüÁöÑÂêÑ‰∏™ËµÑÊ∫êÈÉΩÂÅö‰∫ÜËΩØÁ°¨ÈôêÂà∂ÔºåÂÖ∂‰∏≠Á°¨ÈôêÂà∂ÁöÑ‰ΩúÁî®ÊòØÊéßÂà∂ËΩØÈôêÂà∂ÔºàÊç¢Ë®Ä‰πãÔºåËΩØÈôêÂà∂‰∏çËÉΩÈ´ò‰∫éÁ°¨ÈôêÂà∂Ôºâ„ÄÇ‰ΩøÁî®ulimit-aÂèØ‰ª•Êü•ÁúãÂΩìÂâçÁ≥ªÁªüÁöÑËΩØÈôêÂà∂Ôºà‰ΩøÁî®ÂëΩ‰ª§ulimit-a-HÂèØÊü•ÁúãÁ≥ªÁªüÁöÑÁ°¨ÈôêÂà∂Ôºâ„ÄÇ shellÁºñÁ®ãÂü∫Á°ÄÂèòÈáèÂèòÈáèÂ∞±ÊòØÂÖ∂ÂÄºÂèØ‰ª•ÂèòÂåñÁöÑÈáè„ÄÇ‰ªéÂèòÈáèÁöÑÂÆûË¥®Êù•ËØ¥ÔºåÂèòÈáèÂêçÊòØÊåáÂêë‰∏ÄÁâáÁî®‰∫éÂ≠òÂÇ®Êï∞ÊçÆÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂèòÈáèÊúâÂ±ÄÈÉ®ÂèòÈáè„ÄÅÁéØÂ¢ÉÂèòÈáè‰πãÂàÜ„ÄÇShellÂèòÈáèÊòØ‰∏ÄÁßçÂº±Á±ªÂûãÁöÑÂèòÈáèÔºå‰πüÂ∞±ÊòØËØ¥Âú®Â£∞ÊòéÂèòÈáèÊó∂Âπ∂‰∏çÈúÄË¶ÅÊåáÂÆöÂÖ∂ÂèòÈáèÁ±ªÂûã„ÄÇÂú®ËÑöÊú¨‰∏≠ÔºåÂæÄÂæÄÈúÄË¶Å‰ΩøÁî®ÂèòÈáèÊù•Â≠òÂÇ®ÊúâÁî®‰ø°ÊÅØÔºåÊØîÂ¶ÇÊñá‰ª∂Âêç„ÄÅË∑ØÂæÑÂêç„ÄÅÊï∞ÂÄºÁ≠âÔºåÈÄöËøáËøô‰∫õÂèòÈáèÂèØ‰ª•ÊéßÂà∂ËÑöÊú¨ÁöÑËøêË°åË°å‰∏∫„ÄÇ Â±ÄÈÉ®ÂèòÈáèÂ±ÄÈÉ®ÂèòÈáèÂ∞±ÊòØÊåáÂú®Êüê‰∏™Shell‰∏≠ÁîüÊïàÁöÑÂèòÈáèÔºåÂØπÂÖ∂‰ªñShellÊù•ËØ¥Êó†ÊïàÔºåËÄå‰∏î‰ºöÈöèÁùÄÂΩìÂâçShellÁöÑÊ∂àÂ§±ËÄåÊ∂àÂ§±ÔºåÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüË¢´ÈôêÂÆöÂú®Â£∞ÊòéÂÆÉ‰ª¨ÁöÑShell‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®localÂÜÖÂª∫ÂëΩ‰ª§Êù•‚ÄúÊòæÂºè‚ÄùÁöÑÂ£∞ÊòéÂ±ÄÈÉ®ÂèòÈáèÔºå‰ΩÜ‰ªÖÈôê‰∫éÂáΩÊï∞ÂÜÖ‰ΩøÁî®„ÄÇÊç¢Ë®Ä‰πãÔºåÊØè‰∏™ShellÈÉΩÊúâËá™Â∑±ÁöÑÂèòÈáèÁ©∫Èó¥ÔºåÂΩºÊ≠§‰∫í‰∏çÂΩ±Âìç„ÄÇËÄåÁéØÂ¢ÉÂèòÈáè‰∏ç‰ªÖ‰ªÖÊòØÂØπ‰∫éËØ•ShellÁîüÊïàÔºåÂØπÂÖ∂Â≠êShell‰πüÂêåÊ†∑ÁîüÊïà„ÄÇ ÁéØÂ¢ÉÂèòÈáèÁéØÂ¢ÉÂèòÈáèÈÄöÂ∏∏ÂèàÁß∞‚ÄúÂÖ®Â±ÄÂèòÈáè‚ÄùÔºå‰ª•Âå∫Âà´‰∫éÂ±ÄÈÉ®ÂèòÈáè„ÄÇÂú®ShellËÑöÊú¨‰∏≠ÔºåÂèòÈáèÈªòËÆ§Â∞±ÊòØÂÖ®Â±ÄÁöÑÔºåÊó†ËÆ∫Âú®ËÑöÊú¨ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÂ£∞ÊòéÔºå‰ΩÜÊòØ‰∏∫‰∫ÜËÆ©Â≠êShellÁªßÊâøÂΩìÂâçShellÁöÑÂèòÈáèÔºåÂàôÂèØ‰ª•‰ΩøÁî®exportÂÜÖÂª∫ÂëΩ‰ª§Â∞ÜÂÖ∂ÂØºÂá∫‰∏∫ÁéØÂ¢ÉÂèòÈáè„ÄÇ ÂèòÈáèËµãÂÄº‰∏éÂèñÂÄº1#ÂÆö‰πâÂèòÈáèÔºöÂèòÈáèÂêç=ÂèòÈáèÂÄº#Ê≥®ÊÑèÁÇπ‰∏ÄÔºöÂèòÈáèÂêçÂíåÂèòÈáèÂÄº‰πãÈó¥Áî®Á≠âÂè∑Á¥ßÁ¥ßÁõ∏ËøûÔºå‰πãÈó¥Ê≤°Êúâ‰ªª‰ΩïÁ©∫Ê†º[root@localhost ~]# name=john #ÂÆö‰πâÂèòÈáè#Â¶ÇÊûú‰∏çÊ≥®ÊÑèÔºåÁ≠âÂè∑‰ªª‰Ωï‰∏ÄËæπÂá∫Áé∞Á©∫Ê†ºÂ∞±‰ºöÂá∫Èîô[root@localhost ~]# name = john-bash: name: command not found[root@localhost ~]# name=&quot;john&quot; #ËøôÊ†∑‰πüÊòØÂèØ‰ª•ÁöÑ#Ê≥®ÊÑèÁÇπ‰∫åÔºöÂΩìÂèòÈáè‰∏≠ÊúâÁ©∫Ê†ºÊó∂ÂøÖÈ°ªÁî®ÂºïÂè∑Êã¨Ëµ∑ÔºåÂê¶Âàô‰ºöÂá∫Áé∞ÈîôËØØ#ÂÖ∂‰∏≠ÁöÑÂºïÂè∑ÂèØ‰ª•ÊòØÂèåÂºïÂè∑Ôºå‰πüÂèØ‰ª•ÊòØÂçïÂºïÂè∑[root@localhost ~]# name=&quot;john wang&quot;#[root@localhost ~]# name=john wang#-bash: wang: command not found ‚õëÊ≥®ÊÑèÁÇπÔºöÂΩìÂèòÈáè‰∏≠ÊúâÁ©∫Ê†ºÊó∂ÂøÖÈ°ªÁî®ÂºïÂè∑Êã¨Ëµ∑ÔºåÂê¶Âàô‰ºöÂá∫Áé∞ÈîôËØØ,ÂºïÂè∑ÂèØ‰ª•ÊòØÂèåÂºïÂè∑Ôºå‰πüÂèØ‰ª•ÊòØÂçïÂºïÂè∑ ÂèòÈáèÁöÑÂèñÂÄº‰πüÂæàÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®ÂèòÈáèÂêçÂâçÂä†‰∏ä$Á¨¶Âè∑Êó¢ÂèØÔºå‰∏•Ë∞®‰∏ÄÁÇπÁöÑÂÜôÊ≥ïÊòØ${} 1#‰ΩøÁî®$&#123;&#125;Ëé∑ÂèñÂèòÈáèÂÄºÊòØ‰∏ÄÁßçÁõ∏ÂØπÊØîËæÉ‰øùÈô©ÁöÑÊñπÂºè[root@localhost ~]# name=&quot;sue &quot;#ËøôÈáåÊú¨ÊòØÊÉ≥ÊâìÂç∞ÂêçÂ≠óÔºåÂêéÈù¢Ë∑üHelloÁöÑÔºå‰ΩÜShellËØïÂõæÂ∞ÜnameHelloËß£Èáä‰∏∫‰∏Ä‰∏™ÂèòÈáè„ÄÇ#‰ªéShellËØ≠Ê≥ïÊù•ËØ¥Ôºå‰πüÁ°ÆÂÆûÂ∫îËØ•Â∞ÜnameHelloËß£Èáä‰∏∫ÂèòÈáè[root@localhost ~]# echo $nameHello #Âõ†‰∏∫ÂèòÈáènameHelloÊú™Â£∞ÊòéÔºåÊâÄ‰ª•ÂÄº‰∏∫Á©∫[root@localhost ~]# echo $&#123;name&#125;Hellosue Hello#Ê≥®ÊÑèÁÇπ‰∏âÔºöÂ¶ÇÊûúÂèòÈáèÂÄºÂºïÁî®ÁöÑÊòØÂÖ∂‰ªñÂèòÈáèÔºåÂàôÂøÖÈ°ª‰ΩøÁî®ÂèåÂºïÂè∑„ÄÇÂõ†‰∏∫ÂçïÂºïÂè∑‰ºöÈòªÊ≠¢ShellËß£ÈáäÁâπÊÆäÂ≠óÁ¨¶$[root@localhost ~]# name=john[root@localhost ~]# name1=&quot;$name&quot;[root@localhost ~]# echo $name1john[root@localhost ~]# name1=&apos;$name&apos;[root@localhost ~]# echo $name1$name ‚õëÊ≥®ÊÑèÁÇπÔºöÂ¶ÇÊûúÂèòÈáèÂÄºÂºïÁî®ÁöÑÊòØÂÖ∂‰ªñÂèòÈáèÔºåÂàôÂøÖÈ°ª‰ΩøÁî®ÂèåÂºïÂè∑„ÄÇÂõ†‰∏∫ÂçïÂºïÂè∑‰ºöÈòªÊ≠¢ShellËß£ÈáäÁâπÊÆäÂ≠óÁ¨¶$ ÂèñÊ∂àÂèòÈáèÂèñÊ∂àÂèòÈáèÊåáÁöÑÊòØÂ∞ÜÂèòÈáè‰ªéÂÜÖÂ≠ò‰∏≠ÈáäÊîæÔºå‰ΩøÁî®ÁöÑÂëΩ‰ª§ÊòØunsetÔºåÂêéÈù¢Ë∑üÂèòÈáèÂêç„ÄÇÂáΩÊï∞‰πüÊòØÂèØ‰ª•Ë¢´ÂèñÊ∂àÁöÑÔºåÊâÄ‰ª•unsetÂêéÈù¢ËøòÂèØ‰ª•Ë∑ü‰∏äÂáΩÊï∞Âêç‰ª•ÂèñÊ∂àÂáΩÊï∞„ÄÇ ‰ΩçÁΩÆÂèÇÊï∞Shell‰∏≠ËøòÊúâ‰∏Ä‰∫õÈ¢ÑÂÖàÂÆö‰πâÁöÑÁâπÊÆäÂè™ËØªÂèòÈáèÔºåÂÆÉ‰ª¨ÁöÑÂÄºÂè™ÊúâÂú®ËÑöÊú¨ËøêË°åÊó∂ÊâçËÉΩÁ°ÆÂÆö„ÄÇÈ¶ñÂÖàÊòØ‚Äú‰ΩçÁΩÆÂèÇÊï∞‚ÄùÔºå‰ΩçÁΩÆÂèÇÊï∞ÁöÑÂëΩÂêçÁÆÄÂçïÁõ¥Êé•ÔºåÊØîÂ¶ÇÔºåËÑöÊú¨Êú¨Ë∫´‰∏∫$0ÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫$1ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫$2ÔºåÁ¨¨‰∏â‰∏™‰∏∫$3Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇÂΩì‰ΩçÁΩÆÂèÇÊï∞ÁöÑ‰∏™Êï∞Â§ß‰∫é9Êó∂ÔºåÈúÄË¶ÅÁî®${}Êã¨Ëµ∑Êù•Ê†áËØÜÔºåÊØîÂ¶ÇËØ¥Á¨¨10‰∏™‰ΩçÁΩÆÂèÇÊï∞Â∫îËØ•ËÆ∞‰∏∫${10}„ÄÇÂè¶Â§ñÔºå$#Ë°®Á§∫ËÑöÊú¨ÂèÇÊï∞ÁöÑ‰∏™Êï∞ÊÄªÂíåÔºå$@Êàñ$*Ë°®Á§∫ËÑöÊú¨ÁöÑÊâÄÊúâÂèÇÊï∞„ÄÇËÑöÊú¨ÊàñÂëΩ‰ª§ËøîÂõûÂÄºÔºö$? 1[root@localhost ~]# cat posion.sh#!/bin/bashecho &quot;This script&apos;s name is: $0&quot;echo &quot;$# parameters in total&quot;echo &quot;All parameters list as: $@&quot;echo &quot;The first parameter is $1&quot;echo &quot;The second parameter is $2&quot;echo &quot;The third parameter is $3&quot;[root@localhost ~]# bash posion.sh para1 para2 para3This script&apos;s name is: posion.sh3 parameters in totalAll parameters list as: para1 para2 para3The first parameter is para1The second parameter is para2The third parameter is para3 Linux‰∏≠ËßÑÂÆöÊ≠£Â∏∏ÈÄÄÂá∫ÁöÑÂëΩ‰ª§ÂíåËÑöÊú¨Â∫îËØ•‰ª•0‰Ωú‰∏∫ÂÖ∂ËøîÂõûÂÄºÔºå‰ªª‰ΩïÈùû0ÁöÑËøîÂõûÂÄºÈÉΩË°®Á§∫ÂëΩ‰ª§Êú™Ê≠£Á°ÆÈÄÄÂá∫ÊàñÊú™Ê≠£Â∏∏ÊâßË°å„ÄÇ $?Ê∞∏ËøúÊòØ‰∏ä‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑËøîÂõûÂÄºÔºåÊâÄ‰ª•Ë¶ÅÊü•ÁúãÊüê‰∏™ÂëΩ‰ª§ÁöÑËøîÂõûÂÄºÂøÖÈ°ªÂú®ËøêË°åËØ•ÂëΩ‰ª§ÂêéÁ´ãÂç≥Êü•Áúã$? Êï∞ÁªÑShell‰∏≠ÁöÑÊï∞ÁªÑÂØπÂÖÉÁ¥†‰∏™Êï∞Ê≤°ÊúâÈôêÂà∂Ôºå‰ΩÜÂè™ÊîØÊåÅ‰∏ÄÁª¥Êï∞ÁªÑÔºåËøô‰∏ÄÁÇπÂíåÂæàÂ§öËØ≠Ë®Ä‰∏çÂêå„ÄÇ Êìç‰ΩúÂ∞±ÊòØÊï∞ÁªÑÂèñÂÄºÔºåÂÖ∂Ê†ºÂºè‰∏∫Ôºö${Êï∞ÁªÑÂêç[Á¥¢Âºï]} ${Array[@]}ÂæóÂà∞ÁöÑÊòØ‰ª•Á©∫Ê†ºÈöîÂºÄÁöÑÂÖÉÁ¥†ÂÄºÔºåËÄå${Array[*]}ÁöÑËæìÂá∫ÊòØ‰∏ÄÊï¥‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ Âè™ËØªÂèòÈáèÂè™ËØªÂèòÈáèÂèàÁß∞Â∏∏ÈáèÔºåÊòØÈÄöËøáreadonlyÂÜÖÂª∫ÂëΩ‰ª§ÂàõÂª∫ÁöÑÂèòÈáè„ÄÇËøôÁßçÂèòÈáèÂú®Â£∞ÊòéÊó∂Â∞±Ë¶ÅÊ±ÇËµãÂÄºÔºåÂπ∂‰∏î‰πãÂêéÊó†Ê≥ï‰øÆÊîπÔºåËøôÂíå‰πãÂâçËÆ≤Âà∞ÁöÑ‰ΩøÁî®declare-rÂ£∞ÊòéÂè™ËØªÂèòÈáèÁöÑÊïàÊûúÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÂèàÂè´‚ÄúÂëΩÂêçÁ©∫Èó¥‚ÄùÔºåË°®Á§∫ÂèòÈáèÔºàidentifierÔºåÊ†áËØÜÁ¨¶ÔºâÁöÑ‰∏ä‰∏ãÊñá„ÄÇÁõ∏ÂêåÁöÑÂèòÈáèÂèØ‰ª•Âú®Â§ö‰∏™ÂëΩÂêçÁ©∫Èó¥‰∏≠ÂÆö‰πâÔºåÂπ∂‰∏îÂΩºÊ≠§‰πãÈó¥‰∫í‰∏çÂπ≤Ê∂âÔºåÊâÄ‰ª•Âú®‰∏Ä‰∏™Êñ∞ÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÂèØ‰ª•Ëá™ÂÆö‰πâ‰ªª‰ΩïÂèòÈáèÔºåÂõ†‰∏∫ÊâÄÂÆö‰πâÁöÑÂèòÈáèÈÉΩÂè™Âú®ÂêÑËá™ÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠„ÄÇÂú®LinuxÁ≥ªÁªü‰∏≠Ôºå‰∏çÂêåËøõÁ®ãIDÁöÑShellÈªòËÆ§‰∏∫‰∏Ä‰∏™‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥„ÄÇ ShellÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÊòØÂú®Êú¨ShellÂÜÖÔºåÂ±û‰∫éÊú¨ShellÁöÑÂÖ®Â±ÄÂèòÈáèÔºå‰πüÂ∞±ÊòØ‰ªéÂÆö‰πâËØ•ÂèòÈáèÁöÑÂú∞ÊñπÂºÄÂßãÂà∞ShellÁªìÊùüÔºåÊàñÂà∞‰∏ªÂä®‰ΩøÁî®unsetÂà†Èô§‰∫ÜËØ•ÂèòÈáèÁöÑÂú∞Êñπ‰∏∫Ê≠¢„ÄÇÂú®ÂèòÈáèÁöÑ‰ΩúÁî®ÂüüÂÜÖÔºåËØ•ÂèòÈáèÈÉΩÊòØÂèØËßÅÁöÑÔºåÂú®ÂáΩÊï∞ÂÜÖÂØπÂèòÈáè‰πüÊòØÂèØ‰ª•ËÆøÈóÆ„ÄÅÂèØ‰øÆÊîπÁöÑÔºå ShellÈªòËÆ§‰ª•ShellÁöÑËøõÁ®ãID‰Ωú‰∏∫‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥ÔºåÊâÄ‰ª•Âç≥‰æøÊòØÂú®ÂáΩÊï∞‰∏≠Â£∞ÊòéÂèòÈáèÔºåËØ•ÂèòÈáè‰πü‰ºöÂú®ÂÖ®Â±ÄÁîüÊïàÔºå‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÈóÆÈ¢òÔºåÂú®ÂáΩÊï∞ÂÜÖÈÉ®Â£∞ÊòéÁöÑ‰∏¥Êó∂ÂèòÈáèÈúÄË¶ÅÁî®localÊåáÂÆöÂÖ∂‰∏∫Âè™Âú®ÂáΩÊï∞ÂÜÖÁîüÊïàÁöÑ‚ÄúÂ±ÄÈÉ®ÂèòÈáè‚ÄùÔºåËøôÊ†∑Ëøô‰∫õÂèòÈáèÂ∞ÜÂè™Â≠òÂú®‰∫éÂ±ÄÈÉ®ÁöÑÂëΩÂêçÁ©∫Èó¥ÂÜÖÔºå‰ªéËÄå‰∏ç‰ºöÂØπÂÖ®Â±ÄÂèòÈáèÊúâÂΩ±Âìç„ÄÇ ËΩ¨‰πâÂíåÂºïÁî®üì∏ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅËøõË°åËΩ¨‰πâ‰∏éÂºïÁî®Ôºü Shell‰∏≠Êúâ‰∏§Á±ªÂ≠óÁ¨¶Ôºå‰∏ÄÁ±ªÊòØÊôÆÈÄöÂ≠óÁ¨¶ÔºåÂú®Shell‰∏≠Èô§‰∫ÜÊú¨Ë∫´ÁöÑÂ≠óÈù¢ÊÑèÊÄùÂ§ñÊ≤°ÊúâÂÖ∂‰ªñÁâπÊÆäÊÑè‰πâÔºåÂç≥ÊôÆÈÄöÁ∫ØÊñáÊú¨ÔºàliteralÔºâÔºõÂè¶‰∏ÄÁ±ªÂç≥ÂÖÉÂ≠óÁ¨¶ÔºàmetaÔºâÔºåÊòØShellÁöÑ‰øùÁïôÂ≠óÁ¨¶ÔºåÂú®Shell‰∏≠ÊúâÁùÄÁâπÊÆäÊÑè‰πâ„ÄÇ‰∏∫‰∫ÜÊ∂àÈô§Ëøô‰∫õÁâπÊÆäÂ≠óÁ¨¶ÁöÑÂäüËÉΩÔºåÂ∞±ÂøÖÈ°ªÂØπÂÖ∂ËøõË°åËΩ¨‰πâÂíåÂºïÁî®„ÄÇ üê≥ ËΩ¨‰πâËΩ¨‰πâÊòØÊåá‰ΩøÁî®ËΩ¨‰πâÁ¨¶ÂºïÁî®Âçï‰∏™Â≠óÁ¨¶Ôºå‰ªéËÄå‰ΩøÂÖ∂Ë°®ËææÂçïÁ∫ØÁöÑÂ≠óÁ¨¶ÁöÑÂ≠óÈù¢Âê´‰πâ„ÄÇShell‰∏≠ÁöÑËΩ¨‰πâÁ¨¶ÊòØÂèçÊñúÁ∫ø‚Äú\‚ÄùÔºå‰ΩøÁî®ËΩ¨‰πâÁ¨¶ÁöÑÁõÆÁöÑÊòØ‰Ωø‰πâÁ¨¶ÂêéÈù¢ÁöÑÂ≠óÁ¨¶ÂçïÁ∫ØÂú∞‰Ωú‰∏∫Â≠óÁ¨¶Âá∫Áé∞ÔºåËÄå‰∏çËß£ÈáäÂÖ∂ÁâπÊÆäÁöÑÂê´‰πâ„ÄÇ 1#ËØïÂõæÊâìÂç∞‚Äú$Dollar‚ÄùÂ≠óÁ¨¶‰∏≤ÁöÑÈîôËØØÊºîÁ§∫[root@localhost ~]# echo $Dollar ---&gt; Ê≠§Â§ÑÊâìÂç∞‰∏∫Á©∫ÔºåÂõ†‰∏∫ShellÂ∞ùËØïÊâìÂç∞Âá∫ÂèòÈáèDollarÁöÑÂÄºÔºå‰ΩÜÊòØËøô‰∏™ÂèòÈáèÂπ∂Ê≤°ÊúâÂ£∞ÊòéÔºåÊâÄ‰ª•ÊâìÂç∞Á©∫Ë°å#‰ΩøÁî®ËΩ¨‰πâÂ≠óÁ¨¶ËΩ¨‰πâ$Â≠óÁ¨¶[root@localhost ~]# echo \$Dollar$Dollar#Êõ¥Â§öÁöÑ‰æãÂ≠ê#ÊâìÂç∞‰πòÂè∑„ÄÇÂ¶ÇÊûú‰∏çÁî®ËΩ¨‰πâÁ¨¶ËΩ¨‰πâ*Âè∑ÔºåÂàô*Âè∑‰ºö‰Ωú‰∏∫‰∏ÄËà¨ÁöÑÈÄöÈÖçÁ¨¶‰ΩøÁî®ÔºåÁªìÊûúÊòØÂ∞ÜÂ∑•‰ΩúÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâÁõÆÂΩïÂíåÊñá‰ª∂ÂêçÊõøÊç¢ÂÆÉ[root@localhost ~]# echo 8 \* 8 =648 * 8 =64#Âè•Â≠ê‰∏≠Âê´ÊúâÂºïÂè∑„ÄÇÂ¶ÇÊûú‰∏çÁî®ËΩ¨‰πâÁ¨¶ËΩ¨‰πâ&apos;ÂçïÂºïÂè∑ÔºåÂàôShell‰ºöÁ≠âÂæÖÂá∫Áé∞Âè¶‰∏Ä‰∏™ÂçïÂºïÂè∑ÊâçËÉΩÁªìÊùüechoËøõÁ®ã[root@localhost ~]# echo john\&apos;s catjohn&apos;s cat üöôÂºïÁî®ÂºïÁî®ÊòØÊåáÂ∞ÜÂ≠óÁ¨¶‰∏≤Áî®ÊüêÁßçÁ¨¶Âè∑Êã¨Ëµ∑Êù•Ôºå‰ª•Èò≤Ê≠¢ÁâπÊÆäÂ≠óÁ¨¶Ë¢´Ëß£Êûê‰∏∫ÂÖ∂‰ªñÊÑèÊÄù„ÄÇËΩ¨‰πâÁ¨¶‰πüÊòØ‰∏ÄÁßçÂºïÁî®„ÄÇShell‰∏≠‰∏ÄÂÖ±Êúâ4ÁßçÂºïÁî®Á¨¶ÔºåÂàÜÂà´ÊòØÂèåÂºïÂè∑„ÄÅÂçïÂºïÂè∑„ÄÅÂèçÂºïÂè∑ÔºàÂú®ÈîÆÁõò‰∏äÂíåÊ≥¢Êµ™Âè∑‰Ωç‰∫éÂêå‰∏Ä‰∏™ÈîÆÔºâÂíåËΩ¨‰πâÁ¨¶„ÄÇÂÖ∂‰∏≠ÂèåÂºïÂè∑ÂèàÂè´‚ÄúÈÉ®ÂàÜÂºïÁî®‚ÄùÊàñ‚ÄúÂº±ÂºïÁî®‚ÄùÔºåÂèØ‰ª•ÂºïÁî®Èô§$Á¨¶„ÄÅÂèçÂºïÂè∑„ÄÅËΩ¨‰πâÁ¨¶‰πãÂ§ñÁöÑÊâÄÊúâÂ≠óÁ¨¶ÔºõÂçïÂºïÂè∑ÂèàÂè´‚ÄúÂÖ®ÂºïÁî®‚ÄùÊàñ‚ÄúÂº∫ÂºïÁî®‚ÄùÔºåÂèØ‰ª•ÂºïÁî®ÊâÄÊúâÂ≠óÁ¨¶ÔºõÂèçÂºïÂè∑Âàô‰ºöÂ∞ÜÂèçÂºïÂè∑Êã¨Ëµ∑ÁöÑÂÜÖÂÆπËß£Èáä‰∏∫Á≥ªÁªüÂëΩ‰ª§„ÄÇ ÈÉ®ÂàÜÂºïÁî®ÈÉ®ÂàÜÂºïÁî®ÊòØÊåáÁî®ÂèåÂºïÂè∑Ôºà‚Äú ‚ÄùÔºâÊã¨Ëµ∑Êù•ÁöÑÂºïÁî®„ÄÇÂú®ËøôÁßçÂºïÁî®ÊñπÂºè‰∏≠Ôºå$Á¨¶„ÄÅÂèçÂºïÂè∑Ôºà`Ôºâ„ÄÅËΩ¨‰πâÁ¨¶Ôºà\ÔºâËøô3ÁßçÁâπÊÆäÂ≠óÁ¨¶‰æùÁÑ∂‰ºöË¢´Ëß£Êûê‰∏∫ÁâπÊÆäÊÑè‰πâ„ÄÇ 1#Â£∞ÊòéÂèòÈáèVAR03ÔºåÂπ∂Áî®echoÊâìÂç∞Âá∫Êù•„ÄÇÁ¨¨‰∏ÄÊ¨°Áõ¥Êé•ÊâìÂç∞ÔºåÁ¨¨‰∫åÊ¨°Áî®ÂºïÂè∑Êã¨Ëµ∑Êù•Ôºå‰ªéËæìÂá∫ÂÜÖÂÆπÁúãÂ•ΩÂÉèÊ≤°‰ªÄ‰πàÂå∫Âà´[root@localhost ~]# VAR03=100[root@localhost ~]# echo $VAR03100[root@localhost ~]# echo &quot;$VAR03&quot;100#Â£∞ÊòéÂèòÈáèVAR03ÔºåÂÜÖÂÆπ‰∏∫Â≠óÁ¨¶‰∏≤ÔºåABC‰πãÈó¥ÊúâÂ§ö‰∏™Á©∫Ê†º[root@localhost ~]# VAR04=&quot;A B C&quot;#Áõ¥Êé•ÊâìÂç∞ÂèòÈáèÊó∂ÔºåËæìÂá∫ÂÜÖÂÆπÂè™‰øùÁïô‰∫ÜÊØè‰∏™Â≠óÊØçÈó¥‰∏Ä‰∏™Á©∫Ê†º[root@localhost ~]# echo $VAR04A B C#‰ΩøÁî®ÂºïÂè∑Êã¨Ëµ∑ÁöÑËæìÂá∫ÂÜÖÂÆπÂíåÂèòÈáèÂÆö‰πâÊó∂ÁöÑÂÜÖÂÆπÊòØÂÆåÂÖ®‰∏ÄËá¥ÁöÑ[root@localhost ~]# echo &quot;$VAR04&quot;A B C ÂÖ®ÂºïÁî®ÂÖ®ÂºïÁî®ÊòØÊåáÁî®ÂçïÂºïÂè∑Ôºà‚Äò ‚ÄôÔºâÊã¨Ëµ∑Êù•ÁöÑÂºïÁî®„ÄÇÂçïÂºïÂè∑‰∏≠ÁöÑ‰ªª‰ΩïÂ≠óÁ¨¶ÈÉΩÂè™ÂΩì‰ΩúÊòØÊôÆÈÄöÂ≠óÁ¨¶ÔºàÈô§‰∫ÜÂçïÂºïÂè∑Êú¨Ë∫´Ôºå‰πüÂ∞±ÊòØËØ¥ÂçïÂºïÂè∑‰∏≠Èó¥Êó†Ê≥ïÂÜçÂåÖÂê´ÂçïÂºïÂè∑ÔºåÂç≥‰æøÁî®ËΩ¨‰πâÁ¨¶ËΩ¨‰πâÂçïÂºïÂè∑‰πü‰∏çË°åÔºâ„ÄÇÊâÄÊúâÂú®ÂçïÂºïÂè∑‰∏≠ÁöÑÂ≠óÁ¨¶ÈÉΩÂè™ËÉΩ‰ª£Ë°®ÂÖ∂‰Ωú‰∏∫Â≠óÁ¨¶ÁöÑÂ≠óÈù¢ÊÑè‰πâ„ÄÇ 123[root@localhost ~]# echo &apos;$VAR03&apos;$VAR03[root@localhost ~]# echo &apos;$VAR04&apos;$VAR04Â¶Ç‰ΩïÂå∫ÂàÜÈÉ®ÂàÜÂºïÁî®‰∏éÂÖ®ÂºïÁî®ÔºüÂçïÂºïÂè∑ÂíåÂèåÂºïÂè∑Âú®ÂæàÂ§öÊó∂ÂÄôÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂè™ÊòØË¶ÅËÆ∞‰ΩèÔºåÂú®ÂèåÂºïÂè∑‰∏≠ÁöÑ$Á¨¶„ÄÅÂèçÂºïÂè∑„ÄÅËΩ¨‰πâÁ¨¶ËøòÊòØ‰ºöË¢´Ëß£ÊûêÊàêÂÖ∂ÁâπÊÆäÂê´‰πâÔºåËÄåÂú®ÂçïÂºïÂè∑‰∏≠ÊâÄÊúâÁöÑÂ≠óÁ¨¶ÈÉΩÂè™ÊòØÂ≠óÈù¢ÊÑèÊÄù„ÄÇ[root@localhost ~]# echo &quot;Current directory is $PWD&quot;Current directory is /root[root@localhost ~]# echo &apos;Current directory is $PWD&apos;Current directory is $PWD ÂëΩ‰ª§ÊõøÊç¢ÔºàÈáçÁÇπÔºâÂëΩ‰ª§ÊõøÊç¢ÊòØÊåáÂ∞ÜÂëΩ‰ª§ÁöÑÊ†áÂáÜËæìÂá∫‰Ωú‰∏∫ÂÄºËµãÁªôÊüê‰∏™ÂèòÈáè„ÄÇShell‰∏≠Êúâ‰∏§ÁßçÊñπÂºèÂèØ‰ª•ÂÆåÊàêÂëΩ‰ª§ÊõøÊç¢Ôºå‰∏ÄÁßçÊòØÂèçÂºïÂè∑Ôºà`ÔºâÔºå‰∏ÄÁßçÊòØ$() 1[root@localhost ~]# `ÂëΩ‰ª§`[root@localhost ~]# $(ÂëΩ‰ª§) Â¶ÇÊûúË¢´ÂºïÁî®ÁöÑÂëΩ‰ª§ËæìÂá∫ÁöÑÂÜÖÂÆπÂåÖÊã¨Â§öË°åÔºåÊ≠§Êó∂Ëã•‰∏çÈÄöËøáÂºïÁî®ÁöÑÊñπÂºèËæìÂá∫ÂèòÈáèÔºåÂàôËæìÂá∫ÁöÑÂÜÖÂÆπ‰∏≠Â∞Ü‰ºöÂà†Èô§Êç¢Ë°åÁ¨¶ÔºåÊñá‰ª∂Âêç‰πãÈó¥‰ºö‰ΩøÁî®Á≥ªÁªüÈªòËÆ§ÁöÑÁ©∫Êù•Â°´ÂÖÖÔºåÂç≥ËæìÂá∫ÁöÑÂÜÖÂÆπÂè™Âç†‰∏ÄË°å„ÄÇ 1[root@localhost ~]# LS=`ls-l`#‰∏çÂºïÁî®ÂèòÈáèÂÄºÁöÑËæìÂá∫[root@localhost ~]# echo $LStotal 36-rw------- 1 root root 1017 Jan 2 2009 anaconda-ks.cfg-rw-r--r-- 1 root root 18590 Jan 2 2009 install.log-rw-r--r-- 1 root root 0 Jan 2 2009 install.log.syslog#ÂºïÁî®ÂèòÈáèÂÄºÁöÑËæìÂá∫[root@localhost ~]# echo &quot;$LS&quot;total 36-rw------- 1 root root 1017 Jan 2 2009 anaconda-ks.cfg-rw-r--r-- 1 root root 18590 Jan 2 2009 install.log-rw-r--r-- 1 root root 0 Jan 2 2009 install.log.syslog ÂèçÂºïÂè∑ÁöÑÈÉ®ÂàÜÈÉΩÂèØ‰ª•‰ΩøÁî®$()ËøõË°åÊõøÊç¢ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÊòØÁ≠â‰ª∑ÁöÑ„ÄÇ‰ΩÜÂèçÂºïÂè∑ÊØïÁ´üÂíåÂçïÂºïÂè∑ÁúãËµ∑Êù•Á±ª‰ººÔºåÊúâÊó∂ÂÄô‰ºöÂØπÊü•Áúã‰ª£Á†ÅÈÄ†ÊàêÂõ∞ÈöæÔºåËÄå‰ΩøÁî®$()Â∞±Áõ∏ÂØπÊ∏ÖÊô∞ÔºåËÉΩÊúâÊïàÂú∞ÈÅøÂÖçËøôÁßçÊ∑∑‰π±„ÄÇ‰ΩÜÊòØÊúâ‰∫õÊÉÖÊôØÊòØÂøÖÈ°ª‰ΩøÁî®$()ÁöÑÔºö$()ÊîØÊåÅÂµåÂ•óÔºåËÄåÂèçÂºïÂè∑‰∏çË°å„ÄÇ $()‰ªÖÂú®Bash Shell‰∏≠ÊúâÊïàÔºåËÄåÂèçÂºïÂè∑ÂèØÂú®Â§öÁßçUNIX Shell‰∏≠‰ΩøÁî®„ÄÇ ËøêÁÆóÁ¨¶Shell‰∏≠ÁöÑËøêÁÆóÁ¨¶‰∏ªË¶ÅÊúâÊØîËæÉËøêÁÆóÁ¨¶ÔºàÁî®‰∫éÊï¥Êï∞ÊØîËæÉÔºâ„ÄÅÂ≠óÁ¨¶‰∏≤ËøêÁÆóÁ¨¶ÔºàÁî®‰∫éÂ≠óÁ¨¶‰∏≤ÊµãËØïÔºâ„ÄÅÊñá‰ª∂Êìç‰ΩúËøêÁÆóÁ¨¶ÔºàÁî®‰∫éÊñá‰ª∂ÊµãËØïÔºâ„ÄÅÈÄªËæëËøêÁÆóÁ¨¶„ÄÅÁÆóÊúØËøêÁÆóÁ¨¶„ÄÅ‰ΩçËøêÁÆóÁ¨¶„ÄÅËá™Â¢ûËá™ÂáèËøêÁÆóÁ¨¶Á≠â„ÄÇ ÁÆóÊï∞ËøêÁÆóÁ¨¶ÁÆóÊúØËøêÁÆóÁ¨¶ÊåáÁöÑÊòØÂä†„ÄÅÂáè„ÄÅ‰πò„ÄÅÈô§„ÄÅ‰Ωô„ÄÅÂπÇÁ≠âÂ∏∏ËßÅÁöÑÁÆóÊúØËøêÁÆóÔºå‰ª•ÂèäÂä†Á≠â„ÄÅÂáèÁ≠â„ÄÅ‰πòÁ≠â„ÄÅÈô§Á≠â„ÄÅ‰ΩôÁ≠âÂ§çÂêàÁÆóÊúØËøêÁÆó„ÄÇË¶ÅÁâπÂà´Ê≥®ÊÑèÁöÑÊòØÔºåShellÂè™ÊîØÊåÅÊï¥Êï∞ËÆ°ÁÆóÔºå‰πüÂ∞±ÊòØÊâÄÊúâÂèØËÉΩ‰∫ßÁîüÂ∞èÊï∞ÁöÑËøêÁÆóÈÉΩ‰ºöËàçÂéªÂ∞èÊï∞ÈÉ®ÂàÜ„ÄÇ Â∏∏ËßÅÁöÑÁÆóÊúØËøêÁÆóÂ§ßÂ§öÈúÄË¶ÅÁªìÂêàShellÁöÑÂÜÖÂª∫ÂëΩ‰ª§letÊù•‰ΩøÁî®„ÄÇ Ëá™Â¢ûËá™ÂáèËá™Â¢ûËá™ÂáèËøêÁÆó‰∏ªË¶ÅÂåÖÊã¨ÂâçÁΩÆËá™Â¢û„ÄÅÂâçÁΩÆËá™Âáè„ÄÅÂêéÁΩÆËá™Â¢û„ÄÅÂêéÁΩÆËá™ÂáèÁ≠â„ÄÇÂâçÁΩÆËá™Â¢ûÊàñÂâçÁΩÆËá™ÂáèÊìç‰Ωú‰ºöÈ¶ñÂÖà‰øÆÊîπÂèòÈáèÁöÑÂÄºÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÂèòÈáèÁöÑÂÄº‰º†ÈÄíÂá∫ÂéªÔºõÂêéÁΩÆËá™Â¢ûÊàñÂêéÁΩÆËá™ÂáèÂàô‰ºöÈ¶ñÂÖàÂ∞ÜÂèòÈáèÁöÑÂÄº‰º†ÈÄíÂá∫ÂéªÔºåÁÑ∂ÂêéÂÜç‰øÆÊîπÂèòÈáèÁöÑÂÄº„ÄÇËá™Â¢ûÁ¨¶‰∏∫‚Äú++‚ÄùÔºåËá™ÂáèÁ¨¶‰∏∫‚Äú‚Äì‚ÄùÔºåÊìç‰ΩúÂØπË±°Âè™ËÉΩÊòØÂèòÈáèÔºå‰∏çËÉΩÊòØÂ∏∏Êï∞ÊàñË°®ËææÂºè 1[root@localhost ~]# cat add_minus.sh#!/bin/bashAdd_01=10Add_02=10#Add_01ÂâçÁΩÆËá™Â¢û#‰πüÂ∞±ÊòØÂÖàÂ∞ÜAdd_01Ëá™Â¢û1Âèò‰∏∫11ÔºåÁÑ∂ÂêéËµãÂÄºÁªôAdd_03ÔºåÂç≥‰∏∫11let &quot;Add_03=(++Add_01)&quot;#Add_02ÂêéÁΩÆËá™Â¢û#‰πüÂ∞±ÊòØÂÖàÂ∞ÜÂΩìÂâçÂÄºËµãÁªôAdd_04ÔºåÂç≥10ÔºåÁÑ∂ÂêéAdd_02Ëá™Â¢û1ÔºåÂç≥‰∏∫11let &quot;Add_04=(Add_02++)&quot;#ÊâìÂç∞ÂêÑÂèòÈáèÁöÑÂÄº#ÊåâÁÖß‰∏äÈù¢ÁöÑËÆ°ÁÆóÊñπÂºèÔºåAdd_01„ÄÅAdd_02„ÄÅAdd_03‰∏∫11ÔºåAdd_04‰∏∫10echo Add_01 is:$Add_01echo Add_02 is:$Add_02echo Add_03 is:$Add_03echo Add_04 is:$Add_04[root@localhost ~]# bash add_minus.shAdd_01 is:11Add_02 is:11Add_03 is:11Add_04 is:10 ‰ΩçËøêÁÆóÁ¨¶‰ΩçËøêÁÆóÊòØÂü∫‰∫éÂÜÖÂ≠ò‰∏≠‰∫åËøõÂà∂Êï∞ÊçÆÁöÑËøêÁÆóÔºå‰πüÂ∞±ÊòØÂü∫‰∫é‰ΩçÁöÑËøêÁÆó„ÄÇÂ∏∏ËßÅÁöÑ‰ΩçËøêÁÆóÊúâÂ∑¶ÁßªËøêÁÆó„ÄÅÂè≥ÁßªËøêÁÆó„ÄÅÊåâ‰Ωç‰∏é„ÄÅÊåâ‰ΩçÊàñ„ÄÅÊåâ‰ΩçÈùû„ÄÅÊåâ‰ΩçÂºÇÊàñÁ≠âËøêÁÆó„ÄÇ ‰ΩçËøêÁÆóÁöÑÂ∑¶Áßª„ÄÅÂè≥ÁßªÂÖÉÁ¥†ÂÖ∂ÂÆûÂ∞±ÊòØÊï¥Êï∞Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑ‚ÄúÂ∑¶Âè≥ÁßªÂä®‚ÄùÔºåÂÖ∂‰∏≠Â∑¶ÁßªËøêÁÆóÁ¨¶‰∏∫&lt;&lt;ÔºåÂè≥ÁßªËøêÁÆóÁ¨¶‰∏∫&gt;&gt; Êåâ‰Ωç‰∏éËøêÁÆóÔºà&amp;ÔºâÔºåÊòØÂ∞Ü‰∏§‰∏™Êï¥Êï∞ÂÜôÊàê‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÔºåÁÑ∂ÂêéÂêå‰ΩçÁΩÆÁõ∏ÊØîËæÉÔºåÂè™ÊúâÂΩìÂØπÂ∫îÁöÑ‰∫åËøõÂà∂ÂÄºÈÉΩ‰∏∫1Êó∂ÔºåÁªìÊûúÊâç‰∏∫1„ÄÇ Êåâ‰ΩçÊàñËøêÁÆóÔºà|ÔºâÔºåÊòØÂ∞Ü‰∏§‰∏™Êï¥Êï∞ÂÜôÊàê‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÔºåÁÑ∂ÂêéÂêå‰ΩçÁΩÆÁõ∏ÊØîËæÉÔºåÂè™Ë¶ÅÂØπÂ∫îÁöÑ‰ΩçÁΩÆÊúâ1ÔºåÁªìÊûúÂ∞±‰∏∫1 Êåâ‰ΩçÂºÇÊàñËøêÁÆóÔºà^ÔºâÔºåÊòØÂ∞Ü‰∏§‰∏™Êï¥Êï∞ÂÜôÊàê‰∫åËøõÂà∂ÁöÑÂΩ¢ÂºèÔºåÁÑ∂ÂêéÂêå‰ΩçÁΩÆÁõ∏ÊØîËæÉÔºåÂè™Ë¶ÅÂØπÂ∫îÁöÑ‰ΩçÁΩÆÂêå‰∏∫0ÊàñÂêå‰∏∫1ÔºåÁªìÊûúÂ∞±‰∏∫0ÔºåÂê¶Âàô‰∏∫1„ÄÇ ‰ΩøÁî®exprÂÅöËøêÁÆó(ÊòìÈîôÁÇπ)exprÂëΩ‰ª§‰πüÂèØÁî®‰∫éÊï¥Êï∞ËøêÁÆó„ÄÇÂíåÂÖ∂‰ªñÁÆóÊúØËøêÁÆóÊñπÂºè‰∏çÂêåÔºåexprË¶ÅÊ±ÇÊìç‰ΩúÊï∞ÂíåÊìç‰ΩúÁ¨¶‰πãÈó¥‰ΩøÁî®Á©∫Ê†ºÈöîÂºÄÔºàÂê¶ÂàôÂè™‰ºöÊâìÂç∞Âá∫Â≠óÁ¨¶‰∏≤ÔºâÔºåÊâÄ‰ª•ÁâπÊÆäÁöÑÊìç‰ΩúÁ¨¶Ë¶Å‰ΩøÁî®ËΩ¨‰πâÁ¨¶ËΩ¨‰πâÔºàÊØîÂ¶Ç*Ôºâ 1Êìç‰ΩúÁ¨¶ÂíåÊìç‰ΩúÊï∞‰πãÈó¥Ê≤°ÊúâÁ©∫Ê†ºÂàôÂè™‰ºöÊâìÂç∞Âá∫Â≠óÁ¨¶‰∏≤[root@localhost ~]# expr 1+11+1#‰ΩøÁî®Á©∫Ê†ºÈöîÂºÄÂêéÂèØ‰ª•Ê≠£Â∏∏ËÆ°ÁÆó[root@localhost ~]# expr 1 + 12#ÁâπÊÆäÁ¨¶Âè∑ÔºàÂÖÉÂ≠óÁ¨¶ÔºâÈúÄË¶ÅÁî®ËΩ¨‰πâÁ¨¶ËΩ¨‰πâÔºåÂê¶ÂàôÂá∫Èîô[root@localhost ~]# expr 2 * 2expr: syntax error[root@localhost ~]# expr 2 \* 24 ÁÆóÊúØÊãìÂ±ïÔºàÈáçÈöæÁÇπÔºâÁÆóÊúØÊâ©Â±ïÊòØShellÊèê‰æõÁöÑÊï¥Êï∞ÂèòÈáèÁöÑËøêÁÆóÊú∫Âà∂ÔºåÊòØShellÁöÑÂÜÖÂª∫ÂëΩ‰ª§‰πã‰∏Ä„ÄÇÂÖ∂Âü∫Êú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö 1$((ÁÆóÊúØË°®ËææÂºè)) ÂÖ∂‰∏≠ÁöÑÁÆóÊúØË°®ËææÂºèÁî±ÂèòÈáèÂíåËøêÁÆóÁ¨¶ÁªÑÊàêÔºåÂ∏∏ËßÅÁöÑÁî®Ê≥ïÊòØÊòæÁ§∫ËæìÂá∫ÂíåÂèòÈáèËµãÂÄº„ÄÇËã•Ë°®ËææÂºè‰∏≠ÁöÑÂèòÈáèÊ≤°ÊúâÂÆö‰πâÔºåÂàôÂú®ËÆ°ÁÆóÊó∂ÔºåÂÖ∂ÂÄº‰ºöË¢´ÂÅáËÆæ‰∏∫0Ôºà‰ΩÜÊòØÂπ∂‰∏ç‰ºöÁúüÁöÑÂõ†Ê≠§Ëµã0ÂÄºÁªôËØ•ÂèòÈáèÔºâ„ÄÇ 1#ÊòæÁ§∫ËæìÂá∫Ôºöecho $((ÁÆóÊúØË°®ËææÂºè))#‰æãÂ≠êÔºöËÆ°ÁÆó2*i+1ÁöÑÂÄº[root@localhost ~]# i=2[root@localhost ~]# echo $((2*i+1)) #Ê≥®ÊÑèËøôÈáåÂèòÈáèiÂâçÂπ∂Ê≤°Êúâ$Á¨¶5[root@localhost ~]# echo $((2*(i+1))) #Áî®Êã¨Âè∑ÊîπÂèòËøêÁÆó‰ºòÂÖàÁ∫ß6#ÂèòÈáèËµãÂÄºvar=$((ÁÆóÊúØË°®ËææÂºè))#‰æãÂ≠êÔºöÂ∞Ü2*i+1ÁöÑÂÄºËµãÂÄºÁªôÂèòÈáèvar[root@localhost ~]# var=$((2*i+1))[root@localhost ~]# echo $var5#Êú™ÂÆö‰πâÁöÑÂèòÈáèÂèÇ‰∏éÁÆóÊúØË°®ËææÂºèÊ±ÇÂÄº[root@localhost ~]# echo $((2*(j+1)))2 ÊµãËØï‰∏éÂà§Êñ≠ÊµãËØïÔºàÈáçÈöæÁÇπÔºâÁ®ãÂ∫èËøêË°å‰∏≠ÁªèÂ∏∏ÈúÄË¶ÅÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÊù•ËøêË°åÁâπÂÆöÁöÑÂëΩ‰ª§Êàñ‰ª£Á†ÅÊÆµ„ÄÇÊØîÂ¶ÇÔºåÂà§Êñ≠Êüê‰∏™Êñá‰ª∂ÊàñÁõÆÂΩïÊòØÂê¶Â≠òÂú®ÔºåÂ¶ÇÊûúÊñá‰ª∂ÊàñÁõÆÂΩï‰∏çÂ≠òÂú®ÔºåÂèØËÉΩÈúÄË¶ÅÈ¶ñÂÖàÂàõÂª∫Êñá‰ª∂ÊàñÁõÆÂΩï„ÄÇ‰∏æ‰æãËØ¥ÔºåË¶ÅÂà§Êñ≠Êñá‰ª∂/var/log/messageÊñá‰ª∂ÊòØÂê¶Â≠òÂú®ÔºåÂèØ‰ª•ÂÖàlsËØ•Êñá‰ª∂ÔºåÁÑ∂ÂêéÁî®$?Êù•Âà§Êñ≠ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1#ls‰∏Ä‰∏™Â≠òÂú®ÁöÑÊñá‰ª∂[root@localhost ~]# ls /var/log/messages/var/log/messages#Â¶ÇÊûúlsÊàêÂäüÔºåÂàô$?ËøîÂõûÂÄº‰∏∫0ÔºåËØ¥ÊòéËØ•Êñá‰ª∂Â≠òÂú®[root@localhost ~]# echo $?0#ls‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑÊñá‰ª∂ÔºåÂëΩ‰ª§Êú¨Ë∫´‰ºöÊä•Èîô[root@localhost ~]# ls /var/log/messages01ls: /var/log/messages01: No such file or directory#ËøôÈáå$?ÁöÑËøîÂõûÂÄºÊòØÈùû0ÁöÑÔºåÂú®‰∏çËÄÉËôëÊñá‰ª∂ÊùÉÈôêÁöÑÊÉÖÂÜµ‰∏ãÔºåËøîÂõûÈùû0ÂÄºËØ¥ÊòéÊñá‰ª∂ÊòØ‰∏çÂ≠òÂú®ÁöÑ[root@localhost ~]# echo $?2 ‰∏äËø∞ÁöÑÂäûÊ≥ïÁ°ÆÂÆûÊòØ‰∏ÄÁßçÂäûÊ≥ïÔºå‰ΩÜÊòØËøôÊÑèÂë≥ÁùÄÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÈÉΩÈúÄË¶ÅËá™Â∑±Êù•ÂÆûÁé∞Ëøô‰∏™‚ÄúÂà§Êñ≠‚ÄùÁöÑËøáÁ®ãÔºåÂà§Êñ≠‰∏∫ÁúüÂàôËøîÂõû0Ôºå‰∏∫ÂÅáÂàôËøîÂõûÈùû0ÂÄº„ÄÇËøôÁßçÂà§Êñ≠Ë°å‰∏∫Ë¢´Áß∞‰Ωú‚ÄúÊµãËØï‚Äù„ÄÇ ÊµãËØïÁªìÊûÑÊµãËØïÁöÑÁ¨¨‰∏ÄÁßç‰ΩøÁî®ÊñπÂºèÊòØÁõ¥Êé•‰ΩøÁî®testÂëΩ‰ª§ÔºåËØ•ÂëΩ‰ª§ÁöÑÊ†ºÂºèÂ¶Ç‰∏ãÔºö test expression ÂÖ∂‰∏≠expressionÊòØ‰∏Ä‰∏™Ë°®ËææÂºèÔºåÂèØ‰ª•ÊòØÁÆóÊúØÊØîËæÉ„ÄÅÂ≠óÁ¨¶‰∏≤ÊØîËæÉ„ÄÅÊñáÊú¨ÂíåÊñá‰ª∂Â±ûÊÄßÊØîËæÉÁ≠â„ÄÇÁ¨¨‰∫åÁßçÊµãËØïÊñπÂºèÊòØ‰ΩøÁî®‚Äú[‚ÄùÂêØÂä®‰∏Ä‰∏™ÊµãËØïÔºåÂÜçÂÜôexpressionÔºåÂÜç‰ª•‚Äú]‚ÄùÁªìÊùüÊµãËØï„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ∑¶ËæπÁöÑÊã¨Âè∑‚Äú[‚ÄùÂêéÊúâ‰∏™Á©∫Ê†ºÔºåÂè≥Êã¨Âè∑‚Äú]‚ÄùÂâçÈù¢‰πüÊúâ‰∏™Á©∫Ê†ºÔºåÂ¶ÇÊûú‰ªªÊÑè‰∏ÄËæπÂ∞ë‰∫ÜÁ©∫Ê†ºÈÉΩ‰ºöÈÄ†ÊàêShellÊä•Èîô„ÄÇ‰∏∫Â¢ûÂä†‰ª£Á†ÅÁöÑÂèØËØªÊÄßÔºåÊé®Ëçê‰ΩøÁî®Á¨¨‰∫åÁßçÊñπÂºèÔºåËÄå‰∏îËøôÁßçÊñπÂºèÊõ¥ÂÆπÊòì‰∏éif„ÄÅcase„ÄÅwhileËøô‰∫õÊù°‰ª∂Âà§Êñ≠ÁöÑÂÖ≥ÈîÆÂ≠óËøûÁî®ÔºåËØ•ÊµãËØïÁªìÊûÑÂ¶Ç‰∏ãÔºö 1[ expression ] üëπÂú®‰∏Ä‰∫õÂÆûÈôÖÂºÄÂèëËÑöÊú¨‰∏≠ÔºåÊúâÊó∂ÂÄôÂèØÁúãËßÅ[ Ë°®ËææÂºè ] ËøõË°åÂà§Êñ≠Êñá‰ª∂Â≠òÂú®ÔºåÁéØÂ¢ÉÁ≠âÈóÆÈ¢ò„ÄÇ Êñá‰ª∂ÊµãËØï123-e FILEÔºöÊµãËØïÊñá‰ª∂ÊòØÂê¶Â≠òÂú®-f FILEÔºöÊµãËØïÊñá‰ª∂ÊòØÂê¶‰∏∫ÊôÆÈÄöÊñá‰ª∂-d FILEÔºöÊµãËØïÊåáÂÆöË∑ØÂæÑÊòØÂê¶‰∏∫ÁõÆÂΩï-r FILEÔºöÊµãËØïÂΩìÂâçÁî®Êà∑ÂØπÊåáÂÆöÊñá‰ª∂ÊòØÂê¶ÊúâËØªÊùÉÈôê-w FILEÔºöÊµãËØïÂΩìÂâçÁî®Êà∑ÂØπÊåáÂÆöÊñá‰ª∂ÊòØÂê¶ÊúâÂÜôÊùÉÈôê-x FILEÔºöÊµãËØïÂΩìÂâçÁî®Êà∑ÂØπÊåáÂÆöÊñá‰ª∂ÊòØÂê¶ÊúâÊâßË°åÊùÉÈôêExampleÔºö[ -e /etc/passwd ][ -x /etc/shadow ]$?Ôºö‰∏ä‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÊâßË°åÁä∂ÊÄÅËøîÂõûÂÄº$#ÔºöÂèÇÊï∞ÁöÑ‰∏™Êï∞$*ÔºöÂèÇÊï∞ÂàóË°®$@ÔºöÂèÇÊï∞ÂàóË°®#!/bin/bashif [ -e $1 ];then #‰ΩçÁΩÆÂèÇÊï∞‰∏çÁî®Âú®ËÑöÊú¨‰∏≠ËÆæÁΩÆÔºåÊâßË°åËÑöÊú¨Êó∂Ê∑ªÂä†‰ΩçÁΩÆÂèÇÊï∞ echo fileelse echo no such filefi[root@localhost script]# bash file2.sh /etc/fstab #ÊåáÂÆö/etc/fstabËøô‰∏™‰ΩçÁΩÆÂèÇÊï∞ Â≠óÁ¨¶‰∏≤ÊµãËØïShell‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÊØîËæÉ‰∏ªË¶ÅÊúâÁ≠â‰∫é„ÄÅ‰∏çÁ≠â‰∫é„ÄÅÂ§ß‰∫é„ÄÅÂ∞è‰∫é„ÄÅÊòØÂê¶‰∏∫Á©∫Á≠âÊµãËØï 1#ÂÆö‰πâÈùûÁ©∫Â≠óÁ¨¶‰∏≤str2ÔºåÂÄº‰∏∫hello[root@localhost ~]# str2=&quot;hello&quot;#ÊµãËØïstr2ÊòØÂê¶‰∏∫Á©∫Ôºå‰∏∫Á©∫ËøîÂõû0Ôºå‰∏ç‰∏∫Á©∫ËøîÂõûÈùû0ÔºåÊ≠§Â§ÑËøîÂõû1[root@localhost ~]# [-z &quot;$str2&quot; ][root@localhost ~]# echo $?1#ÊµãËØïstr2ÊòØÂê¶ÈùûÁ©∫ÔºåÈùûÁ©∫ËøîÂõû0[root@localhost ~]# [-n &quot;$str2&quot; ][root@localhost ~]# echo $?0#ÊØîËæÉstr1Âíåstr2ÊòØÂê¶Áõ∏ÂêåÔºåÁõ∏ÂêåÂàôËøîÂõû0ÔºåÂê¶ÂàôËøîÂõûÈùû0ÔºåÊ≠§Â§ÑËøîÂõû1[root@localhost ~]# [ &quot;$str1&quot; = &quot;$str2&quot; ][root@localhost ~]# echo $?1#ÊØîËæÉstr1Âíåstr2ÊòØÂê¶‰∏çÂêåÔºå‰∏çÂêåÂàôËøîÂõû0[root@localhost ~]# [ &quot;$str1&quot; != &quot;$str2&quot; ][root@localhost ~]# echo $?0#ÊØîËæÉstr1Âíåstr1ÁöÑÂ§ßÂ∞èÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå&gt;Âíå&lt;ÈÉΩÈúÄË¶ÅËøõË°åËΩ¨‰πâ[root@localhost ~]# [ &quot;$str1&quot; \&gt; &quot;$str2&quot; ][root@localhost ~]# echo $?1[root@localhost ~]# [ &quot;$str1&quot; \&lt; &quot;$str2&quot; ][root@localhost ~]# echo $?0#Â¶ÇÊûú‰∏çÊÉ≥Áî®ËΩ¨‰πâÁ¨¶ÔºåÂàôÂèØ‰ª•Áî®[[]]Êã¨Ëµ∑Ë°®ËææÂºè[root@localhost ~]# [[ &quot;$str1&quot; &gt; &quot;$str2&quot; ]][root@localhost ~]# echo $?1[root@localhost ~]# [[ &quot;$str1&quot; &lt; &quot;$str2&quot; ]][root@localhost ~]# echo $?0 Êï¥Êï∞ÊØîËæÉ12Êï∞Â≠óÂà§Êñ≠‰∏Ä‰∫õÂëΩ‰ª§Ôºö#-gtÊòØÂ§ß‰∫é#-ltÊòØÂ∞è‰∫é#-eqÊòØÁ≠â‰∫é#-neÊòØ‰∏çÁ≠â‰∫é#-geÊòØÂ§ß‰∫éÁ≠â‰∫é#leÊòØÂ∞è‰∫éÁ≠â‰∫é [root@localhost ~]# num1=10[root@localhost ~]# num2=10[root@localhost ~]# num3=9[root@localhost ~]# num4=11[root@localhost ~]# [ &quot;$num1&quot;-eq &quot;$num2&quot; ][root@localhost ~]# echo $?0[root@localhost ~]# [ &quot;$num1&quot;-gt &quot;$num3&quot; ][root@localhost ~]# echo $?0[root@localhost ~]# [ &quot;$num1&quot;-lt &quot;$num4&quot; ][root@localhost ~]# echo $?0[root@localhost ~]# [ &quot;$num1&quot;-ge &quot;$num2&quot; ][root@localhost ~]# echo $?0[root@localhost ~]# [ &quot;$num1&quot;-le &quot;$num2&quot; ][root@localhost ~]# echo $?0[root@localhost ~]# [ &quot;$num1&quot;-ne &quot;$num3&quot; ][root@localhost ~]# echo $?0 ÈÄªËæëÊµãËØï‰∏éÈÄªËæëÂà§Êñ≠1#‰æã‰∏ÄÔºöÈÄªËæëÈùûÁöÑ‰ΩøÁî®#ÊµãËØïÂÄº‰∏∫ÁúüÁöÑË°®ËææÂºèÂú®‰ΩøÁî®ÈÄªËæëÈùûÂêéÔºåË°®ËææÂºèÂèò‰∏∫ÂÅáÔºåÂèç‰πã‰∫¶ÁÑ∂[root@localhost ~]# [ !-e /var/log/messages ][root@localhost ~]# echo $?1#‰æã‰∫åÔºöÈÄªËæë‰∏éÁöÑ‰ΩøÁî®#Ë°®ËææÂºèÈÉΩ‰∏∫ÁúüÔºåÊï¥‰∏™Ë°®ËææÂºèÊâçËøîÂõûÁúüÔºåÂê¶ÂàôËøîÂõûÂÅá[root@localhost ~]# [-e /var/log/messages-a-e /var/log/messages01 ][root@localhost ~]# echo $?1#‰æã‰∏âÔºöÈÄªËæëÊàñÁöÑ‰ΩøÁî®#ÊµãËØïË°®ËææÂºè‰∏≠Âè™Ë¶ÅÊúâÁúüÔºåÂàôÊï¥‰∏™Ë°®ËææÂºèËøîÂõûÁúü[root@localhost ~]# [-e /var/log/messages-o-e /var/log/messages01 ][root@localhost ~]# echo $?0#ÈÄªËæë‰∏éËøêÁÆóexpression1 &amp;&amp; expression2 &amp;&amp; expression3#ÈÄªËæë‰∏éÊµãËØï[ expression1-a expression2-a expression3 ]#ÈÄªËæëÊàñËøêÁÆóexpression1 || expression2 || expression3#ÈÄªËæëÊàñÊµãËØï[ expression1-o expression2-o expression3 ] Âà§Êñ≠Êúâ‰∫ÜÊµãËØïÔºåÂ∞±Ë¶ÅÊúâËé∑ÂæóÊµãËØïÁªìÊûúÁöÑÊú∫Âà∂ÔºåÂπ∂Ê†πÊçÆÊµãËØïÁªìÊûúËøêË°å‰∏çÂêåÁöÑ‰ª£Á†ÅÊÆµÔºåËøôÊ†∑Á®ãÂ∫èÂ∞±ÂèØ‰ª•‰ªéÁÆÄÂçïÁöÑÂëΩ‰ª§ÁΩóÂàóÂèòÂæóÊõ¥‚ÄúÊô∫ËÉΩ‚Äù‰∏Ä‰∫õÔºå‰ªéËÄåÂÆûÁé∞Á®ãÂ∫èÁöÑÊµÅÁ®ãÊéßÂà∂„ÄÇÂú®Shell‰∏≠ÔºåÊµÅÁ®ãÊéßÂà∂ÂàÜ‰∏∫‰∏§Â§ßÁ±ªÔºå‰∏ÄÁ±ªÊòØ‚ÄúÂæ™ÁéØ‚ÄùÔºå‰∏ÄÁ±ªÊòØ‚ÄúÂà§Êñ≠ÈÄâÊã©‚Äù„ÄÇÂ±û‰∫é‚ÄúÂæ™ÁéØ‚ÄùÁöÑÊúâfor„ÄÅwhile„ÄÅuntilÔºåÂ±û‰∫é‚ÄúÂà§Êñ≠ÈÄâÊã©‚ÄùÔºåÂÖ≥ÈîÆÂ≠óÊòØif„ÄÅcase„ÄÇ ifÂà§Êñ≠ËØ≠Ê≥ïÁªìÊûÑ‰∏∫Ôºö 1if expression; then commandfi üé™Â∞èÊµãËØïÔºöÊºîÁ§∫‰∏Ä‰∏™Á®ãÂ∫èÔºåËØ•Á®ãÂ∫è‰ºöÊ†πÊçÆËæìÂÖ•ÁöÑÂ≠¶ÁîüÊàêÁª©ÊâìÂç∞ÂØπÂ∫îÁöÑÁ≠âÁ∫ßÔºöÂ§ß‰∫éÁ≠â‰∫é80ÂàÜÁöÑ‰∏∫AÔºõÂ§ß‰∫éÁ≠â‰∫é60ÂàÜ„ÄÅÂ∞è‰∫é80ÂàÜÁöÑ‰∏∫B„ÄÅÂ∞è‰∫é60ÂàÜÁöÑ‰∏∫C„ÄÇ 1[root@localhost ~]# cat score01.sh#!/bin/bashecho-n &quot;Please input a score:&quot;read SCOREif [ &quot;$SCORE&quot;-lt 60 ]; then echo &quot;C&quot;fiif [ &quot;$SCORE&quot;-lt 80-a &quot;$SCORE&quot;-ge 60 ]; then echo &quot;B&quot;fiif [ &quot;$SCORE&quot;-ge 80 ]; then echo &quot;A&quot; fi#ËÑöÊú¨ËøêË°åÁªìÊûúÔºå‰æùÊ¨°ËæìÂÖ•95„ÄÅ75„ÄÅ45Êó∂ÔºåËÑöÊú¨ÂàÜÂà´ÊâìÂç∞‰∫ÜÊ≠£Á°ÆÁöÑÊàêÁª©Á≠âÁ∫ß[root@localhost ~]# bash score01.shPlease input a score:95A[root@localhost ~]# bash score01.shPlease input a score:75B[root@localhost ~]# bash score01.shPlease input a score:45C if/else Âà§Êñ≠ÁªìÊûÑËØ≠Ê≥ïÁªìÊûÑÔºö 1if expression; then commandelse commandfi üé™Â∞èÊµãËØïÔºöÂà§Êñ≠Êüê‰∏™Êñá‰ª∂ÊòØÂê¶Â≠òÂú® 1#Ê£ÄÊü•Êñá‰ª∂ÊòØÂê¶Â≠òÂú®[root@localhost ~]# cat check_file.sh#!/bin/bashFILE=/var/log/messages#FILE=/var/log/messages01if [-e $FILE ]; then echo &quot;$FILE exists&quot;else echo &quot;$FILE not exist&quot;fi#ÂΩìFILE=/var/log/messagesÊó∂ËøêË°åÁªìÊûúÂ¶Ç‰∏ã[root@localhost ~]# bash check_file.sh/var/log/messages exists#ÂΩìFILE=/var/log/messages01Êó∂ËøêË°åÁªìÊûúÂ¶Ç‰∏ã[root@localhost ~]# bash check_file.sh/var/log/messages01 not exist if/elif/elseÂà§Êñ≠ÁªìÊûÑËøõË°åÂ§öÂ±Çif/elseÂµåÂ•óÊó∂ÔºåÊé®Ëçê‰ΩøÁî®if/elif/elseÁªìÊûÑ 1if expression1; then command1elif expression2; then Command2elif expression3; then Command3...fi caseÂà§Êñ≠ÁªìÊûÑÂíåif/elif/elseÂà§Êñ≠ÁªìÊûÑ‰∏ÄÊ†∑ÔºåcaseÂà§Êñ≠ÁªìÊûÑ‰πüÂèØ‰ª•Áî®‰∫éÂ§öÁßçÂèØËÉΩÊÉÖÂÜµ‰∏ãÁöÑÂàÜÊîØÈÄâÊã©„ÄÇÂÖ∂ËØ≠Ê≥ïÁªìÊûÑÂ¶Ç‰∏ãÔºö 1case VAR invar1) command1 ;;var2) command2 ;;var3) command3 ;;...*) command ;;esac]]></content>
      <tags>
        <tag>-‰π¶Á±çÊÄªÁªì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearchÂÆûÊàò‰∏éÂéüÁêÜËß£Êûê]]></title>
    <url>%2F2020%2F07%2F07%2FElasticSearch%2F</url>
    <content type="text"><![CDATA[ElasticSearchÁÆÄ‰ªãElasticSearchÊèê‰æõ‰∫ÜÊêúÁ¥¢„ÄÅÂàÜÊûê„ÄÅÂ≠òÂÇ®Êï∞ÊçÆ‰∏âÂ§ßÂäüËÉΩÔºåÂÖ∂‰∏ªË¶ÅÁâπÁÇπÊòØÔºöÂàÜÂ∏ÉÂºè„ÄÅÈõ∂ÈÖçÁΩÆ„ÄÅÊòìË£ÖÊòìÁî®„ÄÅËá™Âä®ÂèëÁé∞„ÄÅÁ¥¢ÂºïËá™Âä®ÂàÜÁâá„ÄÅÁ¥¢ÂºïÂâØÊú¨Êú∫Âà∂„ÄÅRestFulÈ£éÊ†ºÊé•Âè£Á≠â„ÄÇ ElasticSearchÂ∫ïÂ±Ç‰æùËµñ‰∫éLuceneÂ∫ìÔºåÈááÁî®LuceneÊûÑÂª∫Á¥¢ÂºïÔºåÊèê‰æõÊêúÁ¥¢ÂäüËÉΩ„ÄÇ ÂÄíÊéíÁ¥¢ÂºïÂú®ÂÄíÊéíÁ¥¢Âºï‰∏≠Ôºå ÊúâËØçÊù°ÔºàtermÔºâ„ÄÅËØçÂÖ∏Ôºàterm dictionaryÔºâ„ÄÅÂÄíÊéíË°®Ôºàpost List)‰∏â‰∏™Ê¶ÇÂøµ ËØçÊù°ÔºöÁ¥¢Âºï‰∏≠ÊúÄÂ∞èÁöÑÂ≠òÂÇ®ÂíåÊü•ËØ¢ÂçïÂÖÉÔºåÂú®‰∏≠ÊñáËØ≠Â¢É‰∏≠Ôºå‰∏Ä‰∏™ËØçÁªÑÈÄöÂ∏∏Êåá‰∏Ä‰∏™ËØçÊù° ËØçÂÖ∏ÔºöÂèàÁß∞Â≠óÂÖ∏ÔºåÊòØËØçÊù°ÁöÑÈõÜÂêàÔºåËØçÂÖ∏‰∏ÄËà¨Áî±ÁΩëÈ°µÊàñÊñáÁ´†ÈõÜÂêà‰∏≠Âá∫Áé∞ÁöÑÊâÄÊúâËØçÊûÑÊàêÁöÑÂ≠óÁ¨¶‰∏≤ÈõÜÂêà ÂÄíÊéíË°®ÔºöÂÄíÊéíË°®ËÆ∞ÂΩïÁöÑÊòØËØçÂá∫Áé∞Âú®Âì™‰∫õÊñáÊ°£ÈáåÔºåÂá∫Áé∞ÁöÑ‰ΩçÁΩÆÂíåÈ¢ëÁéáÁ≠â ElasticSearchÂü∫‰∫éLuceneÂÆûÁé∞ÁöÑÔºåËØçÂÖ∏‰∏éÂÄíÊéíË°®ÊòØÂàÜ‰ø©ÈÉ®ÂàÜÂ≠òÂÇ®ÁöÑÔºåËØçÂÖ∏Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂÄíÊéíË°®Â≠òÂÇ®Âú®Á£ÅÁõò‰∏≠ ElasticSearchÊ†∏ÂøÉÊ¶ÇÂøµElasticSearchÊ†∏ÂøÉÊ¶ÇÂøµÊúâÔºöNode„ÄÅCluster„ÄÅShards„ÄÅReplicas„ÄÅIndex„ÄÅType„ÄÅDocument„ÄÅSettings„ÄÅMappingÂíåAnalyzer NodeÔºàËäÇÁÇπÔºâÔºöÊòØÁªÑÊàêElasticSearchÈõÜÁæ§ÁöÑÂü∫Êú¨ÊúçÂä°ÂçïÂÖÉÔºåÈõÜÁæ§‰∏≠ËøêË°åÁöÑElasticSearchÊúçÂä°Âô®ÈÉΩÁß∞‰∏∫ËäÇÁÇπ„ÄÇ ËäÇÁÇπÁöÑÁä∂ÊÄÅÊúâÔºàÁ∫¢„ÄÅÁªø„ÄÅÈªÑÔºâ‰∏âÁßçÁä∂ÊÄÅ ClusterÔºàÈõÜÁæ§ÔºâÔºöÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËäÇÁÇπÁªÑÊàêÔºåÂêÑ‰∏™ËäÇÁÇπÂçèÂêåÂ∑•‰ΩúÔºåÂÖ±‰∫´Êï∞ÊçÆ„ÄÇÂêå‰∏ÄÈõÜÁæ§ÂÜÖËäÇÁÇπÂêçÁß∞‰∏çËÉΩÈáçÂ§çÔºå‰ΩÜÈõÜÁæ§ÂêçÁß∞‰∏ÄÂÆöË¶ÅÁõ∏Âêå Shards(ÂàÜÁâá)ÔºöÁ¥¢ÂºïÁöÑÊï∞ÊçÆÈáèÂ§™Â§ßÊó∂ÔºåÂèóÈôê‰∫éÂçï‰∏™ËäÇÁÇπÁöÑÂÜÖÂ≠ò„ÄÅÁ£ÅÁõòÂ§ÑÁêÜËÉΩÂäõÁ≠â„ÄÇÂ∞Ü‰∏Ä‰∏™Á¥¢Âºï‰∏äÁöÑÊï∞ÊçÆËøõË°åÊ∞¥Âπ≥ÊãÜÂàÜÔºåÊãÜÂàÜÂá∫Êù•ÁöÑÊï∞ÊçÆÈÉ®ÂàÜÁß∞‰∏∫‰∏Ä‰∏™ÂàÜÁâá„ÄÇ‰∏ÄËà¨ÊØè‰∏™ÂàÜÁâáÊîæÂú®‰∏çÂêåÁöÑÊúçÂä°Âô®‰∏ä ‚Äã Â∫ïÂ±ÇÂÆûÈôÖ‰∏äÊØè‰∏™ÂàÜÁâáÊòØLucene‰∏≠ÁöÑ‰∏Ä‰∏™Á¥¢ÂºïÊñá‰ª∂ÔºåÂõ†Ê≠§‰∏Ä‰∏™ÂàÜÁâáÊúâ‰∏Ä‰∏™‰∏ªÂàÜÁâáÂíå0Âà∞Â§ö‰∏™ÂâØÊú¨ÂàÜÁâá ‚Äã ElasticSearchËøõË°åÁ¥¢ÂºïÊó∂ÔºåÊòØÂØπÂ§ö‰∏™ÂàÜÁâá‰ø°ÊÅØËøõË°åÁ¥¢ÂºïÂêéËøõË°åÊ±áÊÄªÔºåÂàôÂàÜÁâá‰∏ÄÊó¶ËÆæÁΩÆÂàô‰∏çÂèØÊõ¥ÊîπÔºåÈªòËÆ§ÊòØ5‰∏™ÂàÜÁâáÔºåÁ¥¢ÂºïÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåÊòØÈÄöËøáË∑ØÁî±Êù•Á°ÆÂÆöÂÖ∑‰ΩìÂÜôÂÖ•Âì™‰∏™ÂàÜÁâáÁöÑ ReplicasÔºàÂ§á‰ªΩÔºâÔºö‰πüÁß∞‰∏∫ÂâØÊú¨ÔºåÊåáÂØπ‰∏ªÂàÜÁâáËøõË°åÂ§á‰ªΩÔºåElasticSearchÊûÑÂª∫Á¥¢ÂºïÊó∂ÔºåÂÖàÂú®‰∏ªÂàÜÁâáÂÆåÊàêÊï∞ÊçÆÁöÑÁ¥¢ÂºïÔºåÁÑ∂ÂêéÊï∞ÊçÆ‰ºö‰ªé‰∏ªÂàÜÁâáÂàÜÂèëÂ§á‰ªΩÂàÜÁâá‰∏äËøõË°åÁ¥¢Âºï IndexÔºàÁ¥¢ÂºïÔºâÔºöElasticSearch‰∏≠Á¥¢ÂºïÁî±‰∏Ä‰∏™ÂíåÂ§ö‰∏™ÂàÜÁâáÁªÑÊàêÔºå‰ΩøÁî®Á¥¢ÂºïÊó∂ÔºåÈúÄË¶ÅÈÄöËøáÁ¥¢ÂºïÂêçÁß∞Âú®ÈõÜÁæ§‰∏≠ËøõË°åÂîØ‰∏ÄÊ†áËØÜ TypeÔºàÁ±ªÂà´ÔºâÔºöÁ¥¢ÂºïÂÜÖÈÉ®ÈÄªËæëÂàÜÂå∫ÔºåÂêéÈù¢‰ºöÂèñÊ∂àType DocumentÔºàÊñáÊ°£ÔºâÔºöÁ¥¢Âºï‰∏≠ÊØè‰∏ÄÊù°Êï∞ÊçÆÂè´ÂÅö‰∏Ä‰∏™ÊñáÊ°£Ôºå‰∏Ä‰∏™ÊñáÊ°£ÈÄöËøá_idÂú®Á¥¢Âºï‰∏≠ËøõË°åÂîØ‰∏ÄÊ†áËØÜ„ÄÇ SettingsÔºöÂØπÈõÜÁæ§‰∏≠Á¥¢ÂºïÂÆö‰πâ‰ø°ÊÅØÔºåÊØîÂ¶Ç‰∏Ä‰∏™Á¥¢ÂºïÁöÑÂàÜÁâáÊï∞„ÄÅÂâØÊú¨Êï∞Á≠â MappingÔºöMapping‰∏≠‰øùÂ≠òÂÆö‰πâÁ¥¢Âºï‰∏≠Â≠óÊÆµÔºàField)ÁöÑÂ≠òÂÇ®Á±ªÂûãÔºåÂàÜËØçÊñπÂºè„ÄÅÊòØÂê¶Â≠òÂÇ®Á≠â‰ø°ÊÅØÔºåÁ±ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑSchema AnalyzerÔºöAnalyzerË°®Á§∫ÁöÑÊòØÂ≠óÊÆµÂàÜËØçÊñπÂºèÁöÑÂÆö‰πâÔºå‰∏Ä‰∏™AnalyzerÈÄöÂ∏∏Áî±‰∏Ä‰∏™TokenizerÂíåÈõ∂Âà∞Â§ö‰∏™FilterÁªÑÊàê„ÄÇÈªòËÆ§ÁöÑÊ†áÂáÜÁöÑAnalyzerÂåÖÂê´‰∏Ä‰∏™Ê†áÂáÜÁöÑTokenizerÂíå‰∏â‰∏™Filter„ÄÅÂç≥Standard Token Filter„ÄÅLower case Token FilterÂíåStop Token Filter ElasticSearchÊû∂ÊûÑ ElasticSearchÊû∂ÊûÑËá™Â∫ïÂêë‰∏äÂàÜ‰∏∫‰∫îÂ±ÇÔºåÂàÜÂà´‰∏∫Ê†∏ÂøÉÂ±Ç„ÄÅÊï∞ÊçÆÂ§ÑÁêÜÂ±Ç„ÄÅÂèëÁé∞‰∏éËÑöÊú¨Â±Ç„ÄÅÂçèËÆÆÂ±ÇÂíåÂ∫îÁî®Â±Ç„ÄÇ :japanese_ogre:Âú®ElasticSearchÂÜÖÈÉ®ÔºåÈÄöËøáÈõÜÁæ§‰∏≠ÈÖçÁΩÆ‰∏Ä‰∏™Áõ∏ÂêåÁöÑÈõÜÁæ§ÂêçÁß∞ÔºåÂ∞±ËÉΩÂ∞Ü‰∏çÂêåÁöÑËäÇÁÇπËøûÊé•Âà∞‰∏Ä‰∏™ÈõÜÁæ§‰∏≠ÔºåËøôÊòØÈÄöËøáElasticSearchËäÇÁÇπËá™Âä®ÂèëÁé∞Êú∫Âà∂ÂÆûÁé∞ÁöÑ ÂàÜÁâá‰∏éË∑ØÁî±ElasticSearchÂØπÊñáÊ°£ÁöÑÊñ∞Âª∫„ÄÅÁ¥¢ÂºïÂíåÂà†Èô§ËØ∑Ê±ÇÁ≠âÂÜôÊìç‰ΩúÔºåÂøÖÈ°ªÂú®‰∏ªÂàÜÁâá‰∏äÈù¢ÂÆåÊàê‰πãÂêéÊâçËÉΩË¢´Â§çÂà∂Âà∞Áõ∏ÂÖ≥ÁöÑÂâØÊú¨ÂàÜÁâá„ÄÇElasticsearch‰∏∫‰∫ÜÂä†Âø´ÂÜôÂÖ•ÁöÑÈÄüÂ∫¶ÔºåÂÜôÂÖ•ËøáÁ®ãÂæÄÂæÄÊòØÂπ∂ÂèëÂÆûÊñΩÁöÑ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Âú®Âπ∂ÂèëÂÜôÁöÑËøáÁ®ã‰∏≠Âá∫Áé∞ÁöÑÊï∞ÊçÆÂÜ≤Á™ÅÁöÑÈóÆÈ¢òÔºåElasticsearchÈÄöËøá‰πêËßÇÈîÅËøõË°åÊéßÂà∂ÔºåÊØè‰∏™ÊñáÊ°£ÈÉΩÊúâ‰∏Ä‰∏™version ÔºàÁâàÊú¨Âè∑ÔºâÔºåÂΩìÊñáÊ°£Ë¢´‰øÆÊîπÊó∂ÁâàÊú¨Âè∑ÈÄíÂ¢û„ÄÇElasticsearchÂºïÂÖ•‰∫ÜË∑ØÁî±ÂäüËÉΩÔºåÂç≥Êï∞ÊçÆÂú®ÂÜôÂÖ•Êó∂ÔºåÈÄöËøáË∑ØÁî±Â∞ÜÊï∞ÊçÆÂÜôÂÖ•ÊåáÂÆöÂàÜÁâáElasticsearchÈªòËÆ§‰ºöÊêúÁ¥¢ÊâÄÊúâÂàÜÁâá‰∏äÁöÑÊï∞ÊçÆÔºåÊúÄÂêéÂú®‰∏ªËäÇÁÇπ‰∏äÊ±áÊÄªÂêÑ‰∏™ÂàÜÁâáÊï∞ÊçÆÂπ∂ËøõË°åÊéíÂ∫èÂ§ÑÁêÜÂêéÔºåËøîÂõûÊúÄÁªàÁöÑÁªìÊûúÊï∞ÊçÆ„ÄÇ ÊÆµ‚ÄùÊÆµ‚ÄúÊòØElasticsearch‰ªéLucene‰∏≠ÁªßÊâøÁöÑÊ¶ÇÂøµ„ÄÇÂú®Á¥¢Âºï‰∏≠ÔºåÁ¥¢ÂºïÊñá‰ª∂Ë¢´ÊãÜÂàÜ‰∏∫Â§ö‰∏™Â≠êÊñá‰ª∂ÔºåÂÖ∂‰∏≠ÊØè‰∏™Â≠êÊñá‰ª∂Â∞±Âè´ÂÅöÊÆµÔºåÊØè‰∏™ÊÆµÈÉΩÊòØ‰∏Ä‰∏™ ÂÄíÊéíÁ¥¢ÂºïÁöÑÂ∞èÂçïÂÖÉ„ÄÇ ÊÆµÂÖ∑Êúâ‰∏çÂèòÊÄßÔºå‰∏ÄÊó¶Á¥¢ÂºïÁöÑÊï∞ÊçÆË¢´ÂÜôÂÖ•Á°¨ÁõòÔºåÂ∞±‰∏çËÉΩÂÜç‰øÆÊîπ„ÄÇ :question:‰∏∫‰ªÄ‰πàË¶ÅÂºïÂÖ•ÂàÜÊÆµÂë¢ Â¶ÇÊûúÂÖ®ÈÉ®ÊñáÊ°£ÈõÜÂêà‰ªÖÊûÑÂª∫Âú®‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂÄíÊéíÁ¥¢ÂºïÊñá‰ª∂‰∏≠Ôºå‰∏îÊï∞ÊçÆÈáèËøòÂú®‰∏çÊñ≠Â¢ûÂä†ÔºåÂΩìËøõË°å‰øÆÊîπÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÖ®ÈáèÊõ¥Êñ∞ÂΩìÂâçÁöÑÂÄíÊéíÁ¥¢ÂºïÊñá‰ª∂ÔºåËøô‰ºö‰ΩøÂæóÊï∞ÊçÆÊõ¥Êñ∞Êó∂ÊïàÊÄßÂæàÂ∑ÆÔºå‰∏îËÄóË¥πÂ§ßÈáèËµÑÊ∫êÔºåÊòæÁÑ∂Ëøô‰∏çÊòØÊàë‰ª¨Â∏åÊúõÁöÑ„ÄÇÂÖ∂ÂÆûÂú®Lucene‰∏≠ÔºåÂàÜÊÆµÁöÑÂ≠òÂÇ®Ê®°ÂºèÂèØ‰ª•ÈÅøÂÖçÂú®ËØªÂÜôÊìç‰ΩúÊó∂‰ΩøÁî®ÈîÅÔºå‰ªéËÄåÂ§ßÂ§ßÊèêÂçáElasticsearchÁöÑËØªÂÜôÊÄßËÉΩ„ÄÇËøôÊúâÁÇπÁ±ª‰ººCurrentHashMap‰∏≠‚ÄúÂàÜÊÆµÈîÅ‚ÄùÁöÑÊ¶ÇÂøµÔºå‰ø©ËÄÖÈÉΩÊòØ‰∏∫‰∫ÜÂáèÂ∞ëÈîÅÁöÑ‰ΩøÁî®ÔºåÊèêÈ´òÂπ∂Âèë„ÄÇ Êèê‰∫§ÁÇπÂΩìÂàÜÊÆµË¢´ÂÜôÂÖ•Á£ÅÁõòÂêé‰ºöÁîüÊàê‰∏Ä‰∏™Êèê‰∫§ÁÇπÔºåÊèê‰∫§ÁÇπÊÑèÂë≥ÁùÄ‰∏Ä‰∏™Áî®Êù•ËÆ∞ÂΩïÊâÄÊúâÊÆµ‰ø°ÊÅØÁöÑÊñá‰ª∂Â∑≤ÁªèÁîüÊàê„ÄÇÂõ†Ê≠§Ôºå‰∏Ä‰∏™ÊÆµ‰∏ÄÊó¶Êã•Êúâ‰∫ÜÊèê‰∫§ÁÇπÔºåÂ∞±Ë°®Á§∫‰ªéÊ≠§ËØ•ÊÆµ‰ªÖÊúâËØªÁöÑÊùÉÈôêÔºåÊ∞∏ËøúÂ§±Âéª‰∫ÜÂÜôÁöÑÊùÉÈôê„ÄÇÂΩìÊÆµÂú®ÂÜÖÂ≠ò‰∏≠Êó∂ÔºåÊ≠§Êó∂ÂàÜÊÆµÊã•ÊúâÂè™ÂÜôÁöÑÊùÉÈôêÔºåÊï∞ÊçÆËøò‰ºö‰∏çÊñ≠ÂÜôÂÖ•ÔºåËÄå‰∏çÂÖ∑Â§áËØªÊï∞ÊçÆÁöÑÊùÉÈôêÔºåÊÑèÂë≥ÁùÄËøôÈÉ®ÂàÜÊï∞ÊçÆ‰∏çËÉΩË¢´ElasticsearchÁî®Êà∑Ê£ÄÁ¥¢Âà∞„ÄÇÈÇ£‰πàÔºåÊó¢ÁÑ∂Á¥¢ÂºïÊñá‰ª∂ÂàÜÊÆµÂ≠òÂÇ®Âπ∂‰∏î‰∏çÂèØ‰øÆÊîπÔºåÈÇ£‰πàÊñ∞Â¢û„ÄÅÊõ¥Êñ∞ÂíåÂà†Èô§Â¶Ç‰ΩïÂ§ÑÁêÜÂë¢ÔºüÂÖ∂ÂÆûÊñ∞Â¢ûÊòØÊØîËæÉÂÆπÊòìÂ§ÑÁêÜÁöÑ„ÄÇÊó¢ÁÑ∂Êï∞ÊçÆÊòØÊñ∞ÁöÑÔºåÈÇ£‰πàÂè™ÈúÄÂú®ÂΩìÂâçÊñáÊ°£Êñ∞Â¢û‰∏Ä‰∏™ÊÆµÂç≥ÂèØ„ÄÇÂà†Èô§Êï∞ÊçÆÊó∂ÔºåÁî±‰∫éÂàÜÊÆµ‰∏çÂèØ‰øÆÊîπÁöÑÁâπÊÄßÔºåElasticsearch‰∏ç‰ºöÊääÊñáÊ°£‰ªéÊóßÁöÑÊÆµ‰∏≠ÁßªÈô§ÔºåÂõ†ËÄåÊòØÊñ∞Â¢û‰∏Ä‰∏™.delÊñá‰ª∂Ôºå.delÊñá‰ª∂‰∏≠‰ºöËÆ∞ÂΩïËøô‰∫õË¢´Âà†Èô§ÊñáÊ°£ÁöÑÊÆµ‰ø°ÊÅØ„ÄÇË¢´Ê†áËÆ∞Âà†Èô§ÁöÑÊñáÊ°£‰ªçÁÑ∂ÂèØ‰ª•Ë¢´Êü•ËØ¢ÂåπÈÖçÂà∞Ôºå‰ΩÜÂÆÉ‰ºöÂú®ÊúÄÁªàÁªìÊûúË¢´ËøîÂõûÂâçÈÄöËøá.delÊñá‰ª∂Â∞ÜÂÖ∂‰ªéÁªìÊûúÈõÜ‰∏≠ÁßªÈô§„ÄÇÂΩìÊõ¥Êñ∞Êï∞ÊçÆÊó∂ÔºåÁî±‰∫éÂàÜÊÆµ‰∏çÂèØ‰øÆÊîπÁöÑÁâπÊÄßÔºåElasticsearchÊó†Ê≥ïÈÄöËøá‰øÆÊîπÊóßÁöÑÊÆµÊù•ÂèçÊò†ÊñáÊ°£ÁöÑÊõ¥Êñ∞Ôºå‰∫éÊòØÔºåÊõ¥Êñ∞Êìç‰ΩúÂèòÊàê‰∫Ü‰∏§‰∏™Êìç‰ΩúÁöÑÁªìÂêàÔºåÂç≥ÂÖàÂà†Èô§„ÄÅÂêéÊñ∞Â¢û„ÄÇElasticsearch‰ºöÂ∞ÜÊóßÁöÑÊñáÊ°£‰ªé.delÊñá‰ª∂‰∏≠Ê†áËÆ∞Âà†Èô§ÔºåÁÑ∂ÂêéÂ∞ÜÊñáÊ°£ÁöÑÊñ∞ÁâàÊú¨Á¥¢ÂºïÂà∞‰∏Ä‰∏™Êñ∞ÁöÑÊÆµ‰∏≠„ÄÇÂú®Êü•ËØ¢Êï∞ÊçÆÊó∂Ôºå‰∏§‰∏™ÁâàÊú¨ÁöÑÊñáÊ°£ÈÉΩ‰ºöË¢´‰∏Ä‰∏™Êü•ËØ¢ÂåπÈÖçÂà∞Ôºå‰ΩÜË¢´Âà†Èô§ÁöÑÊóßÁâàÊú¨ÊñáÊ°£Âú®ÁªìÊûúÈõÜËøîÂõûÂâçÂ∞±‰ºöË¢´ÁßªÈô§„ÄÇÁªº‰∏äÊâÄËø∞ÔºåÊÆµ‰Ωú‰∏∫‰∏çÂèØ‰øÆÊîπÊòØÂÖ∑Êúâ‰∏ÄÂÆö‰ºòÂäøÁöÑÔºåÊÆµÁöÑ‰ºòÂäø‰∏ªË¶ÅË°®Áé∞Âú®Ôºö‰∏çÈúÄË¶ÅÈîÅÔºå‰ªéËÄåÊèêÂçáElasticsearchÁöÑËØªÂÜôÊÄßËÉΩ„ÄÇ ÊÆµÂêàÂπ∂ElasticsearchÂºïÂÖ•ÊÆµÂêàÂπ∂Êú∫Âà∂„ÄÇÊÆµÂêàÂπ∂Êú∫Âà∂Âú®ÂêéÂè∞ÂÆöÊúüËøõË°åÔºå‰ªéËÄåÂ∞èÁöÑÊÆµË¢´ÂêàÂπ∂Âà∞Â§ßÁöÑÊÆµÔºåÁÑ∂ÂêéËøô‰∫õÂ§ßÁöÑÊÆµÂÜçË¢´ÂêàÂπ∂Âà∞Êõ¥Â§ßÁöÑÊÆµ„ÄÇÂú®ÊÆµÂêàÂπ∂ËøáÁ®ã‰∏≠ÔºåElasticsearch‰ºöÂ∞ÜÈÇ£‰∫õÊóßÁöÑÂ∑≤Âà†Èô§ÊñáÊ°£‰ªéÊñá‰ª∂Á≥ªÁªü‰∏≠Ê∏ÖÈô§„ÄÇË¢´Âà†Èô§ÁöÑÊñáÊ°£‰∏ç‰ºöË¢´Êã∑Ë¥ùÂà∞Êñ∞ÁöÑÂ§ßÊÆµ‰∏≠ÔºåÂΩìÁÑ∂ÔºåÂú®ÂêàÂπ∂ÁöÑËøáÁ®ã‰∏≠‰∏ç‰ºö‰∏≠Êñ≠Á¥¢ÂºïÂíåÊêúÁ¥¢„ÄÇÊÆµÂêàÂπ∂ÊòØËá™Âä®ËøõË°åÁ¥¢ÂºïÂíåÊêúÁ¥¢ÁöÑÔºåÂú®ÂêàÂπ∂ËøõÁ®ã‰∏≠Ôºå‰ºöÈÄâÊã©‰∏ÄÂ∞èÈÉ®ÂàÜÂ§ßÂ∞èÁõ∏‰ººÁöÑÊÆµÔºåÂú®ÂêéÂè∞Â∞ÜÂÆÉ‰ª¨ÂêàÂπ∂Âà∞Êõ¥Â§ßÁöÑÊÆµ‰∏≠ÔºåËøô‰∫õÊÆµÊó¢ÂèØ‰ª•ÊòØÊú™Êèê‰∫§ÁöÑÔºå‰πüÂèØ‰ª•ÊòØÂ∑≤Êèê‰∫§ÁöÑ„ÄÇÂú®ÂêàÂπ∂ÁªìÊùüÂêéÔºåËÄÅÁöÑÊÆµ‰ºöË¢´Âà†Èô§ÔºåÊñ∞ÁöÑÊÆµË¢´FlushÂà∞Á£ÅÁõòÔºåÂêåÊó∂ÂÜôÂÖ•‰∏Ä‰∏™ÂåÖÂê´Êñ∞ÊÆµ‰∏îÊéíÈô§ÊóßÁöÑÂíåËæÉÂ∞èÁöÑÊÆµÁöÑÊñ∞Êèê‰∫§ÁÇπ„ÄÇÊâìÂºÄÊñ∞ÁöÑÊÆµ‰πãÂêéÔºåÂèØ‰ª•Áî®Êù•ÊêúÁ¥¢„ÄÇÁî±‰∫éÊÆµÂêàÂπ∂ÁöÑËÆ°ÁÆóÈáèËæÉÂ§ßÔºåÂØπÁ£ÅÁõòI/OÁöÑÊ∂àËÄó‰πüËæÉÂ§ßÔºåÂõ†Ê≠§ÊÆµÂêàÂπ∂‰ºöÂΩ±ÂìçÊ≠£Â∏∏ÁöÑÊï∞ÊçÆÂÜôÂÖ•ÈÄüÁéáÔºåÂõ†Ê≠§Elasticsearch‰∏ç‰ºöÊîæ‰ªªËá™ÊµÅÔºåËÆ©ÊÆµÂêàÂπ∂ÂΩ±ÂìçÊêúÁ¥¢ÊÄßËÉΩ„ÄÇElasticsearchÂú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰ºöÂØπÂêàÂπ∂ÊµÅÁ®ãËøõË°åËµÑÊ∫êÈôêÂà∂ÔºåËøôÂ∞±ÊòØÊêúÁ¥¢ÊúçÂä°‰ªçÁÑ∂ÊúâË∂≥Â§üÁöÑËµÑÊ∫ê‰ªçÁÑ∂ÂèØ‰ª•ÊâßË°åÁöÑÂéüÂõ†„ÄÇ ‰∫ãÂä°Êó•ÂøóÊú∫Âà∂ElasticsearchÂºïÂÖ•‰∫ãÂä°Êó•ÂøóÔºàTranslogÔºâÊú∫Âà∂„ÄÇ‰∫ãÂä°Êó•ÂøóÁî®‰∫éËÆ∞ÂΩïÊâÄÊúâËøòÊ≤°ÊúâÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÁöÑÊï∞ÊçÆ„ÄÇ‰∫éÊòØÔºåÂú®Ê∑ªÂä†‰∫Ü‰∫ãÂä°Êó•ÂøóÊú∫Âà∂ÂêéÔºåÊï∞ÊçÆÂÜôÂÖ•Á¥¢ÂºïÁöÑÊµÅÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫„ÄÇÔºà1ÔºâÊñ∞ÊñáÊ°£Ë¢´Á¥¢Âºï‰πãÂêéÔºåÂÖàË¢´ÂÜôÂÖ•ÂÜÖÂ≠ò‰∏≠„ÄÇ‰∏∫‰∫ÜÈò≤Ê≠¢Êï∞ÊçÆ‰∏¢Â§±ÔºåElasticsearch‰ºöËøΩÂä†‰∏Ä‰ªΩÊï∞ÊçÆÂà∞‰∫ãÂä°Êó•Âøó‰∏≠„ÄÇÔºà2ÔºâÊñ∞ÁöÑÊñáÊ°£ÊåÅÁª≠Âú®Ë¢´ÂÜôÂÖ•ÂÜÖÂ≠òÊó∂ÔºåÂêåÊó∂‰πü‰ºöËÆ∞ÂΩïÂà∞‰∫ãÂä°Êó•Âøó‰∏≠„ÄÇÂΩìÁÑ∂ÔºåÊ≠§Êó∂ÁöÑÊñ∞Êï∞ÊçÆËøò‰∏çËÉΩË¢´Ê£ÄÁ¥¢ÂíåÊü•ËØ¢„ÄÇÔºà3ÔºâÂΩìËææÂà∞ÈªòËÆ§ÁöÑÂà∑Êñ∞Êó∂Èó¥ÊàñÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆËææÂà∞‰∏ÄÂÆöÈáèÂêéÔºåElasticsearch‰ºöËß¶Âèë‰∏ÄÊ¨°Âà∑Êñ∞ÔºåÂ∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰ª•‰∏Ä‰∏™Êñ∞ÊÆµÂΩ¢ÂºèÂà∑Êñ∞Âà∞Êñá‰ª∂ÁºìÂ≠òÁ≥ªÁªü‰∏≠Âπ∂Ê∏ÖÁ©∫ÂÜÖÂ≠ò„ÄÇËøôÊó∂Êñ∞ÊÆµËôΩÊú™Ë¢´Êèê‰∫§Âà∞Á£ÅÁõòÔºå‰ΩÜÂ∑≤ÁªèÂèØ‰ª•ÂØπÂ§ñÊèê‰æõÊñáÊ°£ÁöÑÊ£ÄÁ¥¢ÂäüËÉΩ‰∏î‰∏çË¢´‰øÆÊîπ„ÄÇÔºà4ÔºâÈöèÁùÄÊñ∞ÊñáÊ°£Á¥¢Âºï‰∏çÊñ≠Ë¢´ÂÜôÂÖ•ÔºåÂΩìÊó•ÂøóÊï∞ÊçÆÂ§ßÂ∞èË∂ÖËøáÊüê‰∏™ÂÄºÔºàÂ¶Ç512MBÔºâÔºåÊàñËÄÖË∂ÖËøá‰∏ÄÂÆöÊó∂Èó¥ÔºàÂ¶Ç30 minÔºâÊó∂ÔºåElasticsearch‰ºöËß¶Âèë‰∏ÄÊ¨°Flush„ÄÇÊ≠§Êó∂ÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆË¢´ÂÜôÂÖ•‰∏Ä‰∏™Êñ∞ÊÆµÔºåÂêåÊó∂Ë¢´ÂÜôÂÖ•Êñá‰ª∂ÁºìÂ≠òÁ≥ªÁªüÔºåÊñá‰ª∂ÁºìÂ≠òÁ≥ªÁªü‰∏≠ÁöÑÊï∞ÊçÆÈÄöËøáFsyncÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠ÔºåÁîüÊàêÊèê‰∫§ÁÇπ„ÄÇËÄåÊó•ÂøóÊñá‰ª∂Ë¢´Âà†Èô§ÔºåÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑÊñ∞Êó•Âøó„ÄÇ È´òÁ∫ßÂÆ¢Êà∑Á´ØÈ´òÁ∫ßÂÆ¢Êà∑Á´ØÂü∫‰∫éÂàùÁ∫ßÂÆ¢Êà∑Á´ØÊù•ÂÆûÁé∞„ÄÇÈ´òÁ∫ßÂÆ¢Êà∑Á´ØÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØÂÖ¨ÂºÄÁâπÂÆöÁöÑAPIÊñπÊ≥ïÔºåËøô‰∫õAPIÊñπÊ≥ïÂ∞ÜÊé•Êî∂ËØ∑Ê±Ç‰Ωú‰∏∫ÂèÇÊï∞Âπ∂ËøîÂõûÂìçÂ∫îÁªìÊûúÔºå‰ª•‰æøÁî±ÂÆ¢Êà∑Á´ØÊú¨Ë∫´Â§ÑÁêÜËØ∑Ê±ÇÂíåÂìçÂ∫îÁªìÊûú„ÄÇ È´òÁ∫ßÂÆ¢Êà∑Á´Ø‰πüÊúâÂêåÊ≠•„ÄÅÂºÇÊ≠•‰∏§ÁßçAPIË∞ÉÁî®ÊñπÂºè„ÄÇÂÖ∂‰∏≠Ôºå‰ª•ÂêåÊ≠•Ë∞ÉÁî®ÊñπÂºèË∞ÉÁî®ÂêéÁõ¥Êé•ËøîÂõûÂìçÂ∫îÂØπË±°ÔºåËÄåÂºÇÊ≠•Ë∞ÉÁî®ÊñπÂºèÂàôÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏™ÁõëÂê¨Âô®ÂèÇÊï∞ÊâçËÉΩË∞ÉÁî®ÔºåËØ•ÂèÇÊï∞Âú®Êî∂Âà∞ÂìçÂ∫îÊàñÈîôËØØÂêé‰ºöÂæóÂà∞Áõ∏Â∫îÁöÑÁªìÊûúÈÄöÁü•„ÄÇ È´òÁ∫ßÂÆ¢Êà∑Á´ØÊñáÊ°£Áõ∏ÂÖ≥APIÂú®Elasticsearch‰∏≠ÔºåÈ´òÁ∫ßÂÆ¢Êà∑Á´ØÊîØÊåÅ‰ª•‰∏ãÊñáÊ°£Áõ∏ÂÖ≥ÁöÑAPIÔºöÔºà1ÔºâSingle document APIs‚Äî‚ÄîÂçïÊñáÊ°£Êìç‰ΩúAPI„ÄÇÔºà2ÔºâIndex API‚Äî‚ÄîÊñáÊ°£Á¥¢ÂºïAPI„ÄÇÔºà3ÔºâGet API‚Äî‚ÄîÊñáÊ°£Ëé∑ÂèñAPI„ÄÇÔºà4ÔºâExists API‚Äî‚ÄîÊñáÊ°£Â≠òÂú®ÊÄßÂà§Êñ≠API„ÄÇÔºà5ÔºâDelete API‚Äî‚ÄîÊñáÊ°£Âà†Èô§API„ÄÇÔºà6ÔºâUpdate API‚Äî‚ÄîÊñáÊ°£Êõ¥Êñ∞API„ÄÇÔºà7ÔºâTerm Vectors API‚Äî‚ÄîËØçÂêëÈáèAPI„ÄÇÔºà8ÔºâBulk API‚Äî‚ÄîÊâπÈáèÂ§ÑÁêÜAPI„ÄÇÔºà9ÔºâMulti-Get API‚Äî‚ÄîÂ§öÊñáÊ°£Ëé∑ÂèñAPI„ÄÇÔºà10ÔºâReIndex API‚Äî‚ÄîÈáçÊñ∞Á¥¢ÂºïAPI„ÄÇÔºà11ÔºâUpdate By Query API‚Äî‚ÄîÊü•ËØ¢Êõ¥Êñ∞API„ÄÇÔºà12ÔºâDelete By Query API‚Äî‚ÄîÊü•ËØ¢Âà†Èô§API„ÄÇÔºà13ÔºâMulti Term Vectors API‚Äî‚ÄîÂ§öËØçÊù°ÂêëÈáèAPI„ÄÇ ÊñáÊ°£Á¥¢ÂºïElasticsearchÊòØÈù¢ÂêëÊñáÊ°£ÁöÑÔºåÂÆÉÂèØ‰ª•Â≠òÂÇ®Êï¥‰∏™ÊñáÊ°£„ÄÇ‰ΩÜElasticsearchÂØπÊñáÊ°£ÁöÑÊìç‰Ωú‰∏ç‰ªÖÈôê‰∫éÂ≠òÂÇ®ÔºåElasticsearchËøò‰ºöÁ¥¢ÂºïÊØè‰∏™ÊñáÊ°£ÁöÑÂÜÖÂÆπ‰Ωø‰πãÂèØ‰ª•Ë¢´ÊêúÁ¥¢„ÄÇÁî®Êà∑ÂèØ‰ª•ÂØπÊñáÊ°£Êï∞ÊçÆËøõË°åÁ¥¢Âºï„ÄÅÊêúÁ¥¢„ÄÅÊéíÂ∫èÂíåËøáÊª§Á≠âÊìç‰Ωú ÊûÑÂª∫JsonÊñáÊ°£Ôºö1„ÄÅStringÊûÑÂª∫ 2„ÄÅMapÊûÑÂª∫ 3„ÄÅÂà©Áî®JacksonÂ∫èÂàóÂåñJava beanÊûÑÂª∫ 4„ÄÅ‰ΩøÁî®ÂÜÖÁΩÆÁöÑÂ∏ÆÂä©Á±ªXContentFactory.jso IndexReques:ÊûÑÂª∫ÊñáÊ°£ËØ∑Ê±Ç‚Äî‚Äì&gt;ÊûÑÂª∫ÊñáÊ°£ÂìçÂ∫î IndexRequest‰∏≠ÔºåÈô§‰∏â‰∏™ÂèÇÊï∞Â§ñ(index-type-id)ÔºåËøòÊúâ‰∏Ä‰∫õÂèØÈÄâÂèÇÊï∞„ÄÇÂèØÈÄâÂèÇÊï∞ÂåÖÂê´Ë∑ØÁî±„ÄÅË∂ÖÊó∂Êó∂Èó¥„ÄÅÁâàÊú¨„ÄÅÁâàÊú¨Á±ªÂûãÂíåÁ¥¢ÂºïÁÆ°ÈÅìÂêçÁß∞Á≠â„ÄÇ ÊñáÊ°£ÊêúÁ¥¢Êü•ËØ¢Âú®ÊâßË°åÊñáÊ°£Á¥¢ÂºïÊü•ËØ¢ËØ∑Ê±ÇÂâçÔºåÈúÄË¶ÅÊûÑÂª∫ÊñáÊ°£Á¥¢ÂºïÊü•ËØ¢ËØ∑Ê±ÇÔºåÂç≥GetRequest„ÄÇGetRequestÊúâ‰∏§‰∏™ÂøÖÈÄâÂèÇÊï∞ÔºåÂç≥Á¥¢ÂºïÂêçÁß∞ÂíåÊñáÊ°£ID Âà†Èô§ÊñáÊ°£Á¥¢ÂºïÂú®ÊâßË°åÂà†Èô§ÊñáÊ°£Á¥¢ÂºïËØ∑Ê±ÇÂâçÔºåÈúÄË¶ÅÊûÑÂª∫Âà†Èô§ÊñáÊ°£Á¥¢ÂºïËØ∑Ê±ÇÔºåÂç≥DeleteRequest„ÄÇÂú®DeleteRequest‰∏≠Êúâ‰∏§‰∏™ÂøÖÈÄâÂèÇÊï∞ÔºåÂç≥Á¥¢ÂºïÂêçÁß∞ÂíåÊñáÊ°£ID Êõ¥Êñ∞ÊñáÊ°£Á¥¢ÂºïÂú®ÊâßË°åÊõ¥Êñ∞Á¥¢ÂºïÊñáÊ°£ËØ∑Ê±ÇÂâçÔºåÈúÄË¶ÅÊûÑÂª∫Êõ¥Êñ∞ÊñáÊ°£Á¥¢ÂºïËØ∑Ê±ÇÔºåÂç≥UpdateRequest„ÄÇUpdateRequestÊúâ‰∏§‰∏™ÂøÖÈÄâÂèÇÊï∞ÔºåÂç≥Á¥¢ÂºïÂêçÁß∞ÂíåÊñáÊ°£ID ÊñáÊ°£Â§ÑÁêÜËøáÁ®ãËß£ÊûêÂÜôÂÖ•Á£ÅÁõòÁöÑÂÄíÊéíÁ¥¢ÂºïÊòØ‰∏çÂèØÂèòÁöÑ„ÄÇ Lucene‰∏≠ÁöÑÁ¥¢ÂºïÂÖ∂ÂÆûÊòØElasticSearch‰∏≠ÁöÑÂàÜÁâáÔºåElasticSearch‰∏≠ÁöÑÁ¥¢ÂºïÂ∞±ÊòØÂàÜÁâáÁöÑÈõÜÂêà„ÄÇÂΩìElasticSearchÊêúÁ¥¢Á¥¢ÂºïÊó∂ÔºåÂÆÉÂèëÈÄÅÊü•ËØ¢ËØ∑Ê±ÇÁªôËØ•Á¥¢Âºï‰∏ãÁöÑÊâÄÊúâÂàÜÁâáÔºåÁÑ∂ÂêéËøáÊª§Ëøô‰∫õÁªìÊûúÔºåÊúÄÂêéËÅöÂêàÊàêÂÖ®Â±ÄÁöÑÁªìÊûú„ÄÇ ‰∏∫‰∫ÜÈÅøÂÖçÊ∑∑Ê∑ÜÔºåElasticsearchÂºïÂÖ•‰∫Üper-segment searchÁöÑÊ¶ÇÂøµ„ÄÇ‰∏Ä‰∏™ÊÆµÔºàsegmentÔºâÂ∞±‰∏Ä‰∏™ÊòØÊúâÂÆåÊï¥ÂäüËÉΩÁöÑÂÄíÊéíÁ¥¢Âºï„ÄÇLucene‰∏≠ÁöÑÁ¥¢ÂºïÊåáÁöÑÊòØÊÆµÁöÑÈõÜÂêàÔºåÂÜçÂä†‰∏äÊèê‰∫§ÁÇπÔºàcommit pointÔºåÂåÖÊã¨ÊâÄÊúâÊÆµÁöÑÊñá‰ª∂Ôºâ„ÄÇÊñ∞ÁöÑÊñáÊ°£Âú®Ë¢´ÂÜôÂÖ•Á£ÅÁõòÁöÑÊÆµ‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂÜôÂÖ•ÂÜÖÂ≠òÂå∫ÁöÑÁ¥¢Âºï„ÄÇ‰∏Ä‰∏™per-segment searchÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫ÔºöÔºà1ÔºâÊñ∞ÁöÑÊñáÊ°£È¶ñÂÖàË¢´ÂÜôÂÖ•ÂÜÖÂ≠òÂå∫ÁöÑÁ¥¢Âºï„ÄÇÔºà2ÔºâÂÜÖÂ≠ò‰∏≠ÁöÑÁ¥¢Âºï‰∏çÊñ≠Ë¢´Êèê‰∫§ÔºåÊñ∞ÊÆµ‰∏çÊñ≠‰∫ßÁîü„ÄÇÂΩìÊñ∞ÁöÑÊèê‰∫§ÁÇπ‰∫ßÁîüÊó∂Â∞±Â∞ÜËøô‰∫õÊñ∞ÊÆµÁöÑÊï∞ÊçÆÂÜôÂÖ•Á£ÅÁõòÔºåÂåÖÊã¨Êñ∞ÊÆµÁöÑÂêçÁß∞„ÄÇÂÜôÂÖ•Á£ÅÁõòÊòØÊñá‰ª∂ÂêåÊ≠•ÂÜôÂÖ•ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÊâÄÊúâÁöÑÂÜôÊìç‰ΩúÈÉΩÈúÄË¶ÅÁ≠âÂæÖÊñá‰ª∂Á≥ªÁªüÂÜÖÂ≠òÁöÑÊï∞ÊçÆÂêåÊ≠•Âà∞Á£ÅÁõòÔºåÁ°Æ‰øùÂÆÉ‰ª¨ÂèØ‰ª•Ë¢´Áâ©ÁêÜÂÜôÂÖ•„ÄÇÔºà3ÔºâÊñ∞ÊÆµË¢´ÊâìÂºÄÔºå‰∫éÊòØÂÆÉÂåÖÂê´ÁöÑÊñáÊ°£Â∞±ÂèØ‰ª•Ë¢´Ê£ÄÁ¥¢Âà∞„ÄÇÔºà4ÔºâÂÜÖÂ≠òË¢´Ê∏ÖÈô§ÔºåÁ≠âÂæÖÊé•Êî∂Êñ∞ÁöÑÊñáÊ°£„ÄÇÂΩì‰∏Ä‰∏™ËØ∑Ê±ÇË¢´Êé•Êî∂ÔºåÊâÄÊúâÊÆµ‰æùÊ¨°Ë¢´Êü•ËØ¢Êó∂„ÄÇÊâÄÊúâÊÆµ‰∏äÁöÑtermÁªüËÆ°‰ø°ÊÅØ‰ºöË¢´ËÅöÂêàÔºåÁ°Æ‰øùÊØè‰∏™termÂíåÊñáÊ°£ÁöÑÁõ∏ÂÖ≥ÊÄßË¢´Ê≠£Á°ÆËÆ°ÁÆó„ÄÇÈÄöËøáËøôÁßçÊñπÂºèÔºåÊñ∞ÁöÑÊñáÊ°£Â∞±ËÉΩÂ§ü‰ª•ËæÉÂ∞èÁöÑ‰ª£‰ª∑Âä†ÂÖ•Á¥¢Âºï„ÄÇÊÆµÊòØ‰∏çÂèØÂèòÁöÑÔºåÈÇ£‰πàElasticsearchÊòØÂ¶Ç‰ΩïÂà†Èô§ÂíåÊõ¥Êñ∞ÊñáÊ°£Êï∞ÊçÆÁöÑÂë¢ÔºüÊÆµÁöÑ‰∏çÂèØÂèòÁâπÊÄßÔºåÊÑèÂë≥ÁùÄÊñáÊ°£Êó¢‰∏çËÉΩ‰ªéÊóßÁöÑÊÆµ‰∏≠ÁßªÈô§ÔºåÊóßÁöÑÊÆµ‰∏≠ÁöÑÊñáÊ°£‰πü‰∏çËÉΩË¢´Êõ¥Êñ∞„ÄÇ‰∫éÊòØElasticsearchÂú®ÊØè‰∏Ä‰∏™Êèê‰∫§ÁÇπÈÉΩÂºïÂÖ•‰∏Ä‰∏™.delÊñá‰ª∂ÔºåÂåÖÂê´‰∫ÜÊÆµ‰∏äÂ∑≤ÁªèË¢´Âà†Èô§ÁöÑÊñáÊ°£„ÄÇÂΩì‰∏Ä‰∏™ÊñáÊ°£Ë¢´Âà†Èô§Êó∂ÔºåÂÆÉÂÆûÈôÖ‰∏äÂè™ÊòØÂú®.delÊñá‰ª∂‰∏≠Ë¢´Ê†áËÆ∞‰∏∫Âà†Èô§„ÄÇÂú®ËøõË°åÊñáÊ°£Êü•ËØ¢Êó∂ÔºåË¢´Âà†Èô§ÁöÑÊñáÊ°£‰æùÁÑ∂ÂèØ‰ª•Ë¢´ÂåπÈÖçÊü•ËØ¢Ôºå‰ΩÜÊòØÂú®ÊúÄÁªàËøîÂõû‰πãÂâç‰ºö‰ªéÁªìÊûú‰∏≠Âà†Èô§„ÄÇÂΩì‰∏Ä‰∏™ÊñáÊ°£Ë¢´Êõ¥Êñ∞Êó∂ÔºåÊóßÁâàÊú¨ÁöÑÊñáÊ°£‰ºöË¢´Ê†áËÆ∞‰∏∫Âà†Èô§ÔºåÊñ∞ÁâàÊú¨ÁöÑÊñáÊ°£Âú®Êñ∞ÁöÑÊÆµ‰∏≠Ë¢´Á¥¢Âºï„ÄÇÂΩìÂØπÊñáÊ°£ËøõË°åÊü•ËØ¢Êó∂ÔºåËØ•ÊñáÊ°£ÁöÑ‰∏çÂêåÁâàÊú¨ÈÉΩ‰ºöÂåπÈÖç‰∏Ä‰∏™Êü•ËØ¢ËØ∑Ê±ÇÔºå‰ΩÜÊòØËæÉÊóßÁöÑÁâàÊú¨‰ºö‰ªéÁªìÊûú‰∏≠Ë¢´Âà†Èô§„ÄÇË¢´Âà†Èô§ÁöÑÊñá‰ª∂Ë∂äÁßØÁ¥ØË∂äÂ§öÔºåÊØè‰∏™ÊÆµÊ∂àËÄóÁöÑÂ¶ÇÊñá‰ª∂Âè•ÊüÑ„ÄÅÂÜÖÂ≠ò„ÄÅCPUÁ≠âËµÑÊ∫êË∂äÊù•Ë∂äÂ§ß„ÄÇÂ¶ÇÊûúÊØèÊ¨°ÊêúÁ¥¢ËØ∑Ê±ÇÈÉΩÈúÄË¶Å‰æùÊ¨°Ê£ÄÊü•ÊØè‰∏™ÊÆµÔºåÂàôÊÆµË∂äÂ§öÔºåÊü•ËØ¢Â∞±Ë∂äÊÖ¢„ÄÇËøô‰∫õÂäøÂøÖ‰ºöÂΩ±ÂìçElasticsearchÁöÑÊÄßËÉΩÔºåÈÇ£‰πàElasticsearchÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑÂë¢ÔºüElasticsearchÂºïÂÖ•‰∫ÜÊÆµÂêàÂπ∂ÊÆµ„ÄÇÂú®ÊÆµÂêàÂπ∂Êó∂ÔºåÊàë‰ª¨‰ºöÂ±ïÁ§∫Ë¢´Âà†Èô§ÁöÑÊñá‰ª∂ÊòØÂ¶Ç‰Ωï‰ªéÊñá‰ª∂Á≥ªÁªü‰∏≠Ê∏ÖÈô§ÁöÑ„ÄÇElasticsearchÈÄöËøáÂêéÂè∞ÂêàÂπ∂ÊÆµÁöÑÊñπÂºèËß£ÂÜ≥‰∫Ü‰∏äËø∞ÈóÆÈ¢òÔºåÂú®ÊÆµÂêàÂπ∂ËøáÁ®ã‰∏≠ÔºåÂ∞èÊÆµË¢´ÂêàÂπ∂ÊàêÂ§ßÊÆµÔºåÂ§ßÊÆµÂÜçÂêàÂπ∂ÊàêÊõ¥Â§ßÁöÑÊÆµ„ÄÇÂú®ÂêàÂπ∂ÊÆµÊó∂ÔºåË¢´Âà†Èô§ÁöÑÊñáÊ°£‰∏ç‰ºöË¢´ÂêàÂπ∂Âà∞Â§ßÊÆµ‰∏≠„ÄÇÂú®Á¥¢ÂºïËøáÁ®ã‰∏≠Ôºårefresh‰ºöÂàõÂª∫Êñ∞ÁöÑÊÆµÔºåÂπ∂ÊâìÂºÄÂÆÉ„ÄÇÂêàÂπ∂ËøáÁ®ãÊòØÂú®ÂêéÂè∞ÈÄâÊã©‰∏Ä‰∫õÂ∞èÁöÑÊÆµÔºåÊääÂÆÉ‰ª¨ÂêàÂπ∂ÊàêÂ§ßÁöÑÊÆµ„ÄÇÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰∏ç‰ºö‰∏≠Êñ≠Á¥¢ÂºïÂíåÊêúÁ¥¢„ÄÇÂΩìÊñ∞ÊÆµÂêàÂπ∂ÂêéÔºåÂç≥ÂèØÊâìÂºÄ‰æõÊêúÁ¥¢ÔºõËÄåÊóßÊÆµ‰ºöË¢´Âà†Èô§„ÄÇ ÊâπÈáèËØ∑Ê±ÇBulkRequestÂèØÁî®‰∫éÈÄöËøáÂçïÊ¨°ËØ∑Ê±ÇÊâßË°åÂ§ö‰∏™Êìç‰ΩúËØ∑Ê±ÇÔºåÂ¶ÇÊñáÊ°£Á¥¢Âºï„ÄÅÊñáÊ°£Êõ¥Êñ∞„ÄÅÊñáÊ°£Âà†Èô§Á≠âÊìç‰Ωú„ÄÇ :articulated_lorry:Ôºö‰ºòË¥®ÊñáÁ´†]]></content>
      <tags>
        <tag>-ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂπ∂ÂèëÁºñÁ®ãÁöÑËâ∫ÊúØ]]></title>
    <url>%2F2020%2F06%2F15%2FJava%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E7%9A%84%E8%89%BA%E6%9C%AF%2F</url>
    <content type="text"><![CDATA[Âü∫Êú¨Ê¶ÇÂøµ‰∏ä‰∏ãÊñáÂàáÊç¢CPUÊó∂Èó¥ÂàÜÁâáÂØºËá¥Ôºå‰ªªÂä°Èó¥ÊòØÂàáÊç¢ÔºåÂç≥‰ªªÂä°‰ªé‰øùÂ≠òÂà∞ÂÜçÂä†ËΩΩÂ∞±ÊòØ‰∏ÄÊ¨°‰∏ä‰∏ãÊñáÂàáÊç¢„ÄÇ ‰∏ä‰∏ãÊñáÂàáÊç¢ÂΩ±ÂìçÂ§öÁ∫øÁ®ãÁöÑÊâßË°åÈÄüÂ∫¶ÔºåÂ¶Ç‰ΩïÂáèÂ∞ë‰∏ä‰∏ãÊñáÁöÑÂàáÊç¢Ôºö 1„ÄÅÊó†ÈîÅÂπ∂ÂèëÁºñÁ®ã„ÄÅ2„ÄÅCASÁÆóÊ≥ïÔºàatomicÂåÖ‰ΩøÁî®CASÁÆóÊ≥ïÊõ¥Êñ∞Êï∞ÊçÆÔºå‰∏çÈúÄË¶ÅÂä†ÈîÅÔºâ 3„ÄÅ‰ΩøÁî®ÊúÄÂ∞ëÁ∫øÁ®ã 4„ÄÅÂçèÁ®ã Ê≠ªÈîÅÂ§ö‰∏™ÈîÅËµÑÊ∫ê‰πãÈó¥‰∫íÁõ∏Á≠âÂæÖÂΩºÊ≠§ÈîÅËµÑÊ∫êÔºåÂØºËá¥Á®ãÂ∫è‰πãÈó¥Êó†Ê≥ïÈáäÊîæÈîÅËµÑÊ∫ê‰πüÊó†Ê≥ïËé∑ÂèñÈîÅËµÑÊ∫êÁöÑÁé∞Ë±°„ÄÇ ÈÅøÂÖçÊ≠ªÈîÅÁöÑÂ∏∏ËßÅÊñπÊ≥ïÔºö 1„ÄÅÈÅøÂÖç‰∏Ä‰∏™Á∫øÁ®ãÂêåÊó∂Ëé∑ÂèñÂ§ö‰∏™ÈîÅ 2„ÄÅÈÅøÂÖç‰∏Ä‰∏™Á∫øÁ®ãÂç†Áî®Â§ö‰∏™ËµÑÊ∫êÔºåÂ∞ΩÈáè‰øùËØÅÊØè‰∏™ÈîÅÂè™Âç†Áî®‰∏Ä‰∏™ËµÑÊ∫ê 3„ÄÅÂ∞ùËØï‰ΩøÁî®ÂÆöÊó∂ÈîÅÔºàlock.trylock(timeout)) Â∞èÊÄªÁªì‰∏∫‰ΩïÂêå‰∏™JVMÊ®°Âûã‰∏≠Â§ö‰∏™‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºü Ê∑±Á©∂ÂéüÂõ†ÊòØÂΩìÂâçÊìç‰ΩúÁ≥ªÁªü‰∏≠ÔºåÂ§öÊ†∏Â§öCPUÊÉÖÂÜµ‰∏ãÔºå Â§ÑÁêÜÂô®‰∏çÁõ¥Êé•‰∏éÂÜÖÂ≠òËøõË°åÈÄö‰ø°ÔºåËÄåÊòØÁ≥ªÁªüÂÜÖÂ≠ò Êï∞ÊçÆËØªÂèñÂà∞ÂÜÖÈÉ®ÁºìÂ≠òÔºàL1„ÄÅL2„ÄÅL3)ÂêéÂÜçËøõË°åÊìç‰ΩúÔºåÂπ∂‰∏îËØ•Êìç‰ΩúÊó∂Èó¥Êú™Áü•„ÄÇ ÂÜÖÂ≠òÂ±èÈöú:‰∏ÄÁªÑÂ§ÑÁêÜÂô®Êåá‰ª§ÔºåÂÆûÁé∞ÂØπÂÜÖÂ≠òÊìç‰ΩúÁöÑÈ°∫Â∫èÈôêÂà∂ ÁºìÂ≠òÂëΩ‰∏≠ÔºöÂ¶ÇÊûúËøõË°åÈ´òÈÄüÁºìÂ≠òË°åÂ°´ÂÖÖÊìç‰ΩúÁöÑÂÜÖÂ≠òÂú∞ÂùÄ‰ªçÁÑ∂ÊòØ‰∏ãÊ¨°Â§ÑÁêÜÂô®ËÆøÈóÆÁöÑÂú∞ÂùÄÔºåÂàôÂ§ÑÁêÜÂô®‰ªéÁºìÂ≠ò‰∏≠ËØªÂèñÊï∞ÊçÆËÄå‰∏çÊòØÂÜÖÂ≠ò„ÄÇ synchronizesynchronizeÂÆûÁé∞ÂêåÊ≠•ÁöÑÂü∫Á°ÄÔºöJava‰∏≠ÊØè‰∏™ÂØπË±°ÈÉΩÂèØ‰Ωú‰∏∫ÈîÅÔºõÂÖ∑‰ΩìË°®Áé∞‰∏∫‰∏âÁßçÁä∂ÊÄÅ ÂØπË±°ÊòØÊôÆÈÄöÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØÂΩìÂâçÁöÑÂÆû‰æãÂØπË±° ÂØπË±°ÊòØÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØÂΩìÂâçÁ±ªÁöÑClassÂØπË±° ÂØπ‰∫éÂêåÊ≠•ÊñπÊ≥ïÂùóÔºåÈîÅÊòØsynchronizeÊã¨Âè∑ÈáåÈÖçÁΩÆÁöÑÂØπË±° synchronizeÁî®ÁöÑÈîÅÊòØÂ≠òÂú®JavaÁöÑÂØπË±°Â§¥Mark WorkÈáå„ÄÇ Java‰∏≠ÈîÅ‰∏ÄÂÖ±Êúâ4ÁßçÁä∂ÊÄÅÔºåÁ∫ßÂà´‰ªé‰ΩéÂà∞‰æùÊ¨°‰∏∫ÔºöÊó†ÈîÅÁä∂ÊÄÅ„ÄÅÂÅèÂêëÈîÅÁä∂ÊÄÅ„ÄÅËΩªÈáèÁ∫ßÈîÅÁä∂ÊÄÅ„ÄÅÈáçÈáèÁ∫ßÈîÅÁä∂ÊÄÅÔºåËøôÂá†ÁßçÁä∂ÊÄÅ‰ºöÈöèÁùÄÁ´û‰∫âÊÉÖÂÜµÈÄêÊ∏êÂçáÁ∫ßÔºåÈîÅÂèØ‰ª•ÂçáÁ∫ß‰ΩÜ‰∏çÂèØÈôçÁ∫ß„ÄÇ 123456Â§ÑÁêÜÂô®Â¶Ç‰ΩïÂÆûÁé∞ÂéüÂ≠êÊìç‰ΩúÔºüÁ¨¨‰∏ÄÁßçÊú∫Âà∂ÊòØÂèØÈÄöËøáÊÄªÁ∫øÈîÅ‰øùËØÅÂéüÂ≠êÊìç‰ΩúÔºåÁ¨¨‰∫åÁßçÊú∫Âà∂ÊòØÈÄöËøáÁºìÂ≠òÈîÅÂÆöÊù•‰øùËØÅÂéüÂ≠êÊÄß„ÄÇÁºìÂ≠òÈîÅÂÆöÔºöÂÜÖÂ≠òÂå∫ÂüüË¢´ÁºìÂ≠òÂà∞Â§ÑÁêÜÂô®ÁºìÂ≠òË°å‰∏≠ÔºåÂπ∂‰∏îÂú®LOCKÊìç‰ΩúÊúüÈó¥Ë¢´ÈîÅÂÆöÔºåÂΩìÊâßË°åÈîÅÊìç‰ΩúÂõûÂÜôÂà∞ÂÜÖÂ≠òÊó∂ÔºåÂ§ÑÁêÜÂô®‰∏çËøõË°åÊÄªÁ∫øÈîÅÂÆöÔºåËÄåÊòØ‰øÆÊîπÂÜÖÈÉ®ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºåÂπ∂ËøêË°åÂÆÉÁöÑÁºìÂ≠ò‰∏ÄËá¥ÊÄß‰øùËØÅÊìç‰ΩúÁöÑÂéüÂ≠êÊÄß„ÄÇÂéüÂõ†ÔºöÁºìÂ≠ò‰∏ÄËá¥ÊÄß‰ºöÈòªÊ≠¢ÂêåÊó∂‰øÆÊîπÁî±‰ø©‰∏™‰ª•‰∏äÁöÑÂ§ÑÁêÜÂô®ÁºìÂ≠òÁöÑÂÜÖÂ≠òÂå∫ÂüüÊï∞ÊçÆÔºåÂΩìÂÖ∂‰∏≠Â§ÑÁêÜÂô®ÂõûÂÜôÂ∑≤Ë¢´ÈîÅÂÆöÁöÑÁºìÂ≠òË°åÁöÑÊï∞ÊçÆÊó∂Ôºå‰ºö‰ΩøÁºìÂ≠òË°åÊó†Êïà„ÄÇ Java‰∏≠ÈÄöËøáÈîÅ‰∏éÂæ™ÁéØCASÔºàcompare and swap ÊØîËæÉ‰∏éËÆæÁΩÆÔºâ ÊñπÂºèÂÆûÁé∞ÂéüÂ≠êÊìç‰Ωú CASÂÆûÁé∞ÂéüÂ≠êÊÄßÊìç‰ΩúÁöÑÂ§ß‰∏âÈóÆÈ¢òÔºö1Ôºâ„ÄÅABAÈóÆÈ¢ò 2Ôºâ„ÄÅÂæ™ÁéØÊó∂Èó¥ÈïøÂºÄÈîÄÂ§ß 3Ôºâ„ÄÅÂè™ËÉΩ‰øùËØÅ‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèÁöÑÂéüÂ≠êÊìç‰Ωú 12Â¶Ç‰ΩïËß£ÂÜ≥CASÊìç‰ΩúÂ§ö‰∏™ÂÖ±‰∫´ÂèòÈáèÊó∂ÂéüÂ≠êÊÄßÈóÆÈ¢òÔºüÁ¨¨‰∏ÄÁßçÂèØÁõ¥Êé•‰ΩøÁî®ÈîÅÊú∫Âà∂ÔºåÁ¨¨‰∫åÁßçÂèØ‰ΩøÁî®JDKÊèê‰æõÁöÑAtomicReferenceÁ±ªÊù•‰øùËØÅÂºïÁî®ÂØπË±°‰πãÈó¥ÁöÑÂéüÂ≠êÊÄßÔºåÂèØÊääÂ§ö‰∏™ÂèòÈáèÊîæÂÖ•Âà∞‰∏Ä‰∏™ÂØπË±°ÈáåÊù•ËøõË°åCASÊìç‰Ωú JVMÂÜÖÈÉ®ÂÆûÁé∞‰∫ÜÂæàÂ§öÈîÅÊú∫Âà∂ÔºåÈô§‰∫ÜÂÅèÂêëÈîÅÔºåJVMÂÆûÁé∞ÈîÅÁöÑÊñπÂºèÈÉΩ‰ΩøÁî®Âæ™ÁéØCAS,Âç≥ÂΩì‰∏Ä‰∏™Á∫øÁ®ãËøõÂÖ•ÂêåÊ≠•ÂùóÁöÑÊó∂ÂÄô‰ΩøÁî®Âæ™ÁéØCASÊñπÂºèÊù•Ëé∑ÂèñÈîÅÔºåÂΩìÂÆÉÈÄÄÂá∫ÂêåÊ≠•ÂùóÁöÑÊó∂ÂÄô‰ΩøÁî®Âæ™ÁéØCASÈáäÊîæÈîÅ„ÄÇ JavaÂÜÖÂ≠òÊ®°Âûã1234Á∫øÁ®ã‰πãÈó¥Â¶Ç‰ΩïÈÄö‰ø°‰∏éÁ∫øÁ®ã‰πãÈó¥Â¶Ç‰ΩïÂêåÊ≠•ÔºüÈÄö‰ø°ÂèØÈÄöËøá1„ÄÅÂÖ±‰∫´ÂÜÖÂ≠òÈöêÂºèËøõË°åÔºõ2„ÄÅÊ∂àÊÅØ‰º†ÈÄíÊòæÁ§∫ËøõË°å„ÄÇÂêåÊ≠•ÊòØÊåáÁ®ãÂ∫è‰∏≠Áî®‰∫éÊéßÂà∂‰∏çÂêåÁ∫øÁ®ãÈó¥Êìç‰ΩúÂèëÁîüÁõ∏ÂØπÈ°∫Â∫èÁöÑÊú∫Âà∂„ÄÇJavaÂπ∂ÂèëÈááÁî®ÁöÑÊòØÂÖ±‰∫´ÂÜÖÂ≠òÊ®°ÂûãÔºåÂêåÊ≠•ÊòØÊòæÁ§∫ËøõË°åÁöÑÔºåÈÄö‰ø°ÊòØÈÄöËøáÂÖ±‰∫´ÂÜÖÂ≠òÈöêÂºèËøõË°åÁöÑ„ÄÇ Âú®Java‰∏≠ÔºåÊâÄÊúâÂÆû‰æãÂüü„ÄÅÈùôÊÄÅÂüüÂíåÊï∞ÁªÑÂÖÉÁ¥†ÈÉΩÂ≠òÂÇ®Âú®Â†ÜÂÜÖÂ≠ò‰∏≠ÔºåÂ†ÜÂÜÖÂ≠òÊòØÁ∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´ÁöÑÔºåÂ±ÄÈÉ®ÂèòÈáèÔºåÊñπÊ≥ïÂÆö‰πâÂèÇÊï∞ÂíåÂºÇÂ∏∏Â§ÑÁêÜÂô®ÂèÇÊï∞ÈÉΩ‰∏ç‰ºöÂú®Á∫øÁ®ãÈó¥ÂÖ±‰∫´ÔºåÂõ†Ê≠§‰∏ç‰ºöÊúâÂÜÖÂ≠òÂèØËßÅÊÄßÈóÆÈ¢ò„ÄÇ JavaÁ∫øÁ®ã‰πãÈó¥ÁöÑÈÄö‰ø°Áî±JavaÂÜÖÂ≠òÊ®°Âûã(JMM)ÊéßÂà∂„ÄÇJMMÂÆö‰πâ‰∫ÜÁ∫øÁ®ã‰∏é‰∏ªÂÜÖÂ≠ò‰πãÈó¥ÁöÑÊäΩË±°ÂÖ≥Á≥ªÔºöÁ∫øÁ®ã‰πãÈó¥ÁöÑÂÖ±‰∫´ÂèòÈáèÂ≠òÂÇ®Âú®‰∏ªÂÜÖÂ≠òÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâ‰∏Ä‰∏™ÁßÅÊúâÁöÑÊú¨Âú∞ÂÜÖÂ≠òÔºåÊú¨Âú∞ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®‰∫ÜËØ•Á∫øÁ®ã‰ª•ËØª/ÂÜôÂÖ±‰∫´ÂèòÈáèÁöÑÂâØÊú¨„ÄÇ 12345Á∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°Ê®°ÂûãÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÈÄö‰ø°ÁöÑÔºüÁ∫øÁ®ãA‰∏éÁ∫øÁ®ãB‰πãÈó¥Ë¶ÅÂÆûÁé∞ÈÄö‰ø°ÔºåÂøÖÈ°ªÁªèÂéÜ‰ø©‰∏™Ê≠•È™§1ÔºâÁ∫øÁ®ãAÊääÊú¨Âú∞ÂÜÖÂ≠òAÊõ¥Êñ∞ËøáÁöÑÂÖ±‰∫´ÂèòÈáèÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò‰∏≠2ÔºâÁ∫øÁ®ãBÂà∞‰∏ªÂÜÖÂ≠òÂéªËØªÂèñÁ∫øÁ®ãA‰πãÈó¥Êõ¥Êñ∞ËøáÁöÑÂÖ±‰∫´ÂèòÈáè„ÄÇÁ∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°ÊòØÈÄöËøá‰∏ªÂÜÖÂ≠òËøõË°åÁöÑ„ÄÇ Á∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°ÂøÖÈ°ªÁªèËøá‰∏ªÂÜÖÂ≠ò„ÄÇJMMÈÄöËøáÊéßÂà∂‰∏ªÂÜÖÂ≠ò‰∏éÊØè‰∏™Á∫øÁ®ãÁöÑÊú¨Âú∞ÂÜÖÂ≠ò‰πãÈó¥ÁöÑ‰∫§‰∫íÔºåÊèê‰æõÂÜÖÂ≠òÂèØËßÅÊÄß‰øùËØÅ„ÄÇ ÈáçÊéíÂ∫èÊâßË°å‰ª£Á†ÅÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåÁºñËØëÂô®‰∏éÂ§ÑÁêÜÂô®Â∏∏Â∏∏‰ºöÂØπÊåá‰ª§ËøõË°åÈáçÊéíÂ∫èÔºåÈáçÊéíÂ∫èÂàÜ‰∏∫‰∏âÁ±ªÔºöÁºñËØëÂô®‰ºòÂåñÁöÑÈáçÊéíÂ∫è„ÄÅÊåá‰ª§Á∫ßÂπ∂Ë°åÁöÑÈáçÊéíÂ∫è„ÄÅÂÜÖÂ≠òÁ≥ªÁªüÁöÑÈáçÊéíÂ∫è„ÄÇÁ¨¨‰∏ÄÁßçÂ±û‰∫éÁºñËØëÂô®ÈáçÊéíÂ∫èÔºåÁ¨¨‰∫å„ÄÅ‰∏âÁßç‰∏∫Â§ÑÁêÜÂô®ÈáçÊéíÂ∫è„ÄÇ :baby_chick:top-ËÉåÊôØÁü•ËØÜ:Â§ÑÁêÜÂô®‰ΩøÁî®ÂÜôÁºìÂ≠òÂå∫‰∏¥Êó∂‰øùÂ≠òÂêëÂÜÖÂ≠òÂÜôÂÖ•ÁöÑÊï∞ÊçÆ„ÄÇÂÜôÁºìÂ≠òÂå∫ÂèØ‰ª•‰øùËØÅÊåá‰ª§ÊµÅÊ∞¥Á∫øÊåÅÁª≠ËøêË°åÔºåÈÅøÂÖçÁî±‰∫éÂ§ÑÁêÜÂô®ÂÅúÈ°ø‰∏ãÊù•Á≠âÂæÖÊÉ≥ÂÜÖÂ≠òÂÜôÂÖ•Êï∞ÊçÆËÄå‰∫ßÁîüÂª∂Ëøü„ÄÇÈÄöËøáÊâπÂ§ÑÁêÜÁöÑÊñπÂºèÂà∑Êñ∞ÂÜôÁºìÂÜ≤Âå∫Ôºå‰ª•ÂèäÂêàÂπ∂ÂÜôÁºìÂÜ≤Âå∫‰∏≠ÂØπÂêå‰∏ÄÂÜÖÂ≠òÂú∞ÂùÄÁöÑÂ§öÊ¨°ÂÜôÔºåÂáèÂ∞ëÂØπÂÜÖÂ≠òÊÄªÁ∫øÁöÑÂç†Áî®„ÄÇÊØè‰∏™Â§ÑÁêÜÂô®‰∏äÁöÑÁºìÂÜ≤Âå∫Ôºå‰ªÖ‰ªÖÂØπÂÆÉÊâÄÂú®ÁöÑÂ§ÑÁêÜÂô®ÂèØËßÅ„ÄÇ 12345‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰ºöÂá∫Áé∞Êåá‰ª§ÈáçÊéíÂ∫èÔºü‰ªÄ‰πàÊòØÊï∞ÊçÆ‰æùËµñÊÄßÔºüÈáçÊéíÂ∫è‰∏ÄÂÆö‰ºöÂØºËá¥Á®ãÂ∫è‰∏çÂèäÈ¢ÑÊúüÔºüÈáçÊéíÂ∫èÂØπÁ®ãÂ∫èÁöÑÂΩ±ÂìçÊòØ‰ªÄ‰πà?1„ÄÅÂΩìÊï∞ÊçÆÂ≠òÂú®‰æùËµñÊÄßÁöÑÊó∂ÂÄôÔºåÁºñËØëÂô®‰∏éÂ§ÑÁêÜÂô®Âπ∂‰∏ç‰ºöÂØπÊåá‰ª§ËøõË°åÈáçÊéíÂ∫è„ÄÇ2„ÄÅÂØπ‰∏Ä‰∏™Êï∞ÊçÆËøõË°åÔºàÂÜôÂêéËØª„ÄÅÂÜôÂêéÂÜô„ÄÅËØªÂêéÂÜôÔºâÊìç‰ΩúÊó∂ÔºåÂ¶Ç‰ΩïÈáçÊéíÂ∫èËøô‰ø©‰∏™Êìç‰ΩúÁöÑÊâßË°åÈ°∫Â∫èÔºåÂàô‰ºöÂØπÁ®ãÂ∫èÁöÑÊâßË°åÁªìÊûú‰∫ßÁîüÂΩ±ÂìçÔºåÂõ†Ê≠§ÂÆÉ‰ª¨‰πãÈó¥ÁöÑÊìç‰ΩúÈ°∫Â∫è Â≠òÂú®Êï∞ÊçÆÁöÑ‰æùËµñÊÄßÔºåËøô‰æøÊòØÊï∞ÊçÆ‰æùËµñÊÄßÈóÆÈ¢ò„ÄÇ3„ÄÅÂçïÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºåÂ§ÑÁêÜÂô®ÂØπÊï∞ÊçÆ‰æùËµñÊÄßÁöÑÊìç‰ΩúÂπ∂‰∏ç‰ºöËøõË°åÊåá‰ª§ÈáçÊéíÂ∫èÔºåÂõ†Ê≠§‰∏ç‰ºöÂ≠òÂú®Á®ãÂ∫èËøêË°å‰∏çÂèäÈ¢ÑÊúüÁöÑÊÉÖÂÜµ„ÄÇ4„ÄÅÂú®Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ãÔºå‰∏çÂêåÂ§ÑÁêÜÂô®Âíå‰∏çÂêåÁ∫øÁ®ã‰πãÈó¥ÁöÑÊï∞ÊçÆ‰æùËµñÊÄß‰∏çË¢´ÁºñËØëÂô®‰∏éÂ§ÑÁêÜÂô®ËÄÉËôëÔºåÂçïÁ∫øÁ®ãËØ≠Â∫èÂèØËÉΩË¢´Â§öÁ∫øÁ®ãÁ†¥ÂùèÔºåÂõ†Ê≠§Â§öÁ∫øÁ®ãÊÉÖÂÜµ‰∏ã‰ºöÈúÄË¶ÅËÄÉËôëÈáçÊéíÂ∫èÈóÆÈ¢ò‰ª•ÂèäÂÜÖÂ≠òÂèØËßÅÊÄßÈóÆÈ¢òÔºåËøô‰πüÊòØÁ®ãÂ∫èÁåøËøõË°åÂ§öÁ∫øÁ®ãÂºÄÂèëÈúÄË¶ÅËÄÉËôëÁöÑÈóÆÈ¢ò„ÄÇ È°∫Â∫è‰∏ÄËá¥ÊÄßÊòØ‰∏Ä‰∏™ÁêÜÊÉ≥ÂåñÁöÑÊ®°ÂûãÔºåÂÆÉÁöÑÊ†∏ÂøÉÊòØÊØè‰∏™Á∫øÁ®ãÂØπÂÖ±‰∫´ÂèòÈáèÁöÑ‰øÆÊîπÈÉΩÂØπÂÖ∂‰ªñÁ∫øÁ®ãÂèòÂæóÁ´ãÂàªÂèØËßÅ„ÄÇÔºàËÅîÁ≥ªÂà∞ÊúÄÁªà‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºâ 1JMMÊó†Ê≥ï‰øùËØÅÈ°∫Â∫è‰∏ÄËá¥ÊÄßÔºåÁ®ãÂ∫èÁöÑÊï¥‰ΩìÊâßË°åÊòØÊó†Â∫èÁöÑÔºåÊØîÂ¶ÇÔºåÂú®ÂΩìÂâçÁ∫øÁ®ãÊääÂÜôËøáÁöÑÊï∞ÊçÆÁºìÂ≠òÂà∞Êú¨Âú∞ÂÜÖÂ≠ò‰∏≠ÔºåÂú®Ê≤°ÊúâÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò‰πãÂâçÔºåËøô‰∏™ÂÜôÊìç‰Ωú‰ªÖÂØπÂΩìÂâçÁ∫øÁ®ãÂèØËßÅÔºõ‰ªéÂÖ∂‰ªñÁ∫øÁ®ãÁöÑËßíÂ∫¶Êù•ËßÇÂØüÔºåÂè™ÊúâÂΩìÂâçÁ∫øÁ®ãÊääÊú¨Âú∞ÂÜÖÂ≠òÂÜôËøáÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò‰πãÂêéÔºåËøô‰∏™ÂÜôÊìç‰ΩúÊâçËÉΩÂØπÂÖ∂‰ªñÁ∫øÁ®ãÂèØËßÅ„ÄÇËøô‰πüÊòØÊï¥‰ΩìÈ°∫Â∫è‰∏ç‰∏ÄËá¥ÁöÑÂéüÂõ†„ÄÇ happens-beforeÂÆö‰πâÔºöÊåáÂÆö‰ø©‰∏™Êìç‰Ωú‰πãÈó¥ÁöÑÊâßË°åÈ°∫Â∫èÔºåËøô‰ø©‰∏™Êìç‰ΩúÂèØ‰ª•Âú®‰∏Ä‰∏™Á∫øÁ®ã‰πãÈó¥Ôºå‰πüÂèØ‰ª•Âú®‰∏çÂêåÁ∫øÁ®ã‰πãÈó¥„ÄÇJMMÈÄöËøáhappens-beforeÂÖ≥Á≥ªÂêëÁ®ãÂ∫èÁåøÊèê‰æõË∑®Á∫øÁ®ãÁöÑÂÜÖÂ≠òÂèØËßÅÊÄß‰øùËØÅ„ÄÇÂ¶ÇÊûúA happens-before BÔºåÂàôAÁöÑÊâßË°åÁªìÊûúÂ∞ÜÂØπBÂèØËßÅÔºå‰∏îAÊâßË°åÈ°∫Â∫èÂú®B‰πãÂâç„ÄÇ happens-beforeËßÑÂàôÔºö 1ÔºâÁ®ãÂ∫èÈ°∫Â∫èËßÑÂàô 2ÔºâÁõëËßÜÂô®ËßÑÂàô 3ÔºâvolatileËßÑÂàô 4Ôºâ‰º†ÈÄíÊÄß 5ÔºâstartËßÑÂàô ** 6Ôºâ **joinËßÑÂàô volatilevolatileÁöÑÂÜÖÂ≠òËØ≠ÊÑèÂèØÊää‰∏Ä‰∏™volatileÂèòÈáèÁöÑÂçï‰∏™ËØª/ÂÜôÔºåÁúãÊàêÊòØ‰ΩøÁî®Âêå‰∏Ä‰∏™ÈîÅÂØπËøô‰∫õÂçï‰∏™ËØª/ÂÜôÊìç‰ΩúÂÅö‰∫ÜÂêåÊ≠•ÔºåËøôÊ†∑Â≠ê‰∏é‰∏Ä‰∏™ÊôÆÈÄöÂèòÈáèÁî®synchronizeÈîÅÊù•ËøõË°åËØªÂÜôËøõË°åÂêåÊ≠•ÁöÑÊïàÊûúÊòØÁõ∏Âêå„ÄÇËøôÊòØÁî±‰∫éÈîÅÁöÑhappens-beforeËßÑÂàô‰øùËØÅ‰∫ÜÈáäÊîæÈîÅ‰∏éËé∑ÂèñÈîÅÁöÑ‰ø©‰∏™Á∫øÁ®ãÁöÑÂÜÖÂ≠òÂèØËßÅÊÄßÔºå‰∏Ä‰∏™volatileÂèòÈáèÁöÑËØªÔºåÊÄªÊòØËÉΩÁúãÂà∞Ôºà‰ªªÊÑèÁ∫øÁ®ãÔºâÂØπËøô‰∏™volatileÂèòÈáèÊúÄÂêéÁöÑÂÜôÂÖ•„ÄÇ volatileÂèòÈáèËá™Ë∫´ÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÂæÅ ÂèØËßÅÊÄßÔºö‰∏Ä‰∏™volatileÂèòÈáèÁöÑËØªÔºåÊÄªÊòØËÉΩÁúãÂà∞Ôºà‰ªªÊÑèÁ∫øÁ®ãÔºâÂØπËøô‰∏™volatileÂèòÈáèÊúÄÂêéÁöÑÂÜôÂÖ•„ÄÇ ÂéüÂ≠êÊÄßÔºöÂØπ‰ªªÊÑèÂçï‰∏ÄvolatileÂèòÈáèÁöÑËØª/ÂÜôÂÖ∑ÊúâÂéüÂ≠êÊÄß„ÄÇ‰ΩÜÊòØÁ±ª‰ººvolatile++ËøôÁßçÂ§çÂêàÊìç‰Ωú‰∏çÂÖ∑ÊúâÂéüÂ≠êÊÄß Ê≥®ÊÑèÔºöÂØπÂ§ö‰∏™volatileÂèòÈáèÁöÑÊìç‰ΩúÊàñÁ±ª‰ººvolatile++ËøôÁßçÂ§çÂêàÊìç‰ΩúÔºå‰∏çÂÖ∑Â§áÂéüÂ≠êÊÄßÂäüËÉΩ„ÄÇ volatileÂÜôÂÜÖÂ≠òËØ≠ÊÑèÔºöÂΩìÂÜô‰∏Ä‰∏™volatileÂèòÈáèÊó∂ÔºåJMM‰ºöÊääËØ•Á∫øÁ®ãÂØπÂ∫îÁöÑÊú¨Âú∞ÂÜÖÂ≠ò‰∏≠ÁöÑÂÖ±‰∫´ÂèòÈáèÂÄºÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò„ÄÇ volatileËØªÂÜÖÂ≠òÁöÑËØ≠ÊÑèÔºöÂΩìËØª‰∏Ä‰∏™volatileÂèòÈáèÊó∂ÔºåJMM‰ºöÊääËØ•Á∫øÁ®ãÂØπÂ∫îÁöÑÊú¨Âú∞ÂÜÖÂ≠òÁΩÆ‰∏∫Êó†ÊïàÔºåÁ∫øÁ®ãÊé•‰∏ãÊù•Â∞Ü‰ªé‰∏ªÂÜÖÂ≠òËØªÂèñÂÖ±‰∫´ÂèòÈáè„ÄÇ volatileÁöÑÂÜÖÂ≠òËØ≠ÊÑèÁöÑÂÆûÁé∞volatileÂÆûÁé∞ÂéüÁêÜÔºöÈÄöËøáÂêàÈÄÇÁöÑÂÜÖÂ≠òÂ±èÈöúÁ¶ÅÊ≠¢ÈáçÊéíÂ∫èÔºå‰øùËØÅÂ§öÁ∫øÁ®ã‰πãÈó¥ËØªÂÜôÁöÑÂáÜÁ°ÆÊÄß„ÄÇ :black_nib:Áî±‰∫évolatile‰ªÖ‰ªÖ‰øùËØÅÂØπÂçï‰∏™volatileÂèòÈáèÁöÑËØª/ÂÜôÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºåËÄåÈîÅÁöÑ‰∫íÊñ•ÊâßË°åÁöÑÁâπÂæÅÂèØ‰ª•Á°Æ‰øùÂØπÊï¥‰∏™‰∏¥ÁïåÂå∫‰ª£Á†ÅÁöÑÊâßË°åÂÖ∑ÊúâÂéüÂ≠êÊÄßÔºåÂú®ÂäüËÉΩ‰∏äÔºåÈîÅÊØîvolatileÊõ¥Âº∫Â§ßÔºåÂú®ÂèØ‰º∏Áº©ÊÄßÂíåÊâßË°åÊÄßËÉΩ‰∏äÔºåvolatileÊõ¥Êúâ‰ºòÂäøÔºåÂ¶ÇÊûúÊÉ≥Áî®volatileÊõø‰ª£ÈîÅÔºåÈúÄË∞®ÊÖé„ÄÇ ÈîÅÁöÑÂÜÖÂ≠òÂê´‰πâÈáäÊîæÈîÅÁöÑÂÜÖÂ≠òËØ≠ÊÑèÔºöÂΩìÁ∫øÁ®ãÈáäÊîæÈîÅÊó∂ÔºåJMM‰ºöÊääÁ∫øÁ®ãÂØπÂ∫îÁöÑÊú¨Âú∞ÂÜÖÂ≠ò‰∏≠ÁöÑÂÖ±‰∫´ÂèòÈáèÂà∑Êñ∞Âà∞‰∏ªÂÜÖÂ≠ò‰∏≠„ÄÇ Ëé∑ÂèñÈîÅÁöÑÂÜÖÂ≠òËØ≠ÊÑèÔºöÂΩìÁ∫øÁ®ãËé∑ÂèñÈîÅÊó∂ÔºåJMM‰ºöÊääÁ∫øÁ®ãÂØπÂ∫îÁöÑÊú¨Âú∞ÂÜÖÂ≠òÁΩÆ‰∏∫Êó†Êïà„ÄÇ Á∫øÁ®ãAÈáäÊîæÈîÅÔºåÁ∫øÁ®ãBËé∑ÂèñÈîÅÔºåËøô‰∏™ËøáÁ®ãÂÆûË¥®‰∏äÊòØÁ∫øÁ®ãAÈÄöËøá‰∏ªÂÜÖÂ≠òÂêëÁ∫øÁ®ãBÂèëÈÄÅ‰ø°ÊÅØ„ÄÇ ÈîÅÂÜÖÂ≠òÂê´‰πâÁöÑÂÆûÁé∞ÂÖ¨Âπ≥ÈîÅ‰∏éÈùûÂÖ¨Âπ≥ÈîÅÂÜÖÂ≠òËØ≠ÊÑèÔºö ÂÖ¨Âπ≥ÈîÅ‰∏éÈùûÂÖ¨Âπ≥ÈîÅÈáäÊîæÊó∂ÔºåÊúÄÂêéÈÉΩË¶ÅÂÜô‰∏Ä‰∏™volatileÂèòÈáèstatus ÂÖ¨Âπ≥ÈîÅËé∑ÂèñÊó∂ÔºåÈ¶ñÂÖà‰ºöÂéªËØªvolatileÂèò ÈùûÂÖ¨Âπ≥ÈîÅËé∑ÂèñÊó∂ÔºåÈ¶ñÂÖà‰ºöÁî®CASÊõ¥Êñ∞volatileÂèòÈáèÔºåËøô‰∏™Êìç‰ΩúÂêåÊó∂ÂÖ∑ÊúâvolatileÂèòÈáèËØªÂíåvolatileÂÜôÁöÑÂÜÖÂ≠òËØ≠ÊÑè„ÄÇ ÈîÅÈáäÊîæ-Ëé∑ÂèñÁöÑÂÜÖÂ≠òËØ≠ÊÑèÂÆûÁé∞Ëá≥Â∞ëÊúâ‰∏ãÈù¢‰ø©ÁßçÊñπÂºè 1„ÄÅÂà©Áî®volatileÂèòÈáèÁöÑÂÜô-ËØªÊâÄÂÖ∑ÊúâÁöÑÁöÑÂÜÖÂ≠òÂê´‰πâ 2„ÄÅÂà©Áî®CASÊâÄÈôÑÊúâÁöÑvolatileËØªÂíåvolatileÂÜôÁöÑÂÜÖÂ≠òÂê´‰πâ„ÄÇ concurrentÂåÖÁöÑÂÆûÁé∞Áî±‰∫éCASÂêåÊó∂ÂÖ∑ÊúâvolatileËØªÂíåvolatileÂÜôÁöÑÂÜÖÂ≠òÂê´‰πâÔºåÂõ†Ê≠§JavaÁ∫øÁ®ã‰πãÈó¥ÁöÑÈÄö‰ø°ÊúâÈÉΩÊòØÈÄöËøáCAS‰∏évolatileÂèòÈáè‰πãÈó¥ÁöÑËØªÂÜôÔºà4ÁßçÔºâÊù•ÂÆûÁé∞ÁöÑ„ÄÇ :e-mail: AQS(java.util.concurrent.atomicÂåÖ)ÈùûÈòªÂ°ûÊï∞ÊçÆÁªìÊûÑÂíåÂéüÂ≠êÂèòÈáèÁ±ª„ÄÇ volatileËØª/ÂÜôÂíåCASÂèØ‰ª•ÂÆûÁé∞Á∫øÁ®ã‰πãÈó¥ÁöÑÈÄö‰ø°ÔºåÊääËøô‰∫õÁâπÂæÅÊï¥ÂêàÂú®‰∏ÄËµ∑ÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÊï¥‰∏™concurrentÂåÖÂæó‰ª•ÂÆûÁé∞ÁöÑÂü∫Áü≥ finalÂüüÁöÑÂÜÖÂ≠òËØ≠ÊÑèJava‰∏≠final‰øÆÈ•∞ÁöÑÂÆûÈôÖ‰∏äÊòØ‰∏∫‰∫ÜË°®Á§∫Â∏∏ÈáèÔºåÈÇ£‰πàÂ∏∏ÈáèÂ∞±ÂøÖÈ°ªÂÅöÂà∞‰∏çÂèØÂèòÔºàÊúÄÁªàÁöÑÔºâÔºåÈÇ£‰πàfinal‰øÆÈ•∞ÁöÑÂ∏∏ÈáèÊúÄÂ•ΩËøõË°åÂàùÂßãÂåñÊìç‰ΩúÔºåÈÇ£‰πà‰∏∫‰ΩïÂÅöÂá∫ÂàùÂßãÂåñÊìç‰ΩúÂêéÔºåËØ•Â∏∏ÈáèÂ∞±‰∏çÂèØÂèòÂë¢ÔºåÂ∫ïÂ±ÇÊòØÂ¶Ç‰ΩïÂÅöÂà∞ÁöÑÂë¢ÔºüËøôÂ∞±ÈúÄË¶Å‰∫ÜËß£finalÂüüÁöÑÂÜÖÂ≠òËØ≠ÊÑè„ÄÇ :aerial_tramway:StringÁ±ªÂûãÊòØfinal‰øÆÈ•∞ÁöÑÔºåÂõ†Ê≠§StringÁ±ªÂûãÊòØÊúÄÁªàÁöÑÔºåÊòØ‰∏Ä‰∏™Â∏∏Èáè finalÂüü‰∏≠ÔºåÁºñËØëÂô®‰∏éÂ§ÑÁêÜÂô®Ë¶ÅÈÅµÂæ™‰ø©‰∏™ÈáçÊéíÂ∫èËßÑÂàô ÊûÑÈÄ†ÂáΩÊï∞ÂÜÖÂØπ‰∏Ä‰∏™finalÂüüÁöÑÂÜôÂÖ•Ôºå‰∏éÈöèÂêéÊääËøô‰∏™Ë¢´ÊûÑÈÄ†ÂØπË±°ÁöÑÂºïÁî®ËµãÂÄºÁªô‰∏Ä‰∏™ÂºïÁî®ÂØπË±°ÔºåËøô‰ø©‰∏™Êìç‰Ωú‰πãÈó¥‰∏çËÉΩÈáçÊéíÂ∫è ÂàùÊ¨°ËØª‰∏Ä‰∏™ÂåÖÂê´finalÂüüÁöÑÂØπË±°ÁöÑÂºïÁî®Ôºå‰∏éÈöèÂêéÂàùÊ¨°ËØªËøô‰∏™finalÂüüÔºåËøôÊù•‰∏™Êìç‰Ωú‰∏çÂèØÈáçÊéíÂ∫è top:ÊôÆÈÄöÂèòÈáèÂú®ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ËøõË°åÂàùÂßãÂåñÊó∂ÔºåÂèØËÉΩÁî±‰∫éÈáçÊéíÂ∫èÔºåÂØºËá¥Âú®ÂàùÂßãÂåñÊñπÊ≥ïÂ§ñÊâçÂØπËØ•ÂèòÈáèËøõË°åÂàùÂßãÂåñ„ÄÇ Á∫øÁ®ãÁ∫øÁ®ãÁöÑÁä∂ÊÄÅJavaÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü‰∏∫‰∫îÁßçÁä∂ÊÄÅÔºåÂàÜÂà´‰∏∫ÔºöÊñ∞Âª∫„ÄÅÂ∞±Áª™„ÄÅËøêË°å„ÄÅÈòªÂ°û„ÄÅÈîÄÊØÅ Êñ∞Âª∫ÔºöÂàö‰ΩøÁî®newÊñπÊ≥ïÔºånewÂá∫Êù•ÁöÑÁ∫øÁ®ãÂàôÂ§Ñ‰∫éÊñ∞Âª∫Áä∂ÊÄÅ Â∞±Áª™ÔºöË∞ÉÁî®Á∫øÁ®ãÁöÑstartÊñπÊ≥ïÔºåËøôÊó∂ÂÄôÁ∫øÁ®ãÂ§Ñ‰∫éÁ≠âÂæÖCPUÂàÜÈÖçÊó∂Èó¥ÁâáÊÆµÈò∂ÊÆµÔºåÁ≠âÂæÖÊâßË°å ËøêË°åÔºöÂΩìÂ∞±Áª™Áä∂ÊÄÅÁöÑÁ∫øÁ®ãËé∑ÂèñCPUËµÑÊ∫êÔºå‰æøËøõÂÖ•ËøêË°åÁä∂ÊÄÅÔºårunÊñπÊ≥ïÂÆö‰πâ‰∫ÜÁ∫øÁ®ãÁöÑÊìç‰Ωú‰∏éÂäüËÉΩ„ÄÇ ÈòªÂ°ûÔºöÂú®ËøêË°åÁä∂ÊÄÅÔºåÂèØËÉΩÂõ†‰∏∫Êüê‰∫õÂéüÂõ†ÂØºËá¥ËøêË°åÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÂèòÊàêÈòªÂ°ûÁä∂ÊÄÅÔºåÊØîÂ¶Çsleep()„ÄÅwait()‰πãÂêéÁ∫øÁ®ãÂ∞±Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÖ∂‰ªñÊú∫Âà∂Â∞ÜÂ§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅÁöÑÁ∫øÁ®ãÂî§ÈÜíÔºåÊØîÂ¶ÇË∞ÉÁî®notify()„ÄÅnotifyAll()ÊñπÊ≥ïÔºåÂî§ÈÜíÁöÑÁ∫øÁ®ã‰ºöÂÜçÊ¨°ËøõÂÖ•Â∞±Áª™Áä∂ÊÄÅ„ÄÇ ÈîÄÊØÅÔºöÁ∫øÁ®ãÊ≠£Â∏∏ÊâßË°åÂÆåÊØïÂêéÊàñËÄÖÁ∫øÁ®ãË¢´Âº∫Âà∂ÊÄßÁªàÊ≠¢ÊàñÂá∫Áé∞ÂºÇÂ∏∏ÔºåÈÇ£‰πàÁ∫øÁ®ãÂ∞±‰ºöË¢´ÈîÄÊØÅÔºåÈáäÊîæËµÑÊ∫ê„ÄÇ Á∫øÁ®ãÁöÑ‰∏≠Êñ≠Ôºö‰∏≠Êñ≠ÂèØ‰ª•ÁêÜËß£‰∏∫Á∫øÁ®ãÁöÑ‰∏Ä‰∏™Ê†áËØÜ‰ΩçÂ±ûÊÄßÔºåÂÆÉË°®Á§∫‰∏Ä‰∏™ËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÊòØÂê¶Ë¢´ÂÖ∂‰ªñÁ∫øÁ®ãËøõË°å‰∫Ü‰∏≠Êñ≠Êìç‰ΩúÔºå‰∏≠Êñ≠Â•ΩÊØîÂÖ∂‰ªñÁ∫øÁ®ãÂØπËØ•Á∫øÁ®ãÊâì‰∫ÜÊãõÂëºÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØÈÄöËøáË∞ÉÁî®ËØ•Á∫øÁ®ãÁöÑinterrupt()ÊñπÊ≥ïÂØπÂÖ∂ËøõË°å‰∏≠Êñ≠Êìç‰Ωú„ÄÇ :japanese_ogre:‰∏≠Êñ≠Âπ∂‰∏çÊòØ‰∏ÄÁßçÈîôËØØÔºåÊòØ‰∏ÄÁßçÊ†áËØÜÁ¨¶Ôºà‰ø°Âè∑ÔºâÔºåÁºñËØëÊó∂ÂèØÂøΩÁï•ËØ•Ê†áËØÜÔºå‰πüÂèØ‰ª•Âà©Áî®ËØ•Êú∫Âà∂ÂÆûÁé∞‰∏Ä‰∫õÂäüËÉΩ„ÄÇ‰∏≠Êñ≠Êìç‰ΩúÊòØ‰∏ÄÁßçÁÆÄ‰æøÁöÑÁ∫øÁ®ãÈó¥ÁöÑ‰∫§‰∫íÊñπÂºè„ÄÇ Á∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°1„ÄÅÈÄöËøásynchronizeÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞‰ª£Á†ÅÂùóÊàñËÄÖvolatileÂÖ≥ÈîÆÂ≠ó‰øÆÈ•∞ÂèòÈáèËææÂà∞‰∏çÂêåÁ∫øÁ®ã‰πãÈó¥ÂÜÖÂ≠òÂèØËßÅÊÄßÈóÆÈ¢òÔºåËøôÊòØ‰∏Ä‰∏≠Á∫øÁ®ãÈó¥ÁöÑÈÄö‰ø°ÊñπÂºè„ÄÇ 2„ÄÅÁ≠âÂæÖ/ÈÄöÁü•Êú∫Âà∂ ‰∏Ä‰∏™Á∫øÁ®ã‰øÆÊîπ‰∏Ä‰∏™ÂØπË±°ÁöÑÂÄºÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊÑüÁü•Âà∞ÂèòÂåñÔºåÁÑ∂ÂêéËøõË°åÁõ∏Â∫îÁöÑÊìç‰ΩúÔºåÊï¥‰∏™ËøáÁ®ãÂºÄÂßã‰∏é‰∏Ä‰∏™Á∫øÁ®ãÔºåÊúÄÁªàÊâßË°åÂèàÊòØÂè¶‰∏Ä‰∏™Á∫øÁ®ãÔºåËøôÊòØ‰∏ÄÁßçÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÊ®°Âºè„ÄÇ Êé¢Á¥¢ÔºöÂèØÈÄöËøá‰∏Ä‰∏™Á∫øÁ®ãËΩÆËÆ≠(‰ºëÁú†)Êüê‰∏™ÂèòÈáèÊòØÂê¶ÂèëÁîüÊîπÂèòÊù•ÂÆåÊàêÊ∂àË¥πËÄÖÂ∑•‰ΩúÔºå‰ΩÜÊòØËØ•Êìç‰ΩúÂºÄÈîÄÂ§ß Á≠âÂæÖ/ÈÄöÁü•ÊòØobjectÁ±ªÁöÑÊñπÊ≥ï[ notify()„ÄÅnotifyAll()„ÄÅwait() ]ÔºåÂõ†Ê≠§ÊâÄÊúâÂØπË±°ÈÉΩÂÖ∑ÊúâÁ≠âÂæÖ/ÈÄöÁü•Êú∫Âà∂„ÄÇ Âõ†Ê≠§ÔºåÁ≠âÂæÖ/ÈÄöÁü•Êú∫Âà∂ÂèØÁî®‰∫é‰ø©‰∏™Á∫øÁ®ãÈÄöËøáÂØπË±°OÊù•ËøõË°å‰∫§‰∫í„ÄÇ Ê≥®ÊÑèÔºö‰ΩøÁî®notify()„ÄÅnotifyAll()„ÄÅwait()Êó∂ÈúÄË¶ÅÂØπË∞ÉÁî®ÂØπË±°Âä†ÈîÅ„ÄÇ 3„ÄÅThread.join()ÊñπÊ≥ï‰ΩøÁî® Â¶ÇÊûúÁ∫øÁ®ãAÊâßË°å‰∫ÜThread.join()ÊñπÊ≥ïÔºåÂàôÂê´‰πâÊòØ:Á∫øÁ®ãAÁ≠âÂæÖthreadÁ∫øÁ®ãÁªàÊ≠¢‰πãÂêéÊâç‰ªéthread.join()ËøîÂõû„ÄÇjoin()ÊñπÊ≥ïÁöÑÈÄªËæëÁªìÊûÑ‰∏éÁ≠âÂæÖ/ÈÄöÁü•‰∏ÄËá¥ÔºåÂÆûÈôÖ‰∏äÊòØÂä†ÈîÅ-Âæ™ÁéØ-Â§ÑÁêÜÈÄªËæë3‰∏™Ê≠•È™§„ÄÇ Java‰∏≠ÁöÑÈîÅÈîÅÊòØÁî®Êù•ÊéßÂà∂Â§ö‰∏™Á∫øÁ®ãËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÁöÑÊñπÂºè„ÄÇ‰∏Ä‰∏™ÈîÅËÉΩÈò≤Ê≠¢Â§ö‰∏™Á∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÔºàËØªÂÜôÈîÅÈô§Â§ñÔºâ LOCKÊé•Âè£lockÊé•Âè£Êèê‰æõ‰∫ÜsynchronizeÂÖ≥ÈîÆÂ≠óÁ±ª‰ººÁöÑÂêåÊ≠•ÂäüËÉΩÔºåÂú®‰ΩøÁî®Êó∂ÊòØÊòæÁ§∫ÁöÑËé∑ÂèñÈîÅÂíåÈáäÊîæÈîÅ„ÄÇ [^LOCKÈîÅAPI]: ÂÖ¨Âπ≥ÈîÅ‰øùËØÅ‰∫ÜÈîÅÁöÑËé∑ÂèñÊåâÁÖßFIFOÂéüÂàôÔºåËÄå‰ª£‰ª∑ÊòØËøõË°åÂ§ßÈáèÁöÑÁ∫øÁ®ãÂàáÊç¢„ÄÇÈùûÂÖ¨Âπ≥ÈîÅËôΩÁÑ∂ÂèØËÉΩÈÄ†ÊàêÁ∫øÁ®ã‚ÄúÈ••È•ø‚ÄùÔºå‰ΩÜÊûÅÂ∞ëÁ∫øÁ®ãÂàáÊç¢Ôºå‰øùËØÅ‰∫ÜÊõ¥Â§ßÁöÑÂêûÂêêÈáè„ÄÇ JavaÂπ∂ÂèëÂÆπÂô®ÂíåÊ°ÜÊû∂ConcurrentHashMap‰∏éConcurrentLinkedQueue ÈòªÂ°ûÈòüÂàó1234‰ªÄ‰πàÊòØÈòªÂ°ûÈòüÂàóÔºü‰∏Ä‰∏™ÊîØÊåÅ‰ø©‰∏™ÈôÑÂä†Êìç‰ΩúÁöÑÈòüÂàóÔºåËøô‰ø©‰∏™ÈôÑÂä†Êìç‰ΩúÊîØÊåÅÈòªÂ°ûÁöÑÊèíÂÖ•ÂíåÁßªÈô§ÊñπÊ≥ï„ÄÇÊîØÊåÅÈòªÂ°ûÁöÑÊèíÂÖ•ÊñπÊ≥ïÔºöÂΩìÈòüÂàóÊª°Êó∂ÔºåÈòüÂàó‰ºö**ÈòªÂ°ûÊèíÂÖ•ÂÖÉÁ¥†ÁöÑÁ∫øÁ®ã**ÔºåÁõ¥Âà∞ÈòüÂàó‰∏çÊª°ÊîØÊåÅÈòªÂ°ûÁöÑÁßªÈô§ÊñπÊ≥ïÔºöÂΩìÈòüÂàó‰∏∫Á©∫Êó∂Ôºå**Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁ∫øÁ®ã**‰ºöÁ≠âÂæÖÈòüÂàóÂèò‰∏∫ÈùûÁ©∫„ÄÇ ÈòªÂ°ûÈòüÂàóÂ∏∏Â∏∏Áî®‰∫éÁîü‰∫ßËÄÖ/Ê∂àË¥πËÄÖÊ®°ÂºèÂú∫ÊôØ„ÄÇ Âú®ÈòªÂ°ûÈòüÂàó‰∏çÂèØÁî®Êó∂ÔºåËøôÊù•‰∏™ÈôÑÂä†Êìç‰ΩúÊèê‰æõ‰∫Ü4ÁßçÂ§ÑÁêÜÊñπÂºè Java7Êèê‰æõ‰∫Ü7ÁßçÈòªÂ°ûÈòüÂàóÔºàÊï∞ÁªÑ„ÄÅÈòüÂàó„ÄÅÈìæË°®Á≠âÊï∞ÊçÆÁªìÊûÑÁªÑÊàêÔºâÔºåÂàÜÂà´‰∏∫Ôºö ArrayBlockingQueue:‰∏Ä‰∏™Êï∞ÁªÑÁªìÊûÑÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó LinkedBlockingQueue:‰∏Ä‰∏™ÈìæË°®ÁªìÊûÑÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàóÔºàÈªòËÆ§ÈïøÂ∫¶ÊòØInteger.MAX_VALUE) PriorityBlockingQueue:‰∏Ä‰∏™ÊîØÊåÅ‰ºòÂÖàÁ∫ßÊéíÂ∫èÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó DelayQueue:‰∏Ä‰∏™ÊîØÊåÅÂª∂Êó∂Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàóÔºåÈòüÂàó‰ΩøÁî®PriorityBlockingQueueÂÆûÁé∞„ÄÇ SynchronousQueue:‰∏Ä‰∏™‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó LinkedTransferQueue:‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó LinkedBlockingDeque:ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó 13‰∏™ÂéüÂ≠êÊìç‰ΩúÁ±ªJDK1.5‰πãÂêéÊèê‰æõJava.util.conncurent.atomicÔºàAtomicÂåÖÔºâÊèê‰æõ13‰∏™Á±ªÔºåÂ±û‰∫é4ÁßçÁ±ªÂûãÁöÑÂéüÂ≠êÊõ¥Êñ∞Êìç‰ΩúÔºåÂàÜÂà´ÊòØÂéüÂ≠êÊõ¥Êñ∞Âü∫Êú¨Á±ªÂûã„ÄÅÂéüÂ≠êÊõ¥Êñ∞Êï∞ÁªÑ„ÄÅÂéüÂ≠êÊõ¥Êñ∞ÂºïÁî®„ÄÅÂéüÂ≠êÊõ¥Êñ∞Â±ûÊÄßÔºàÂ≠óÊÆµÔºâÔºåAtomicÂåÖÂü∫Êú¨ÈÉΩÊòØ‰ΩøÁî®UnsafeÂÆûÁé∞ÁöÑÂåÖË£ÖÁ±ª„ÄÇ ÂéüÂ≠êÊõ¥Êñ∞Âü∫Êú¨Á±ªÊèê‰æõ‰∏â‰∏™Á±ªÔºö AtomicBoolean„ÄÅAtomicInteger„ÄÅAtomicLong ‰∏â‰∏™Á±ªÂü∫Êú¨Êèê‰æõ‰∏ÄÊ†∑ÁöÑÊñπÊ≥ïÔºå‰ª•AtomicInteger 1234int addAndGet(int delta):‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜËæìÂÖ•ÁöÑÊï∞ÂÄº‰∏éÂÆû‰æã‰∏≠ÁöÑÂÄºÁõ∏Âä†Âπ∂ËøîÂõûÁªìÊûú„ÄÇboolean compareAndSet(int expect,int update):Â¶ÇÊûúËæìÂÖ•ÁöÑÊï∞ÂÄºÁ≠â‰∫éÈ¢ÑÊúüÂÄºÔºåÂàô‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜËØ•ÂÄºËÆæÁΩÆ‰∏∫ËæìÂÖ•ÁöÑÂÄº„ÄÇint getAndIncrement():‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜÂΩìÂâçÂÄºÂä†1ÔºåËøôÈáåËøîÂõûÁöÑÊòØËá™Â¢ûÂâçÁöÑÂÄº„ÄÇint getAndSet(int newValue):‰ª•ÂéüÂ≠êÊñπÂºèËÆæÁΩÆnewValueÂÄºÔºåÂπ∂ËøîÂõûÊóßÂÄº ÈÇ£‰πàÂ¶Ç‰ΩïÂéüÂ≠êÊÄßÁöÑÊõ¥Êñ∞char„ÄÅfloat„ÄÅdoubleÔºü ÂèØÂà©Áî®CASÊòØÂÆûÁé∞„ÄÇ CASÂÆûÁé∞ÂéüÂ≠êÊìç‰Ωú ‰∏âÂ§ßÈóÆÈ¢òÔºö 1„ÄÅABAÈóÆÈ¢ò 2„ÄÅÂæ™ÁéØÊó∂Èó¥ÈïøÂºÄÈîÄÂ§ß 3„ÄÅÂè™ËÉΩ‰øùËØÅ‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèÁöÑÂéüÂ≠êÊìç‰Ωú ÂéüÂ≠êÊõ¥Êñ∞Êï∞ÁªÑÊèê‰æõÂõõ‰∏™Á±ªÔºöAtomicIntegerArray„ÄÅAtomicLongArray„ÄÅAtomicReferenceArray„ÄÅAtomic ‰∏â‰∏™Á±ª‰∏ªË¶ÅÊèê‰æõÂéüÂ≠êÊñπÂºèÊõ¥Êñ∞Êï∞ÁªÑÈáåÁöÑÊï¥Êï∞„ÄÇ‰ª•AtomicIntegerArray‰∏∫‰æã 12int addAndGet(int i,int delta):‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜËæìÂÖ•ÂÄº‰∏éÊï∞ÁªÑ‰∏≠Á¥¢ÂºïiÁöÑÂÖÉÁ¥†Áõ∏Âä†„ÄÇboolean compareAndSet(int i,int expect,int update):Â¶ÇÊûúÂΩìÂâçÁ¥¢ÂÄºÁ≠â‰∫éÈ¢ÑÊúüÂÄºÔºåÂàô‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜÊï∞ÁªÑ‰∏≠ÁöÑÁ¥¢ÂºïÂÄºËÆæÁΩÆ‰∏∫updateÂÄº ÂéüÂ≠êÊõ¥Êñ∞ÂºïÁî®ÂéüÂ≠êÊõ¥Êñ∞Âü∫Êú¨Á±ªÂûãÁöÑAtomicIntegerÂè™ËÉΩÊõ¥Êñ∞‰∏Ä‰∏™ÂèòÈáèÔºåÂ¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞Â§ö‰∏™ÂèòÈáèÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî®Ëøô‰∏™ÂéüÂ≠êÊõ¥Êñ∞ÂºïÁî®Á±ªÂûãÊèê‰æõÁöÑÁ±ª„ÄÇAtomicÂåÖÊèê‰æõ‰∏â‰∏™Á±ªÔºöAtomicReferenceÔºàÂéüÂ≠êÊõ¥Êñ∞ÂºïÁî®Á±ªÂûãÔºâ„ÄÅAtomicReferenceFieldUpdateÔºàÂéüÂ≠êÊõ¥Êñ∞ÂºïÁî®Á±ªÂûãÈáåÁöÑÂ≠óÊÆµÔºâ„ÄÅAtomicMarkableReferenceÔºàÂéüÂ≠êÊõ¥Êñ∞Â∏¶ÊúâÊ†áÂøó‰ΩçÁöÑÂºïÁî®Á±ªÂûãÔºâ„ÄÇ ÂéüÂ≠êÊõ¥Êñ∞Â≠óÊÆµÁ±ªÂ¶ÇÊûúÈúÄË¶ÅÂéüÂ≠êÂú∞Êõ¥Êñ∞Êüê‰∏™Á±ª ÈáåÁöÑÊüê‰∏™Â≠óÊÆµÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî®ÂéüÂ≠êÁöÑÊõ¥Êñ∞Â≠óÊÆµÁ±ªÔºåAtomicÂåÖÊèê‰æõ‰∏â‰∏™Á±ªÔºöAtomicIntegerFieldUpdater(ÂéüÂ≠êÊõ¥Êñ∞Êï¥ÂûãÂ≠óÊÆµÁöÑÊõ¥Êñ∞Âô®)„ÄÅAtomicLongFieldUpdater(ÂéüÂ≠êÊõ¥Êñ∞ÈïøÊï¥ÂûãÂ≠óÊÆµÁöÑÊõ¥Êñ∞Âô®)„ÄÅAtomicStampedReference(ÂéüÂ≠êÊõ¥Êñ∞Â∏¶ÊúâÁâàÊú¨Âè∑ÁöÑÂºïÁî®Á±ªÂûã)‚ÄìËØ•Á±ªÂ∞ÜÊï¥Êï∞ÂÄº‰∏éÂºïÁî®ÂÖ≥ËÅîËµ∑Êù•ÔºåÂèØÁî®‰∫éÂéüÂ≠êÁöÑÊõ¥Êñ∞Êï∞ÊçÆÂíåÊï∞ÊçÆÁâàÊú¨Âè∑ÔºåÂèØ‰ª•Ëß£ÂÜ≥‰ΩøÁî®CASËøõË°åÂéüÂ≠êÊõ¥Êñ∞Êó∂ÂèØËÉΩÂá∫Áé∞ABAÈóÆÈ¢ò„ÄÇ Java‰∏≠ÁöÑÂπ∂ÂèëÂ∑•ÂÖ∑Á±ªJDK‰∏≠Êèê‰æõ‰∫ÜÂá†‰∏™Âπ∂ÂèëÁöÑÂ∑•ÂÖ∑Á±ªÔºöCountDownLatch„ÄÅCyclicBarrier„ÄÅsemaphoreÂ∑•ÂÖ∑Á±ªÊèê‰æõ‰∫Ü‰∏ÄÁßçÂπ∂ÂèëÊµÅÁ®ãÊéßÂà∂ÁöÑÊâãÊÆµÔºåExchangerÂ∑•ÂÖ∑Á±ªÊèê‰æõ‰∫ÜÂú®Á∫øÁ®ãÈó¥‰∫§Êç¢Êï∞ÊçÆÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇ CountDownLatchËÉåÊôØÔºöjoinÁî®‰∫éËÆ©ÂΩìÂâçÁ∫øÁ®ãÁ≠âÂæÖjoinÁ∫øÁ®ãÊâßË°åÁªìÊùüÔºåÂÖ∂ÂéüÁêÜÊòØ‰∏çÂÅúÊ£ÄÊü•joinÁ∫øÁ®ãÊòØÂê¶Â≠òÊ¥ªÔºåÂ¶ÇÊûújoinÁ∫øÁ®ãÂ≠òÊ¥ªÂàôËÆ©ÂΩìÂâçÁ∫øÁ®ãÊ∞∏ËøúÁ≠âÂæÖ„ÄÇ CountDownLatchÂèØËøêË°å‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÁ≠âÂæÖÂÖ∂‰ªñÁ∫øÁ®ãÂÆåÊàêÊìç‰ΩúÔºåÂèØ‰ª•ÂÆûÁé∞joinÁöÑÂäüËÉΩÔºåÂπ∂‰∏îÂÖ∑ÊúâÊõ¥Â§öÂäüËÉΩÔºàÁâπÂÆöÊó∂Èó¥Âêé‰∏ç‰ºöÁªßÁª≠ÈòªÂ°ûËØ•Á∫øÁ®ãÔºâ„ÄÇ CyclicBarrierËøõË°åÂ§ö‰∏™Á∫øÁ®ãÈòªÂ°ûÂêéÂÜçËøõË°åËøêË°åÔºå ÂèØ‰ª•Áî®‰∫éÂ§öÁ∫øÁ®ãËÆ°ÁÆóÊï∞ÊçÆÔºåÊúÄÂêéÂêàÂπ∂ËÆ°ÁÆóÁªìÊûúÁöÑÂú∫ÊôØ„ÄÇ semaphoresemaphore(‰ø°Âè∑Èáè)ÊòØÁî®Êù•ÊéßÂà∂ÂêåÊó∂ËÆøÈóÆÁâπÂÆöËµÑÊ∫ê ÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºåÂÆÉÈÄöËøáÂçèË∞ÉÂêÑ‰∏™Á∫øÁ®ãÔºå‰ª•‰øùËØÅÂêàÁêÜÁöÑ‰ΩøÁî®ÂÖ¨ÂÖ±ËµÑÊ∫ê„ÄÇ ExchangerExchanger(‰∫§Êç¢ËÄÖ)ÊòØ‰∏Ä‰∏™Áî®‰∫éÁ∫øÁ®ãÂçè‰ΩúÁöÑÂ∑•ÂÖ∑Á±ªÔºåExchangerÁî®‰∫éÁ∫øÁ®ãÈó¥ÁöÑÊï∞ÊçÆ‰∫§Êç¢ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂêåÊ≠•ÁÇπÔºåÂú®Ëøô‰∏™ÂêåÊ≠•ÁÇπÔºå‰ø©‰∏™Á∫øÁ®ãÂèØ‰ª•‰∫§Êç¢ÂΩºÊ≠§ÁöÑÊï∞ÊçÆ„ÄÇ‰ø©‰∏™Á∫øÁ®ãÈÄöËøáexchangeÊñπÊ≥ï‰∫§Êç¢Êï∞ÊçÆ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÂÖàÊâßË°åexchangeÊñπÊ≥ïÔºåÂÆÉ‰ºö‰∏ÄÁõ¥Á≠âÂæÖÁ¨¨‰∫å‰∏™Á∫øÁ®ã‰πüÊâßË°åexchangeÊñπÊ≥ïÔºåÂΩì‰ø©‰∏™Á∫øÁ®ãÈÉΩÂà∞ËææÂêåÊ≠•ÁÇπÊó∂ÔºåËøô‰ø©‰∏™Á∫øÁ®ãÂ∞±ÂèØ‰ª•‰∫§Êç¢Êï∞ÊçÆÔºåÂ∞ÜÊú¨Á∫øÁ®ã‰∫ßÁîüÁöÑÊï∞ÊçÆ‰º†ÈÄíÁªôÂØπÊñπ Java‰∏≠ÁöÑÁ∫øÁ®ãÊ±†ÂêàÁêÜ‰ΩøÁî®Á∫øÁ®ãÊ±†ËÉΩÂ§üÂ∏¶Êù•‰∏â‰∏™Â•ΩÂ§ÑÔºö1„ÄÅÈôç‰ΩéËµÑÊ∫êÊ∂àËÄóÔºõ2„ÄÅÊèêÈ´òÂìçÂ∫îÈÄüÁéáÔºõ3„ÄÅÊèêÈ´òÁ∫øÁ®ãÁöÑÂèØÁÆ°ÁêÜÊÄß„ÄÇ Á∫øÁ®ãÊ±†ÁöÑÂÆûÁé∞ÂéüÁêÜThreadPoolExecutorÊâßË°åexecute()ÊñπÊ≥ïÁöÑÊµÅÁ®ãÔºö 1„ÄÅÂ¶ÇÊûúÂΩìÂâçËøêË°åÁöÑÁ∫øÁ®ãÂ∞ë‰∫écorepoolSizeÔºåÂàôÂàõÂª∫Êñ∞Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºàËØ•Ê≠•È™§ÈúÄË¶ÅËé∑ÂèñÂÖ®Â±ÄÈîÅÔºâ 2„ÄÅÂ¶ÇÊûúËøêË°åÁöÑÁ∫øÁ®ãÁ≠â‰∫éÂ§ö‰∫écorepoolSizeÔºåÂàôÂ∞Ü‰ªªÂä°Âä†ÂÖ•BlockingQueue 3„ÄÅÂ¶ÇÊûúÊó†Ê≥ïÁªßÁª≠Â∞Ü‰ªªÂä°Âä†ÂÖ•BlockingQueueÔºåÂàôÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜ‰ªªÂä°ÔºàÈúÄË¶ÅËé∑ÂèñÂÖ®Â±ÄÈîÅÔºâ 4„ÄÅÂ¶ÇÊûúÂàõÂª∫Êñ∞Á∫øÁ®ãÂ∞Ü‰ΩøÂΩìÂâçËøêË°åÁöÑÁ∫øÁ®ãË∂ÖÂá∫maximumpoolSizeÔºå‰ªªÂä°Â∞ÜË¢´ÊãíÁªùÔºåÂ∞ÜË∞ÉÁî®Á≠ñÁï•„ÄÇ Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊâßË°å‰ªªÂä°ÂàÜ‰ø©ÁßçÊÉÖÂÜµ 1„ÄÅÂú®execute()ÊñπÊ≥ï‰∏≠ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊó∂Ôºå‰ºöËÆ©Ëøô‰∏™Á∫øÁ®ãÊâßË°åÂΩìÂâç‰ªªÂä°„ÄÇ 2„ÄÅËøô‰∏™Á∫øÁ®ãÊâßË°åÂÆå‰ªªÂä°ÂêéÔºå‰ºöÂèçÂ§ç‰ªéBlockingQueueËé∑Âèñ‰ªªÂä°Êù•ÊâßË°å„ÄÇ Á∫øÁ®ãÊ±†ÁöÑÂàõÂª∫ ÂèØÈÄöËøáThreadPoolExecutorÊù•ÂàõÂª∫Á∫øÁ®ãÊ±†ÔºåÈúÄË¶ÅÊ≥®ÊÑèÂá†‰∏™ÂèÇÊï∞„ÄÇ corePoolSize:Ê†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÂΩìÊèê‰∫§‰∏Ä‰∏™‰ªªÂä°Êó∂ÔºåÁ∫øÁ®ãÊ±†‰ºöÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºåÂç≥‰ΩøÂÖ∂‰ªñÁ©∫Èó≤ÁöÑÂü∫Êú¨Á∫øÁ®ãËÉΩÂ§üÊâßË°åÊñ∞‰ªªÂä°‰πü‰ºöÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇÁ≠âÂà∞ÈúÄË¶ÅÊâßË°åÁöÑ‰ªªÂä°Êï∞Â§ß‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞Â∞±‰∏çÂÜçÂàõÂª∫„ÄÇ runnableTaskQueue:‰øùÂ≠òÁ≠âÂæÖÊâßË°åÁöÑ‰ªªÂä°ÁöÑÈòªÂ°ûÈòüÂàó ArrayBlockingQueue:Âü∫‰∫éÊï∞ÊçÆÁöÑFIFOÈòüÂàó LinkedBlockingQueueÔºöÂü∫‰∫éÈìæË°®ÁöÑFIFOÈòüÂàóÔºåÂêûÂêêÈáèÈÄöÂ∏∏ÊØîArrayBlockingQueueÈ´ò synchronousQueue:‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàó priorityBlockingQueue:ÂÖ∑Êúâ‰ºòÂÖàÁ∫ßÁöÑÊó†ÈôêÈòªÂ°ûÈòüÂàó maximumPoolSize:Á∫øÁ®ãÊ±†ÂÖÅËÆ∏ÂàõÂª∫ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂ¶ÇÊûúÈòüÂàóÊª°‰∫ÜÔºåÂπ∂‰∏îÂ∑≤ÂàõÂª∫ÁöÑÁ∫øÁ®ãÂ∞è‰∫éÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂàôÁ∫øÁ®ãÊ±†‰ºöÂÜçÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊâßË°å‰ªªÂä°ÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûú‰ΩøÁî®‰∫ÜÊó†ÁïåÁöÑ‰ªªÂä°Á∫øÁ®ãÈòüÂàóÂàôËøô‰∏™ÂèÇÊï∞Ê≤°ÊúâÊÑè‰πâ„ÄÇ ThreadFactoryÔºöÁî®‰∫éËÆæÁΩÆÂàõÂª∫Á∫øÁ®ãÁöÑÂ∑•ÂéÇÔºåÂèØ‰ª•ÈÄöËøáÁ∫øÁ®ãÂ∑•ÂéÇÁªôÊØè‰∏™ÂàõÂª∫Âá∫Êù•ÁöÑÁ∫øÁ®ãËÆæÁΩÆÊõ¥ÊúâÊÑè‰πâÁöÑÂêçÂ≠ó„ÄÇÂèØ‰ΩøÁî®ÂºÄÊ∫êÊ°ÜÊû∂guavaÊèê‰æõÁöÑFactoryBuilderÂèØ‰ª•Âø´ÈÄüÁªôÁ∫øÁ®ãÊ±†ÈáåÁöÑÁ∫øÁ®ãËÆæÁΩÆÊõ¥ÊúâÊÑè‰πâÁöÑÂêçÂ≠ó„ÄÇ RejectedExecutionHandle(È•±ÂíåÁ≠ñÁï•)ÔºöÁ∫øÁ®ãÊ±†ÈòüÂàóÊª°ÂêéÈááÁî®ÁöÑÁ≠ñÁï•ÔºåÈªòËÆ§AbortPolicy AbortPolicy:ÊäõÂá∫ÂºÇÂ∏∏ CallerRunsPolicy:Âè™Áî®Ë∞ÉÁî®ËÄÖÊâÄÂú®Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä° DiscardOldstPolicy:‰∏¢ÂºÉÈòüÂàóÈáåÊúÄËøëÁöÑ‰∏Ä‰∏™‰ªªÂä°ÔºåÂπ∂ÊâßË°åÂΩìÂâçÁ∫øÁ®ã„ÄÇ DiscardPolicy:‰∏çÂ§ÑÁêÜÔºå‰∏¢ÂºÉ KeepAliveTime:Á∫øÁ®ãÊ±†ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÁ©∫Èó≤ÂêéÔºå‰øùÊåÅÂ≠òÊ¥ªÁöÑÊó∂Èó¥„ÄÇÂ¶ÇÊûú‰ªªÂä°Â§öÔºåÂèØË∞ÉÂ§ßÊó∂Èó¥ÊèêÈ´òÂà©Áî®Áéá ÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰ªªÂä°ÂèØ‰ΩøÁî®‰ø©ÁßçÊñπÂºèÊèê‰∫§‰ªªÂä°Ôºöexecute()Âíåsubmit()ÊñπÊ≥ï execute()ÊñπÊ≥ïÁî®‰∫éÊèê‰∫§‰∏çÈúÄË¶ÅËøîÂõûÂÄºÁöÑ‰ªªÂä°ÔºåÊâÄ‰ª•Êó†Ê≥ïÂà§Êñ≠‰ªªÂä°ÊòØÂê¶Ë¢´Á∫øÁ®ãÊ±†ÊâßË°åÊàêÂäüÔºåexecute()ÊñπÊ≥ïËæìÂÖ•ÁöÑ‰ªªÂä°ÊòØ‰∏Ä‰∏™RunnableÁ±ªÁöÑÂÆû‰æã„ÄÇ submit()ÊñπÊ≥ïÁî®‰∫éÊèê‰∫§ÈúÄË¶ÅËøîÂõûÂÄºÁöÑ‰ªªÂä°ÔºåÁ∫øÁ®ãÊ±†‰ºöËøîÂõû‰∏Ä‰∏™futureÁ±ªÂûãÁöÑÂØπË±°ÔºåÈÄöËøáËøô‰∏™futureÁ±ªÂûãÁöÑÂØπË±°ÂèØ‰ª•Âà§Êñ≠‰ªªÂä°ÊòØÂê¶ÊâßË°åÊàêÂäüÔºåÂπ∂‰∏îÂèØÈÄöËøáget()Ëé∑ÂèñËøîÂõûÂÄºÔºåget()ÊñπÊ≥ï‰ºöÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÁõ¥Âà∞‰ªªÂä°ÂÆåÊàê„ÄÇ ExecutorÊ°ÜÊû∂JavaÁöÑÁ∫øÁ®ãÊó¢ÊòØÂ∑•‰ΩúÂçïÂÖÉÔºå‰πüÊòØÊâßË°åÊú∫Âà∂ÔºåJDK5ÂºÄÂßãÔºåÊääÂ∑•‰ΩúÂçïÂÖÉ‰∏éÊâßË°åÊú∫Âà∂ÂàÜÁ¶ªÂºÄÊù•ÔºåÂ∑•‰ΩúÂçïÂÖÉÂåÖÊã¨RunnableÂíåCallableÔºåËÄåÊâßË°åÊú∫Âà∂Áî±ExecutorÊ°ÜÊû∂Êèê‰æõ„ÄÇExecutorÊòØÂü∫‰∫éÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ®°ÂºèÁöÑÔºåÊèê‰∫§‰ªªÂä°ÁöÑÊìç‰ΩúÁõ∏ÂΩì‰∫éÁîüÊàêËÄÖÔºåÊâßË°å‰ªªÂä°ÁöÑÁ∫øÁ®ãÁõ∏ÂΩì‰∫éÊ∂àË¥πËÄÖ„ÄÇExecutorÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆÉÂ∞Ü‰ªªÂä°ÁöÑÊèê‰∫§‰∏é‰ªªÂä°ÁöÑÊâßË°åÂàÜÁ¶ªÂºÄÊù•„ÄÇ RunnbaleÊé•Âè£ÂíåCallableÊé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºåÈÉΩÂèØ‰ª•Ë¢´ThreadPoolExecutorÊàñScheduledThreadPoolExecutorÊâßË°å„ÄÇ ExecutorÊ°ÜÊû∂ÁªìÊûÑExecutorÊ°ÜÊû∂‰∏ªË¶ÅÁî±3Â§ßÈÉ®ÂàÜÁªÑÊàê ‰ªªÂä°ÔºöÂåÖÊã¨Ë¢´ÊâßË°å‰ªªÂä°ÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ÔºåRunnbaleÊé•Âè£ÊàñCallableÊé•Âè£ ‰ªªÂä°ÁöÑÊâßË°åÔºöÂåÖÊã¨‰ªªÂä°ÊâßË°åÊú∫Âà∂ÁöÑÊ†∏ÂøÉÊé•Âè£ExecutorÔºå‰ª•ÂèäÁªßÊâøËá™ExecutorÁöÑExecutorServiceÊé•Âè£ ÂºÇÊ≠•ËÆ°ÁÆóÁöÑÁªìÊûúÔºöÂåÖÊã¨Êé•Âè£FutureÂíåÂÆûÁé∞FutureÊé•Âè£ÁöÑFutureTaskÁ±ª ‚Äã ExecutorÊ°ÜÊû∂‰ΩøÁî®Á§∫ÊÑèÂõæ ‰∏ªÁ∫øÁ®ãÂàõÂª∫RunnbaleÊàñCallableÊé•Âè£ÁöÑ‰ªªÂä°ÂØπË±°ÔºåÂèØÊääRunnbaleÊàñCallableÂØπË±°executorÊàñËÄÖsubmitÊèê‰∫§ÁªôExecutorServiceÔºåÂ¶ÇÊûúExecutorService.sumbit(‚Ä¶)Â∞ÜËøîÂõû‰∏Ä‰∏™FutureÊé•Âè£ÁöÑFutureTaskÁ±ªÔºåÊúÄÂêé‰∏ªÁ∫øÁ®ãÂèØÊâßË°åFutureTask.get()Á≠âÂæÖ‰ªªÂä°ÊâßË°åÂÆåÊàêÔºå‰πüÂèØÊâßË°åFutureTask.cancel()ÂèñÊ∂à‰ªªÂä°ÊâßË°å„ÄÇ ÈÄöÂ∏∏Áî®Â∑•ÂÖ∑Á±ªExecutorsÊèê‰æõÁöÑÊñπÊ≥ïËøõË°åÂàõÂª∫ÔºõÂèØ‰ΩøÁî®Â∑•ÂÖ∑Á±ªExecutorsÊù•Êää‰∏Ä‰∏™RunnbaleÂåÖË£ÖÊàêCallable„ÄÇ]]></content>
      <tags>
        <tag>-Âπ∂ÂèëÁºñÁ®ã</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MultipartfileÊ∑±Â∫¶ÂàÜÊûê]]></title>
    <url>%2F2020%2F03%2F30%2FMultipartfile%E6%B7%B1%E5%BA%A6%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØMultipartfile MultipartFileÊòØspringÊ°ÜÊû∂‰∏≠ÁöÑ‰∏Ä‰∏™Êé•Âè£Ôºå‰∏∫‰∫Ü‰æø‰∫éÊé•Êî∂ÂÆ¢Êà∑Á´Ø‰∏ä‰º†Êñá‰ª∂‰ø°ÊÅØËøõË°åÂ∞ÅË£ÖÔºåÂÖ∂‰ª£Ë°®HTML‰∏≠form dataÊñπÂºè‰∏ä‰º†ÁöÑÊñá‰ª∂ÔºåÂåÖÂê´‰∫åËøõÂà∂Êï∞ÊçÆ+Êñá‰ª∂ÂêçÁß∞ ÂÆûÈôÖÁîü‰∫ß‰∏≠ÔºåÈÄöÂ∏∏Êàë‰ª¨ÂèØ‰ª•Âú®controllerÂÆö‰πâÊñπÊ≥ï‰ΩøÁî®MultipartFileÊé•Êî∂formË°®ÂçïÊèê‰∫§ÁöÑÊñá‰ª∂ÔºåÁÑ∂ÂêéÂ∞ÜMultipartFileÂèØ‰ª•ËΩ¨ÂåñÊàê‰∏Ä‰∏™Êñá‰ª∂„ÄÇ MultipartfileÂ∑•‰ΩúÂéüÁêÜÊåâÁÖßMultipartËßÑÂÆöÁöÑÊ†ºÂºèÂ∞ÜÊñá‰ª∂ÂêçÂíåÊñá‰ª∂ÂÜÖÂÆπÂú®ËØ∑Ê±Ç‰∏≠ÂèëÈÄÅÂà∞ÊúçÂä°Âô®‰∏≠ ÊúçÂä°Âô®‰ªéËØ∑Ê±ÇÊµÅ‰∏≠ÂæóÂà∞Êñá‰ª∂ÂêçÂíåÊñá‰ª∂ÂÜÖÂÆπÊîæÂÖ•Âà∞MultipartÂÆö‰πâÁöÑÁ±ª‰∏≠ÔºåÊúçÂä°Âô®Â§ÑÁêÜËØ∑Ê±Ç‰∏≠ÂÜçÂú®ÊúçÂä°Âô®ÁîüÊàêÁõ∏ÂÖ≥ÁöÑÊñá‰ª∂ÁõÆÂΩïÔºåÂπ∂Â∞ÜÂÜÖÂÆπ‰øùÂ≠òÂà∞ÊúçÂä°Âô®‰∏≠Âéª ËØ•Êñá‰ª∂ÂÜÖÂÆπÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠Êàñ‰∏¥Êó∂Â≠òÂÇ®Âú®Á£ÅÁõò‰∏ä„ÄÇÂú®‰ªª‰Ωï‰∏ÄÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÈúÄË¶ÅÔºåÁî®Êà∑Ë¥üË¥£Â∞ÜÊñá‰ª∂ÂÜÖÂÆπÂ§çÂà∂Âà∞‰ºöËØùÁ∫ßÊàñÊåÅ‰πÖÊÄßÂ≠òÂÇ®„ÄÇ‰∏¥Êó∂Â≠òÂÇ®Â∞ÜÂú®ËØ∑Ê±ÇÂ§ÑÁêÜÁªìÊùüÊó∂Ê∏ÖÈô§„ÄÇ MultipartfileÊñπÊ≥ï Multipartfile‰∏éFileÁõ∏‰∫íËΩ¨ÂåñFileËΩ¨MultipartFile**(‰∫ÜËß£Âç≥ÂèØ)1„ÄÅ‰ΩøÁî®org.springframework.mock.web.MockMultipartFile ÈúÄË¶ÅÂØºÂÖ•spring-test.jar 12345678910public static void main(String[] args) throws Exception &#123; String filePath = "F:\\test.txt"; File file = new File(filePath); FileInputStream fileInputStream = new FileInputStream(file); // MockMultipartFile(String name, @Nullable String originalFilename, @Nullable String contentType, InputStream contentStream) // ÂÖ∂‰∏≠originalFilename,String contentType ÊóßÂêçÂ≠óÔºåÁ±ªÂûã ÂèØ‰∏∫Á©∫ // ContentType.APPLICATION_OCTET_STREAM.toString() ÈúÄË¶Å‰ΩøÁî®HttpClientÁöÑÂåÖ MultipartFile multipartFile = new MockMultipartFile("copy"+file.getName(),file.getName(),ContentType.APPLICATION_OCTET_STREAM.toString(),fileInputStream); System.out.println(multipartFile.getName()); // ËæìÂá∫copytest.txt &#125; Áõ¥Êé•Áî®MultipartFileÁöÑÂàùÂßãÂåñÊñπÊ≥ïÂç≥ÂèØÂ∞ÜFileËΩ¨Âåñ‰∏∫MultipartfileÔºàÂÆûÈôÖÂ∞±ÊòØÂØπËæìÂÖ•Â≠óËäÇÊµÅËøõË°åËΩ¨ÂåñÔºâ 2„ÄÅ‰ΩøÁî®CommonsMultipartFile 123456789101112131415161718public static void main(String[] args) throws Exception &#123; String filePath = "F:\\test.txt"; File file = new File(filePath); // ÈúÄË¶ÅÂØºÂÖ•commons-fileuploadÁöÑÂåÖ FileItem fileItem = new DiskFileItem("copyfile.txt", Files.probeContentType(file.toPath()),false,file.getName(),(int)file.length(),file.getParentFile()); byte[] buffer = new byte[4096]; int n; try (InputStream inputStream = new FileInputStream(file); OutputStream os = fileItem.getOutputStream())&#123; while ( (n = inputStream.read(buffer,0,4096)) != -1)&#123; os.write(buffer,0,n); &#125; //‰πüÂèØ‰ª•Áî®IOUtils.copy(inputStream,os); MultipartFile multipartFile = new CommonsMultipartFile(fileItem); System.out.println(multipartFile.getName()); &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; &#125; ÂΩìÊàë‰ª¨ÈúÄË¶ÅÊìç‰ΩúFileÁ±ªÊñπÊ≥ïÊó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜMultipartfileËΩ¨Âåñ‰∏∫FileÁ±ªÂûãÔºå MultipartFileËΩ¨File**MultipartFileËΩ¨FileÊúâÂá†ÁßçÊñπÊ≥ïÔºåÈÄöËøá‰∏äÈù¢ÁöÑËΩ¨ÂåñÂèØÁü•ÔºåÂèØÂà©Áî®ÈÄÜÂêëÊñπÊ≥ïËΩ¨ÂåñÔºåÊúÄÁªà‰ºöÂú®ÁõÆÂΩï‰∏ãÁîüÊàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åÂà†Èô§Ôºå‰πüÂèØ‰ª•Âà©Áî®MultipartFile‰∏≠ÁöÑÊñπÊ≥ïtransferTo (Êú¨Ë¥®‰∏äËøòÊòØ‰ΩøÁî®‰∫ÜÊµÅ Âè™‰∏çËøáÊòØÂ∞ÅË£Ö‰∫ÜÊ≠•È™§)‰ºöÁîüÊàêÊñá‰ª∂ÔºåÊúÄÂêéÂ¶ÇÊûú‰∏çÈúÄË¶ÅÊñá‰ª∂ËØ•Êñá‰ª∂ÔºåË¶ÅËøõË°åÂà†Èô§„ÄÇ 1„ÄÅ‰ΩøÁî®FileËΩ¨MultipartFileÁöÑÈÄÜËøáÁ®ãÔºåËøô‰∏™ÊñπÊ≥ï‰ºöÂú®Ê†πÁõÆÂΩïÁîüÊàê‰∏Ä‰∏™Êñá‰ª∂ÔºåÈúÄË¶ÅÂà†Èô§ËØ•Êñá‰ª∂„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465public static void main(String[] args) throws Exception &#123; int n; // ÂæóÂà∞MultipartFileÊñá‰ª∂ÔºåÂÆûÈôÖÁîü‰∫ß‰∏≠ÊòØÊñá‰ª∂‰∏ä‰º†‰∏≠Ëé∑ÂæóÂç≥ÂèØ MultipartFile multipartFile = getFile(); File f = null; // ËæìÂá∫Êñá‰ª∂ÁöÑÊñ∞name Â∞±ÊòØÊåá‰∏ä‰º†ÂêéÁöÑÊñá‰ª∂ÂêçÁß∞ System.out.println("getName:"+multipartFile.getName()); // ËæìÂá∫Ê∫êÊñá‰ª∂ÂêçÁß∞ Â∞±ÊòØÊåá‰∏ä‰º†ÂâçÁöÑÊñá‰ª∂ÂêçÁß∞ System.out.println("Oriname:"+multipartFile.getOriginalFilename()); // ÂàõÂª∫Êñá‰ª∂ f = new File(multipartFile.getOriginalFilename()); try ( InputStream in = multipartFile.getInputStream(); OutputStream os = new FileOutputStream(f))&#123; // ÂæóÂà∞Êñá‰ª∂ÊµÅ„ÄÇ‰ª•Êñá‰ª∂ÊµÅÁöÑÊñπÂºèËæìÂá∫Âà∞Êñ∞Êñá‰ª∂ // ÂèØ‰ª•‰ΩøÁî®byte[] ss = multipartFile.getBytes();‰ª£Êõøwhile byte[] buffer = new byte[4096]; while ((n = in.read(buffer,0,4096)) != -1)&#123; os.write(buffer,0,n); &#125; // ËØªÂèñÊñá‰ª∂Á¨¨‰∏ÄË°å BufferedReader bufferedReader = new BufferedReader(new FileReader(f)); System.out.println(bufferedReader.readLine()); // ËæìÂá∫Ë∑ØÂæÑ bufferedReader.close(); &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; // ËæìÂá∫fileÁöÑURL System.out.println(f.toURI().toURL().toString()); // ËæìÂá∫Êñá‰ª∂ÁöÑÁªùÂØπË∑ØÂæÑ System.out.println(f.getAbsolutePath()); // Êìç‰ΩúÂÆå‰∏äÁöÑÊñá‰ª∂ ÈúÄË¶ÅÂà†Èô§Âú®Ê†πÁõÆÂΩï‰∏ãÁîüÊàêÁöÑÊñá‰ª∂ File file = new File(f.toURI()); if (file.delete())&#123; System.out.println("Âà†Èô§ÊàêÂäü"); &#125;else &#123; System.out.println("Âà†Èô§Â§±Ë¥•"); &#125; &#125; /** *‰∏∫‰∫ÜÊµãËØïÈúÄË¶ÅÔºåÂÆûÈôÖÁîü‰∫ß‰∏≠ÊòØÊñá‰ª∂‰∏ä‰º†ÂêéÁöÑMultipartFileÊñá‰ª∂Âç≥ÂèØ * @Description ËøîÂõûMultipartFileÊñá‰ª∂ * @return org.springframework.web.multipart.MultipartFile */ public static MultipartFile getFile() throws IOException &#123; String filePath = "F:\\test.txt"; File file = new File(filePath); FileItem fileItem = new DiskFileItem("copyfile.txt", Files.probeContentType(file.toPath()),false,file.getName(),(int)file.length(),file.getParentFile()); byte[] buffer = new byte[4096]; int n; try (InputStream inputStream = new FileInputStream(file); OutputStream os = fileItem.getOutputStream())&#123; while ( (n = inputStream.read(buffer,0,4096)) != -1)&#123; os.write(buffer,0,n); &#125; //‰πüÂèØ‰ª•Áî®IOUtils.copy(inputStream,os); MultipartFile multipartFile = new CommonsMultipartFile(fileItem); System.out.println(multipartFile.getName()); return multipartFile; &#125;catch (IOException e)&#123; e.printStackTrace(); &#125; return null; &#125; 2„ÄÅ‰ΩøÁî®transferTo (Êú¨Ë¥®‰∏äËøòÊòØ‰ΩøÁî®‰∫ÜÊµÅ Âè™‰∏çËøáÊòØÂ∞ÅË£Ö‰∫ÜÊ≠•È™§)‰ºöÁîüÊàêÊñá‰ª∂ÔºåÊúÄÂêé‰∏çÈúÄË¶ÅÊñá‰ª∂Ë¶ÅÂà†Èô§ 123456789101112131415161718public static void main(String[] args) throws Exception &#123; String path = "F:\\demo\\"; File file = new File(path,"demo.txt"); // ÂæóÂà∞MultipartFileÊñá‰ª∂ MultipartFile multipartFile = getFile(); /*byte[] ss = multipartFile.getBytes(); OutputStream os = new FileOutputStream(file); os.write(ss); os.close();*/ multipartFile.transferTo(file); // ËØªÂèñÊñá‰ª∂Á¨¨‰∏ÄË°å BufferedReader bufferedReader = new BufferedReader(new FileReader(file)); System.out.println(bufferedReader.readLine()); // ËæìÂá∫ÁªùÂØπË∑ØÂæÑ System.out.println(file.getAbsolutePath()); bufferedReader.close(); // Êìç‰ΩúÂÆå‰∏äÁöÑÊñá‰ª∂ ÈúÄË¶ÅÂà†Èô§Âú®Ê†πÁõÆÂΩï‰∏ãÁîüÊàêÁöÑÊñá‰ª∂ &#125; Â∏∏ËßÅÈÖçÁΩÆ MultipartResolverÂÖ∂‰∏≠Â±ûÊÄßËØ¶Ëß£Ôºö defaultEncoding=‚ÄùUTF-8‚Äù ÊòØËØ∑Ê±ÇÁöÑÁºñÁ†ÅÊ†ºÂºèÔºåÈªòËÆ§‰∏∫iso-8859-1 maxUploadSize=‚Äù5400000‚Äù ÊòØ‰∏ä‰º†Êñá‰ª∂ÁöÑÂ§ßÂ∞èÔºåÂçï‰Ωç‰∏∫Â≠óËäÇ uploadTempDir=‚ÄùfileUpload/temp‚Äù ‰∏∫‰∏ä‰º†Êñá‰ª∂ÁöÑ‰∏¥Êó∂Ë∑ØÂæÑ ‰∏ÄÂàáÁöÜÊµÅÊ∑±Â±ÇÊ¨°Êù•ËÆ≤ÔºåÊñá‰ª∂ÁöÑ‰∏ä‰∏ã‰º†ÈóÆÈ¢òÈÉΩÊòØÊµÅÁöÑÈóÆÈ¢òÔºåÂΩìÊàë‰ª¨ÈúÄË¶Å‰∏ä‰º†Êñá‰ª∂Êó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞Ü‰∏ä‰º†Êñá‰ª∂ÊµÅËøõË°åËé∑ÂèñÔºåspringÊ°ÜÊû∂‰∏∫‰∫ÜÊñπ‰æøÂºÄÂèëÔºåÂ∞ÜÊñá‰ª∂‰ø°ÊÅØËøõË°å‰∫åËøõÂà∂Â∞ÅË£Ö‰∏∫MultipartfileÔºåËÄå‰∏îÂ¶ÇÊûú‰∏ä‰º†ÁöÑÊñá‰ª∂Êï∞ÊçÆËøáÂ§ßÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ‰∏ä‰º†Êñá‰ª∂Â§ßÂ∞èËøõË°åÈôêÂà∂ÔºåÂõ†Ê≠§ÔºåÊñá‰ª∂ÁöÑ‰∏ä‰º†‰∏ãËΩΩËØ¥Âà∞Â∫ïÂ∞±ÊòØÂØπÊµÅÁü•ËØÜÁöÑ‰∫ÜËß£ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ‰∏çÂêåÁöÑÊµÅËøõË°åËΩ¨ÂåñÔºå Âõ†Ê≠§ÈúÄË¶ÅÁî®Âà∞Â≠óËäÇËΩ¨ÂåñÁöÑÁºñÁ†ÅÁü•ËØÜ„ÄÇÊúÄÁªàÔºåÊñá‰ª∂‰∏ä‰∏ã‰º†Â∞±ÊòØÈù†Êàë‰ª¨ÂØπÂ≠óËäÇÊµÅÁöÑÁÜüÊÇâÁ®ãÂ∫¶„ÄÇ]]></content>
      <tags>
        <tag>-Âü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[rpcËØ¶Ëß£]]></title>
    <url>%2F2020%2F03%2F30%2Frpc%E8%AF%A6%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅ ‰ªÄ‰πàÊòØRPC RPCÊòØÊåáËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºåÊåáËÆ°ÁÆóÊú∫ A ‰∏äÁöÑËøõÁ®ãÔºåË∞ÉÁî®Âè¶Â§ñ‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ B ‰∏äÁöÑËøõÁ®ãÔºåÂÖ∂‰∏≠ A ‰∏äÁöÑË∞ÉÁî®ËøõÁ®ãË¢´ÊåÇËµ∑ÔºåËÄå B ‰∏äÁöÑË¢´Ë∞ÉÁî®ËøõÁ®ãÂºÄÂßãÊâßË°åÔºåÂΩìÂÄºËøîÂõûÁªô A Êó∂ÔºåA ËøõÁ®ãÁªßÁª≠ÊâßË°å„ÄÇË∞ÉÁî®ÊñπÂèØ‰ª•ÈÄöËøá‰ΩøÁî®ÂèÇÊï∞Â∞Ü‰ø°ÊÅØ‰º†ÈÄÅÁªôË¢´Ë∞ÉÁî®ÊñπÔºåËÄåÂêéÂèØ‰ª•ÈÄöËøá‰º†ÂõûÁöÑÁªìÊûúÂæóÂà∞‰ø°ÊÅØ„ÄÇËÄåËøô‰∏ÄËøáÁ®ãÔºåÂØπ‰∫éÂºÄÂèë‰∫∫ÂëòÊù•ËØ¥ÊòØÈÄèÊòéÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥‰∏§Âè∞ÊúçÂä°Âô®AÔºåBÔºå‰∏Ä‰∏™Â∫îÁî®ÈÉ®ÁΩ≤Âú®AÊúçÂä°Âô®‰∏äÔºåÊÉ≥Ë¶ÅË∞ÉÁî®BÊúçÂä°Âô®‰∏äÂ∫îÁî®Êèê‰æõÁöÑÂáΩÊï∞/ÊñπÊ≥ïÔºåÁî±‰∫é‰∏çÂú®‰∏Ä‰∏™ÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰∏çËÉΩÁõ¥Êé•Ë∞ÉÁî®ÔºåÈúÄË¶ÅÈÄöËøáÁΩëÁªúÊù•Ë°®ËææË∞ÉÁî®ÁöÑËØ≠‰πâÂíå‰º†ËææË∞ÉÁî®ÁöÑÊï∞ÊçÆ„ÄÇ ‰∫åPRCÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò1„ÄÅCall IDÊò†Â∞Ñ Êàë‰ª¨ÊÄé‰πàÂëäËØâËøúÁ®ãÊú∫Âô®Êàë‰ª¨Ë¶ÅË∞ÉÁî®funAÔºåËÄå‰∏çÊòØfunBÊàñËÄÖfunCÂë¢ÔºüÂú®Êú¨Âú∞Ë∞ÉÁî®‰∏≠ÔºåÂáΩÊï∞‰ΩìÊòØÁõ¥Êé•ÈÄöËøáÂáΩÊï∞ÊåáÈíàÊù•ÊåáÂÆöÁöÑÔºåÊàë‰ª¨Ë∞ÉÁî®funAÔºåÁºñËØëÂô®Â∞±Ëá™Âä®Â∏ÆÊàë‰ª¨Ë∞ÉÁî®ÂÆÉÁõ∏Â∫îÁöÑÂáΩÊï∞ÊåáÈíà„ÄÇ‰ΩÜÊòØÂú®ËøúÁ®ãË∞ÉÁî®‰∏≠ÔºåÂáΩÊï∞ÊåáÈíàÊòØ‰∏çË°åÁöÑÔºåÂõ†‰∏∫‰∏§‰∏™ËøõÁ®ãÁöÑÂú∞ÂùÄÁ©∫Èó¥ÊòØÂÆåÂÖ®‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ÊâÄ‰ª•ÔºåÂú®RPC‰∏≠ÔºåÊâÄÊúâÁöÑÂáΩÊï∞ÈÉΩÂøÖÈ°ªÊúâËá™Â∑±ÁöÑ‰∏Ä‰∏™ID„ÄÇËøô‰∏™IDÂú®ÊâÄÊúâËøõÁ®ã‰∏≠ÈÉΩÊòØÂîØ‰∏ÄÁ°ÆÂÆöÁöÑ„ÄÇÂÆ¢Êà∑Á´ØÂú®ÂÅöËøúÁ®ãËøáÁ®ãË∞ÉÁî®Êó∂ÔºåÂøÖÈ°ªÈôÑ‰∏äËøô‰∏™ID„ÄÇÁÑ∂ÂêéÊàë‰ª¨ËøòÈúÄË¶ÅÂú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÂàÜÂà´Áª¥Êä§‰∏Ä‰∏™ {ÂáΩÊï∞ &lt;‚Äì&gt; Call ID} ÁöÑÂØπÂ∫îË°®„ÄÇ‰∏§ËÄÖÁöÑË°®‰∏ç‰∏ÄÂÆöÈúÄË¶ÅÂÆåÂÖ®Áõ∏ÂêåÔºå‰ΩÜÁõ∏ÂêåÁöÑÂáΩÊï∞ÂØπÂ∫îÁöÑCall IDÂøÖÈ°ªÁõ∏Âêå„ÄÇ „ÄêNote„ÄëÂΩìÂÆ¢Êà∑Á´ØÈúÄË¶ÅËøõË°åËøúÁ®ãË∞ÉÁî®Êó∂ÔºåÂÆÉÂ∞±Êü•‰∏Ä‰∏ãËøô‰∏™Ë°®ÔºåÊâæÂá∫Áõ∏Â∫îÁöÑCall IDÔºåÁÑ∂ÂêéÊääÂÆÉ‰º†ÁªôÊúçÂä°Á´ØÔºåÊúçÂä°Á´Ø‰πüÈÄöËøáÊü•Ë°®ÔºåÊù•Á°ÆÂÆöÂÆ¢Êà∑Á´ØÈúÄË¶ÅË∞ÉÁî®ÁöÑÂáΩÊï∞ÔºåÁÑ∂ÂêéÊâßË°åÁõ∏Â∫îÂáΩÊï∞ÁöÑ‰ª£Á†Å„ÄÇ 2„ÄÅÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ ÂÆ¢Êà∑Á´ØÊÄé‰πàÊääÂèÇÊï∞ÂÄº‰º†ÁªôËøúÁ®ãÁöÑÂáΩÊï∞Âë¢ÔºüÂú®Êú¨Âú∞Ë∞ÉÁî®‰∏≠ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊääÂèÇÊï∞ÂéãÂà∞Ê†àÈáåÔºåÁÑ∂ÂêéËÆ©ÂáΩÊï∞Ëá™Â∑±ÂéªÊ†àÈáåËØªÂ∞±Ë°å„ÄÇ ‰ΩÜÊòØÂú®ËøúÁ®ãËøáÁ®ãË∞ÉÁî®Êó∂ÔºåÂÆ¢Êà∑Á´ØË∑üÊúçÂä°Á´ØÊòØ‰∏çÂêåÁöÑËøõÁ®ãÔºå‰∏çËÉΩÈÄöËøáÂÜÖÂ≠òÊù•‰º†ÈÄíÂèÇÊï∞„ÄÇÁîöËá≥ÊúâÊó∂ÂÄôÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´Ø‰ΩøÁî®ÁöÑÈÉΩ‰∏çÊòØÂêå‰∏ÄÁßçËØ≠Ë®ÄÔºàÊØîÂ¶ÇÊúçÂä°Á´ØÁî®C++ÔºåÂÆ¢Êà∑Á´ØÁî®JavaÊàñËÄÖPythonÔºâ„ÄÇ „ÄêNote„ÄëËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÊääÂèÇÊï∞ÂÖàËΩ¨Êàê‰∏Ä‰∏™Â≠óËäÇÊµÅÔºàÁºñÁ†ÅÔºâÔºå‰º†ÁªôÊúçÂä°Á´ØÂêéÔºåÂÜçÊääÂ≠óËäÇÊµÅËΩ¨ÊàêËá™Â∑±ËÉΩËØªÂèñÁöÑÊ†ºÂºèÔºàËß£Á†ÅÔºâ„ÄÇËøô‰∏™ËøáÁ®ãÂè´Â∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ„ÄÇÂêåÁêÜÔºå‰ªéÊúçÂä°Á´ØËøîÂõûÁöÑÂÄº‰πüÈúÄË¶ÅÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñÁöÑËøáÁ®ã„ÄÇ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂ∫èÂàóÂåñÔºü ËΩ¨Êç¢‰∏∫Â≠óËäÇÊµÅÊñπ‰æøËøõË°åÁΩëÁªú‰º†Ëæì„ÄÇ ÂÆûÁé∞Ë∑®Âπ≥Âè∞„ÄÅË∑®ËØ≠Ë®ÄÔºõÂ¶ÇÊûúÊòØË∑®Âπ≥Âè∞ÁöÑÂ∫èÂàóÂåñÔºåÂàôÂèëÈÄÅÊñπÂ∫èÂàóÂåñÂêéÔºåÊé•Êî∂ÊñπÂèØ‰ª•Áî®‰ªª‰ΩïÂÖ∂ÊîØÊåÅÁöÑÂπ≥Âè∞ÂèçÂ∫èÂàóÂåñÊàêÁõ∏Â∫îÁöÑÁâàÊú¨ÔºåÊØîÂ¶Ç JavaÂ∫èÂàóÂåñÂêéÔºå Áî®.net„ÄÅphythonÁ≠âÂèçÂ∫èÂàóÂåñ„ÄÇ 3„ÄÅÁΩëÁªú‰º†Ëæì ËøúÁ®ãË∞ÉÁî®ÂæÄÂæÄÁî®Âú®ÁΩëÁªú‰∏äÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÊòØÈÄöËøáÁΩëÁªúËøûÊé•ÁöÑ„ÄÇÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÈúÄË¶ÅÈÄöËøáÁΩëÁªú‰º†ËæìÔºåÂõ†Ê≠§Â∞±ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÁΩëÁªú‰º†ËæìÂ±Ç„ÄÇ „ÄêNote„ÄëÁΩëÁªú‰º†ËæìÂ±ÇÈúÄË¶ÅÊääCall IDÂíåÂ∫èÂàóÂåñÂêéÁöÑÂèÇÊï∞Â≠óËäÇÊµÅ‰º†ÁªôÊúçÂä°Á´ØÔºåÁÑ∂ÂêéÂÜçÊääÂ∫èÂàóÂåñÂêéÁöÑË∞ÉÁî®ÁªìÊûú‰º†ÂõûÂÆ¢Êà∑Á´Ø„ÄÇÂè™Ë¶ÅËÉΩÂÆåÊàêËøô‰∏§ËÄÖÁöÑÔºåÈÉΩÂèØ‰ª•‰Ωú‰∏∫‰º†ËæìÂ±Ç‰ΩøÁî®„ÄÇÂõ†Ê≠§ÔºåÂÆÉÊâÄ‰ΩøÁî®ÁöÑÂçèËÆÆÂÖ∂ÂÆûÊòØ‰∏çÈôêÁöÑÔºåËÉΩÂÆåÊàê‰º†ËæìÂ∞±Ë°å„ÄÇÂ∞ΩÁÆ°Â§ßÈÉ®ÂàÜRPCÊ°ÜÊû∂ÈÉΩ‰ΩøÁî®TCPÂçèËÆÆÔºå‰ΩÜÂÖ∂ÂÆûUDP‰πüÂèØ‰ª•ÔºåËÄågRPCÂπ≤ËÑÜÂ∞±Áî®‰∫ÜHTTP2„ÄÇ ÊâÄ‰ª•ÔºåË¶ÅÂÆûÁé∞‰∏Ä‰∏™RPCÊ°ÜÊû∂ÔºåÂÖ∂ÂÆûÂè™ÈúÄË¶ÅÊää‰ª•‰∏ä‰∏âÁÇπÂÆûÁé∞‰∫ÜÂ∞±Âü∫Êú¨ÂÆåÊàê‰∫Ü„ÄÇCall IDÊò†Â∞ÑÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÂáΩÊï∞Â≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Êï¥Êï∞ID„ÄÇÊò†Â∞ÑË°®‰∏ÄËà¨Â∞±ÊòØ‰∏Ä‰∏™ÂìàÂ∏åË°®„ÄÇÂ∫èÂàóÂåñÂèçÂ∫èÂàóÂåñÂèØ‰ª•Ëá™Â∑±ÂÜôÔºå‰πüÂèØ‰ª•‰ΩøÁî®ProtobufÊàñËÄÖFlatBuffers‰πãÁ±ªÁöÑ„ÄÇÁΩëÁªú‰º†ËæìÂ∫ìÂèØ‰ª•Ëá™Â∑±ÂÜôsocketÔºåÊàñËÄÖÁî®asioÔºåZeroMQÔºåNetty‰πãÁ±ª„ÄÇ ÊÄªÁªì‰∏Ä‰∏ãÔºåRPCË¶ÅËß£ÂÜ≥ÁöÑ‰∏§‰∏™ÈóÆÈ¢òÔºö Ëß£ÂÜ≥ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÊúçÂä°‰πãÈó¥ÁöÑË∞ÉÁî®ÈóÆÈ¢ò„ÄÇ ËøúÁ®ãË∞ÉÁî®Êó∂ÔºåË¶ÅËÉΩÂ§üÂÉèÊú¨Âú∞Ë∞ÉÁî®‰∏ÄÊ†∑Êñπ‰æøÔºåËÆ©Ë∞ÉÁî®ËÄÖÊÑüÁü•‰∏çÂà∞ËøúÁ®ãË∞ÉÁî®ÁöÑÈÄªËæë„ÄÇ ‰∏â„ÄÅPRCÂàÜÊûê1„ÄÅRPC vs RestfulÂú®ÂæÆÊúçÂä°‰∏≠Ôºå‰ΩøÁî®‰ªÄ‰πàÂçèËÆÆÊù•ÊûÑÂª∫ÊúçÂä°‰ΩìÁ≥ªÔºå‰∏ÄÁõ¥ÊòØ‰∏™ÁÉ≠Èó®ËØùÈ¢ò„ÄÇ ‰∫âËÆ∫ÁöÑÁÑ¶ÁÇπÈõÜ‰∏≠Âú®‰∏§‰∏™ÂÄôÈÄâÊäÄÊúØÔºö (binary) RPC or Restful„ÄÇ ‰ª•Apache Thrift‰∏∫‰ª£Ë°®ÁöÑ‰∫åËøõÂà∂RPCÔºåÊîØÊåÅÂ§öÁßçËØ≠Ë®ÄÔºà‰ΩÜ‰∏çÊòØÊâÄÊúâËØ≠Ë®ÄÔºâÔºåÂõõÂ±ÇÈÄöËÆØÂçèËÆÆÔºåÊÄßËÉΩÈ´òÔºåËäÇÁúÅÂ∏¶ÂÆΩ„ÄÇÁõ∏ÂØπRestfulÂçèËÆÆÔºå‰ΩøÁî®Thrifpt RPCÔºåÂú®ÂêåÁ≠âÁ°¨‰ª∂Êù°‰ª∂‰∏ãÔºåÂ∏¶ÂÆΩ‰ΩøÁî®Áéá‰ªÖ‰∏∫ÂâçËÄÖÁöÑ20%ÔºåÊÄßËÉΩÂç¥ÊèêÂçá‰∏Ä‰∏™Êï∞ÈáèÁ∫ß„ÄÇ‰ΩÜÊòØËøôÁßçÂçèËÆÆÊúÄÂ§ßÁöÑÈóÆÈ¢òÂú®‰∫éÔºåÊó†Ê≥ïÁ©øÈÄèÈò≤ÁÅ´Â¢ô„ÄÇ ‰ª•Spring Cloud‰∏∫‰ª£Ë°®ÊâÄÊîØÊåÅÁöÑRestful ÂçèËÆÆÔºå‰ºòÂäøÂú®‰∫éËÉΩÂ§üÁ©øÈÄèÈò≤ÁÅ´Â¢ôÔºå‰ΩøÁî®Êñπ‰æøÔºåËØ≠Ë®ÄÊó†ÂÖ≥ÔºåÂü∫Êú¨‰∏äÂèØ‰ª•‰ΩøÁî®ÂêÑÁßçÂºÄÂèëËØ≠Ë®ÄÂÆûÁé∞ÁöÑÁ≥ªÁªüÔºåÈÉΩÂèØ‰ª•Êé•ÂèóRestful ÁöÑËØ∑Ê±Ç„ÄÇ ‰ΩÜÊÄßËÉΩÂíåÂ∏¶ÂÆΩÂç†Áî®‰∏äÊúâÂä£Âäø„ÄÇ ÊâÄ‰ª•Ôºå‰∏öÂÜÖÂØπÂæÆÊúçÂä°ÁöÑÂÆûÁé∞ÔºåÂü∫Êú¨ÊòØÁ°ÆÂÆö‰∏Ä‰∏™ÁªÑÁªáËæπÁïåÔºåÂú®ËØ•ËæπÁïåÂÜÖÔºå‰ΩøÁî®RPC; ËæπÁïåÂ§ñÔºå‰ΩøÁî®Restful„ÄÇËøô‰∏™ËæπÁïåÔºåÂèØ‰ª•ÊòØ‰∏öÂä°„ÄÅÈÉ®Èó®ÔºåÁîöËá≥ÊòØÂÖ®ÂÖ¨Âè∏„ÄÇ ÂÖ∂ÂÆûËøô‰∏§ËÄÖÂπ∂‰∏çÊòØ‰∏Ä‰∏™Áª¥Â∫¶ÁöÑÊ¶ÇÂøµÔºåÊÄªÂæóÊù•ËØ¥RPCÊ∂âÂèäÁöÑÁª¥Â∫¶Êõ¥Âπø„ÄÇ ‰ΩøÁî®RPCËøúÁ®ãÊúçÂä°Ë∞ÉÁî®ÊñπÂºè‰∏é‰º†ÁªühttpÊé•Âè£Áõ¥Êé•Ë∞ÉÁî®ÊñπÂºèÁöÑÂ∑ÆÂà´Âú®‰∫éÔºöRPCÊòØÈù¢ÂêëËøáÁ®ãÔºåRestfulÊòØÈù¢ÂêëËµÑÊ∫ê ‰ªé‰ΩøÁî®ÊñπÈù¢ÁúãÔºåHttpÊé•Âè£Âè™ÂÖ≥Ê≥®ÊúçÂä°Êèê‰æõÊñπÔºåÂØπ‰∫éÂÆ¢Êà∑Á´ØÊÄé‰πàË∞ÉÁî®ÔºåË∞ÉÁî®ÊñπÂºèÊÄéÊ†∑Âπ∂‰∏çÂÖ≥ÂøÉÔºåÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰ΩøÁî®HttpÊñπÂºèËøõË°åË∞ÉÁî®Êó∂ÔºåÂè™Ë¶ÅÂ∞ÜÂÜÖÂÆπËøõË°å‰º†ËæìÂç≥ÂèØÔºåËøôÊ†∑ÂÆ¢Êà∑Á´ØÂú®‰ΩøÁî®Êó∂ÔºåÈúÄË¶ÅÊõ¥ÂÖ≥Ê≥®ÁΩëÁªúÊñπÈù¢ÁöÑ‰º†ËæìÔºåÊØîËæÉ‰∏çÈÄÇÁî®‰∏é‰∏öÂä°ÊñπÈù¢ÁöÑÂºÄÂèëÔºõËÄåRPCÊúçÂä°ÂàôÈúÄË¶ÅÂÆ¢Êà∑Á´ØÊé•Âè£‰∏éÊúçÂä°Á´Ø‰øùÊåÅ‰∏ÄËá¥ÔºåÊúçÂä°Á´ØÊèê‰æõ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂÆ¢Êà∑Á´ØÈÄöËøáÊé•Âè£Áõ¥Êé•ÂèëËµ∑Ë∞ÉÁî®Ôºå‰∏öÂä°ÂºÄÂèë‰∫∫Âëò‰ªÖÈúÄË¶ÅÂÖ≥Ê≥®‰∏öÂä°ÊñπÊ≥ïÁöÑË∞ÉÁî®Âç≥ÂèØÔºå‰∏çÂÜçÂÖ≥Ê≥®ÁΩëÁªú‰º†ËæìÁöÑÁªÜËäÇÔºåÂú®ÂºÄÂèë‰∏äÊõ¥‰∏∫È´òÊïà„ÄÇ ‰ªéÊÄßËÉΩËßíÂ∫¶ÁúãÔºå‰ΩøÁî®HttpÊó∂ÔºåHttpÊú¨Ë∫´Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÁä∂ÊÄÅÂäüËÉΩ‰∏éÊâ©Â±ïÂäüËÉΩÔºå‰ΩÜ‰πüÊ≠£Áî±‰∫éHttpÊèê‰æõÁöÑÂäüËÉΩËøáÂ§öÔºåÂØºËá¥Âú®ÁΩëÁªú‰º†ËæìÊó∂ÔºåÈúÄË¶ÅÊê∫Â∏¶ÁöÑ‰ø°ÊÅØÊõ¥Â§öÔºå‰ªéÊÄßËÉΩËßíÂ∫¶‰∏äËÆ≤ÔºåËæÉ‰∏∫‰ΩéÊïà„ÄÇËÄåRPCÊúçÂä°ÁΩëÁªú‰º†Ëæì‰∏ä‰ªÖ‰º†Ëæì‰∏é‰∏öÂä°ÂÜÖÂÆπÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÔºå‰º†ËæìÊï∞ÊçÆÊõ¥Â∞èÔºåÊÄßËÉΩÊõ¥È´ò„ÄÇ ‰ªéËøêÁª¥ËßíÂ∫¶ÁúãÔºå‰ΩøÁî®HttpÊé•Âè£Êó∂ÔºåÂ∏∏Â∏∏‰ΩøÁî®‰∏Ä‰∏™ÂâçÁ´Ø‰ª£ÁêÜÔºåÊù•ËøõË°åHttpËΩ¨Âèë‰ª£ÁêÜËØ∑Ê±ÇÁöÑÊìç‰ΩúÔºåÈúÄË¶ÅËøõË°åÊâ©ÂÆπÊó∂ÔºåÂàôÈúÄË¶ÅÂéª‰øÆÊîπ‰ª£ÁêÜÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÔºåËæÉ‰∏∫ÁπÅÁêêÔºå‰πüÂÆπÊòìÂá∫Èîô„ÄÇËÄå‰ΩøÁî®RPCÊñπÂºèÁöÑÂæÆÊúçÂä°ÔºåÂàôÂè™Ë¶ÅÂ¢ûÂä†‰∏Ä‰∏™ÊúçÂä°ËäÇÁÇπÂç≥ÂèØÔºåÊ≥®ÂÜå‰∏≠ÂøÉÂèØËá™Âä®ÊÑüÁü•Âà∞ËäÇÁÇπÁöÑÂèòÂåñÔºåÈÄöÁü•Ë∞ÉÁî®ÂÆ¢Êà∑Á´ØËøõË°åË¥üËΩΩÁöÑÂä®ÊÄÅÊéßÂà∂ÔºåÊõ¥‰∏∫Êô∫ËÉΩÔºåÁúÅÂéªËøêÁª¥ÁöÑÊìç‰Ωú„ÄÇ ÊØîÂ¶Ç‰Ω†Êèê‰æõ‰∏Ä‰∏™Êü•ËØ¢ËÆ¢ÂçïÁöÑÊé•Âè£ÔºåÁî®RPCÈ£éÊ†ºÔºå‰Ω†ÂèØËÉΩ‰ºöËøôÊ†∑ÂÜôÔºö 1/queryOrder?orderId=123 Áî®RestfulÈ£éÊ†ºÂë¢Ôºü 12Get /order?orderId=123 2„ÄÅRPC vs RMI 1„ÄÅ‰ªÄ‰πàÊòØRMI RMI:ËøúÁ®ãÊñπÊ≥ïË∞ÉÁî®(Remote Method Invocation)„ÄÇËÉΩÂ§üËÆ©Âú®ÂÆ¢Êà∑Á´ØJavaËôöÊãüÊú∫‰∏äÁöÑÂØπË±°ÂÉèË∞ÉÁî®Êú¨Âú∞ÂØπË±°‰∏ÄÊ†∑Ë∞ÉÁî®ÊúçÂä°Á´Øjava ËôöÊãüÊú∫‰∏≠ÁöÑÂØπË±°‰∏äÁöÑÊñπÊ≥ï„ÄÇ RMIÂØπÊúçÂä°Âô®ÁöÑIPÂú∞ÂùÄÂíåÁ´ØÂè£‰æùËµñÂæàÁ¥ßÂØÜÔºå‰ΩÜÊòØÂú®ÂºÄÂèëÁöÑÊó∂ÂÄô‰∏çÁü•ÈÅìÂ∞ÜÊù•ÁöÑÊúçÂä°Âô®IPÂíåÁ´ØÂè£Â¶Ç‰ΩïÔºå‰ΩÜÊòØÂÆ¢Êà∑Á´ØÁ®ãÂ∫è‰æùËµñËøô‰∏™IPÂíåÁ´ØÂè£„ÄÇËøô‰πüÊòØRMIÁöÑÂ±ÄÈôêÊÄß‰πã‰∏Ä„ÄÇ Ëøô‰∏™ÈóÆÈ¢òÊúâ‰∏§ÁßçËß£ÂÜ≥ÈÄîÂæÑÔºö‰∏ÄÊòØÈÄöËøáDNSÊù•Ëß£ÂÜ≥Ôºå‰∫åÊòØÈÄöËøáÂ∞ÅË£ÖÂ∞ÜIPÊö¥Èú≤Âà∞Á®ãÂ∫è‰ª£Á†Å‰πãÂ§ñ„ÄÇ RMIÁöÑÂ±ÄÈôêÊÄß‰πã‰∫åÊòØRMIÊòØJavaËØ≠Ë®ÄÁöÑËøúÁ®ãË∞ÉÁî®Ôºå‰∏§Á´ØÁöÑÁ®ãÂ∫èËØ≠Ë®ÄÂøÖÈ°ªÊòØJavaÂÆûÁé∞ÔºåÂØπ‰∫é‰∏çÂêåËØ≠Ë®ÄÈó¥ÁöÑÈÄöËÆØÂèØ‰ª•ËÄÉËôëÁî®Web ServiceÊàñËÄÖÂÖ¨Áî®ÂØπË±°ËØ∑Ê±Ç‰ª£ÁêÜ‰ΩìÁ≥ªÔºàCORBAÔºâÊù•ÂÆûÁé∞„ÄÇ 2„ÄÅRPC‰∏éRMIÁöÑÂå∫Âà´ Ôºà1ÔºâÔºöÊñπÊ≥ïË∞ÉÁî®ÊñπÂºè‰∏çÂêåÔºö RPCÔºàËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºâÂíåRMIÔºàËøúÁ®ãÊñπÊ≥ïË∞ÉÁî®ÔºâÊòØ‰∏§ÁßçÂèØ‰ª•ËÆ©Áî®Êà∑‰ªé‰∏ÄÂè∞ÁîµËÑëË∞ÉÁî®‰∏çÂêåÁîµËÑë‰∏äÈù¢ÁöÑÊñπÊ≥ïÁöÑÁöÑÊú∫Âà∂Ôºà‰πüÂèØ‰ª•Áß∞‰ΩúËßÑËåÉ„ÄÅÂçèËÆÆÔºâ„ÄÇ‰∏§ËÄÖÁöÑ‰∏ªË¶Å‰∏çÂêåÊòØ‰ªñ‰ª¨ÁöÑ‰ΩøÁî®ÊñπÂºèÊàñËÄÖÁß∞‰ΩúËåÉÂºèÔºåRMI‰ΩøÁî®Èù¢ÂêëÂØπË±°ÁöÑËåÉÂºèÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÈúÄË¶ÅÁü•ÈÅì‰ªñË∞ÉÁî®ÁöÑÂØπË±°ÂíåÂØπË±°‰∏≠ÁöÑÊñπÊ≥ïÔºõRPC‰∏çÊòØÈù¢ÂêëÂØπË±°‰πü‰∏çËÉΩÂ§ÑÁêÜÂØπË±°ÔºåËÄåÊòØË∞ÉÁî®ÂÖ∑‰ΩìÁöÑÂ≠êÁ®ãÂ∫è„ÄÇ RPC‰∏≠ÊòØÈÄöËøáÁΩëÁªúÊúçÂä°ÂçèËÆÆÂêëËøúÁ®ã‰∏ªÊú∫ÂèëÈÄÅËØ∑Ê±ÇÔºåËØ∑Ê±ÇÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÂèÇÊï∞ÈõÜÂíå‰∏Ä‰∏™ÊñáÊú¨ÂÄºÔºåÈÄöÂ∏∏ÂΩ¢Êàê‚Äúclassname.methodname(ÂèÇÊï∞ÈõÜ)‚ÄùÁöÑÂΩ¢Âºè„ÄÇRPCËøúÁ®ã‰∏ªÊú∫Â∞±ÂéªÊêúÁ¥¢‰∏é‰πãÁõ∏ÂåπÈÖçÁöÑÁ±ªÂíåÊñπÊ≥ïÔºåÊâæÂà∞ÂêéÂ∞±ÊâßË°åÊñπÊ≥ïÂπ∂ÊääÁªìÊûúÁºñÁ†ÅÔºåÈÄöËøáÁΩëÁªúÂçèËÆÆÂèëÂõû„ÄÇ Ôºà2ÔºâÔºöÈÄÇÁî®ËØ≠Ë®ÄËåÉÂõ¥‰∏çÂêåÔºö RPCÊòØ‰∏Ä‰∏™Âü∫‰∫éCËØ≠Ë®ÄÁöÑÁõ∏ÂØπËæÉÊóßÁöÑÂçèËÆÆÔºåÂõ†Ê≠§‰πüÂ∞±ÁªßÊâø‰∫ÜCËØ≠Ë®ÄÁöÑËåÉÂºèÔºå‰ΩøÁî®RPCÔºå‰Ω†ÂèØ‰ª•ÂÉèË∞ÉÁî®‰∏Ä‰∏™Êú¨Âú∞ÊñπÊ≥ï‰∏ÄÊ†∑Ë∞ÉÁî®ËøúÁ®ãÁöÑÊñπÊ≥ïÔºåÁî±RPCÂ§ÑÁêÜË∞ÉÁî®ËøáÁ®ãÁöÑÂ§çÊùÇÊìç‰ΩúÔºåRMIÁöÑÂäüËÉΩÂíåRPCÂü∫Êú¨‰∏ÄÊ†∑„ÄÇ‰ΩÜÊòØÂíåRPCÂè™‰º†Ëæì‰∏Ä‰∏™ËøáÁ®ãË∞ÉÁî®‰∏çÂêåÔºåRMIÈúÄË¶Å‰º†ËæìÂØπË±°ÁöÑÂºïÁî®‰ª•ÂèäË∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇRMIÊòØÁî®JavaÂºÄÂèëÁöÑÔºåËøêË°åÂú®JavaËôöÊãüÊú∫‰∏äÔºåÂõ†Ê≠§ÂÆÉÁöÑÁî®ÈÄîÊòØË∞ÉÁî®ËøúÁ®ãËÆ°ÁÆóÊú∫‰∏äÁöÑjavaÂ∫îÁî®Á®ãÂ∫è„ÄÇ Ôºà3ÔºâÔºöË∞ÉÁî®ÁªìÊûúÁöÑËøîÂõûÂΩ¢Âºè‰∏çÂêåÔºö RPCÂíåRMIÂè™ÊòØÂ§ÑÁêÜÂêå‰∏Ä‰∏™ÈóÆÈ¢òÁöÑ‰∏çÂêåÊñπÂºèÔºåËøô‰∏ÄÂàáÈÉΩÂΩíÁªì‰∫é‰Ω†ÊâÄ‰ΩøÁî®ÁöÑËØ≠Ë®ÄÂíå‰Ω†ÊâÄ‰ΩøÁî®ÁöÑËåÉÂºè„ÄÇ‰ΩøÁî®Èù¢ÂêëÂØπË±°ÁöÑRMIÊòØ‰∏§ËÄÖ‰πãÈó¥ÁöÑÊõ¥Â•ΩÁöÑÊñπÊ≥ïÔºåÁâπÂà´ÊòØÂ§ßÂûãÁ®ãÂ∫èÔºå‰ΩøÁî®RMI‰ª£Á†ÅÊõ¥ÁÆÄÊ¥ÅÔºåÊõ¥ÂÆπÊòìËøΩË∏™bug„ÄÇRPCÁõÆÂâç‰æùÁÑ∂ÊòØË¢´ÂπøÊ≥õÊé•ÂèóÁöÑÔºåÂ∞§ÂÖ∂ÊòØÂΩìÊó†Ê≥ïÈÄâÊã©‰ªª‰ΩïÁöÑÂèØÊõø‰ª£ÁöÑËøúÁ®ãÁ®ãÂ∫èÂçèËÆÆÊó∂ÂÄô„ÄÇ JavaÊòØÈù¢ÂêëÂØπË±°ÁöÑÔºåÊâÄ‰ª•RMIÁöÑË∞ÉÁî®ÁªìÊûúÂèØ‰ª•ÊòØÂØπË±°Á±ªÂûãÊàñËÄÖÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºõ RMIÁöÑÁªìÊûúÁªü‰∏ÄÁî±Â§ñÈÉ®Êï∞ÊçÆË°®Á§∫ (External Data Representation, XDR) ËØ≠Ë®ÄË°®Á§∫ÔºåËøôÁßçËØ≠Ë®ÄÊäΩË±°‰∫ÜÂ≠óËäÇÂ∫èÁ±ªÂíåÊï∞ÊçÆÁ±ªÂûãÁªìÊûÑ‰πãÈó¥ÁöÑÂ∑ÆÂºÇ„ÄÇ ÂõõÂ∏∏ËßÅÁöÑRPCÊ°ÜÊû∂Â∏∏Áî®ÁöÑRPCÊ°ÜÊû∂ gRPCÊòØGoogleÂÖ¨Â∏ÉÁöÑÂºÄÊ∫êËΩØ‰ª∂ÔºåÂü∫‰∫éÊúÄÊñ∞ÁöÑHTTP2.0ÂçèËÆÆÔºåÂπ∂ÊîØÊåÅÂ∏∏ËßÅÁöÑ‰ºóÂ§öÁºñÁ®ãËØ≠Ë®Ä„ÄÇ Êàë‰ª¨Áü•ÈÅìHTTP2.0ÊòØÂü∫‰∫é‰∫åËøõÂà∂ÁöÑHTTPÂçèËÆÆÂçáÁ∫ßÁâàÊú¨ÔºåÁõÆÂâçÂêÑÂ§ßÊµèËßàÂô®ÈÉΩÂú®Âø´È©¨Âä†Èû≠ÁöÑÂä†‰ª•ÊîØÊåÅ„ÄÇ Ëøô‰∏™RPCÊ°ÜÊû∂ÊòØÂü∫‰∫éHTTPÂçèËÆÆÂÆûÁé∞ÁöÑÔºåÂ∫ïÂ±Ç‰ΩøÁî®Âà∞‰∫ÜNettyÊ°ÜÊû∂ÁöÑÊîØÊåÅ„ÄÇ ThriftÊòØFacebookÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆÔºå‰∏ªË¶ÅÊòØ‰∏Ä‰∏™Ë∑®ËØ≠Ë®ÄÁöÑÊúçÂä°ÂºÄÂèëÊ°ÜÊû∂„ÄÇÂÆÉÊúâ‰∏Ä‰∏™‰ª£Á†ÅÁîüÊàêÂô®Êù•ÂØπÂÆÉÊâÄÂÆö‰πâÁöÑIDLÂÆö‰πâÊñá‰ª∂Ëá™Âä®ÁîüÊàêÊúçÂä°‰ª£Á†ÅÊ°ÜÊû∂„ÄÇÁî®Êà∑Âè™Ë¶ÅÂú®ÂÖ∂‰πãÂâçËøõË°å‰∫åÊ¨°ÂºÄÂèëÂ∞±Ë°åÔºåÂØπ‰∫éÂ∫ïÂ±ÇÁöÑRPCÈÄöËÆØÁ≠âÈÉΩÊòØÈÄèÊòéÁöÑ„ÄÇ‰∏çËøáËøô‰∏™ÂØπ‰∫éÁî®Êà∑Êù•ËØ¥ÁöÑËØùÈúÄË¶ÅÂ≠¶‰π†ÁâπÂÆöÈ¢ÜÂüüËØ≠Ë®ÄËøô‰∏™ÁâπÊÄßÔºåËøòÊòØÊúâ‰∏ÄÂÆöÊàêÊú¨ÁöÑ„ÄÇ DubboÊòØÈòøÈáåÈõÜÂõ¢ÂºÄÊ∫êÁöÑ‰∏Ä‰∏™ÊûÅ‰∏∫Âá∫ÂêçÁöÑRPCÊ°ÜÊû∂ÔºåÂú®ÂæàÂ§ö‰∫íËÅîÁΩëÂÖ¨Âè∏Âíå‰ºÅ‰∏öÂ∫îÁî®‰∏≠ÂπøÊ≥õ‰ΩøÁî®„ÄÇÂçèËÆÆÂíåÂ∫èÂàóÂåñÊ°ÜÊû∂ÈÉΩÂèØ‰ª•ÊèíÊãîÊòØÂèäÂÖ∂È≤úÊòéÁöÑÁâπËâ≤„ÄÇÂêåÊ†∑ÁöÑËøúÁ®ãÊé•Âè£ÊòØÂü∫‰∫éJava InterfaceÔºåÂπ∂‰∏î‰æùÊâò‰∫éspringÊ°ÜÊû∂Êñπ‰æøÂºÄÂèë„ÄÇÂèØ‰ª•Êñπ‰æøÁöÑÊâìÂåÖÊàêÂçï‰∏ÄÊñá‰ª∂ÔºåÁã¨Á´ãËøõÁ®ãËøêË°åÔºåÂíåÁé∞Âú®ÁöÑÂæÆÊúçÂä°Ê¶ÇÂøµ‰∏ÄËá¥„ÄÇ]]></content>
      <tags>
        <tag>-Âü∫Á°Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springMVCÁü•ËØÜÁÇπÂõûÈ°æ]]></title>
    <url>%2F2020%2F03%2F20%2FspringMVC%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE%2F</url>
    <content type="text"></content>
      <tags>
        <tag>-Áü•ËØÜÂõûÈ°æ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JenkinsÂèëÂ∏ÉÂ∞èÊ∏ÖÂçï]]></title>
    <url>%2F2019%2F12%2F16%2FJenkins%E5%8F%91%E5%B8%83%E5%B0%8F%E6%B8%85%E5%8D%95%2F</url>
    <content type="text"><![CDATA[JenkinsÈÉ®ÁΩ≤Â∫îÂÖ¨Âè∏È°πÁõÆÊâÄÈúÄÔºåÁî®JenkinsËøõË°åÂÆûÊó∂ÁöÑÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®ÔºåÂõ†ÂÖ¨Âè∏Â∑≤ËøõË°åÁ≥ªÁªüÁ≠âÁõ∏Â∫îÈÖçÁΩÆÔºåÂõ†Ê≠§Êú¨ÊñáÂè™ËÆ≤Ëß£ÂØπ‰∏Ä‰∏™ÂæÆÊúçÂä°‰∏≠‰∏Ä‰∏™Â∞èÊúçÂä°ËøõË°åÈÉ®ÁΩ≤ÁöÑÂü∫Êú¨Ê≠•È™§„ÄÇ Â∞Üdata-centerÈ°πÁõÆ‰∏≠ÁöÑÂ≠êÈ°πÁõÆÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®‰∏≠ÁöÑÊñπÂºèÊúâÂæàÂ§öÁßçÔºå‰∏ãÈù¢Á§∫‰æãÂà©Áî®JenkinsÂ∞ÜÂ≠êÈ°πÁõÆÔºàmavenÈ°πÁõÆÔºâËøõË°åJenkinsËá™Âä®ÈÉ®ÁΩ≤„ÄÇ ÔºàÂ∑≤ÈÖçÁΩÆÁ≥ªÁªüÁéØÂ¢ÉÁÆ°ÁêÜÔºâ Ê≠•È™§‰∏ÄÂú®JenkinsÈ¶ñÈ°µÁÇπÂáªÊñ∞Âª∫‰ªªÂä°ÔºåËæìÂÖ•È°πÁõÆ‰∏≠ÁöÑ‰ªªÂä°ÂêçÁß∞ÔºåÂπ∂ÁÇπÂáªmavenÈ°πÁõÆÔºàÂõ†data-center‰∏≠ÁöÑÂ≠êÈ°πÁõÆÈÉΩÊòØÂà©Áî®pom.xmlÂºïÂÖ•maven‰æùËµñÔºâ Ê≠•È™§‰∫åÂú®General‰∏≠ÂèØÊ∑ªÂä†ÂèÇÊï∞ÂåñÊûÑÂª∫ËøáÁ®ãÂèÇÊï∞ÔºàÂêéÁª≠Ê≠•È™§‰∏≠ÂèØËé∑ÂèñËØ•ÂèÇÊï∞ÔºåÁ±ªÂûãÂÖ®Â±ÄÂèòÈáèËÆæÁΩÆÔºâ 1„ÄÅÊ∑ªÂä†‰∏Ä‰∏™Git ParameterÂèÇÊï∞ÔºàÊ∫êÁ†ÅÁÆ°ÁêÜÁ±ªÂûãÊó∂ÔºåÂèØÊèêÂâçËÆæÁΩÆÂàÜÊîØ‰ø°ÊÅØÔºâ NameÂ°´ÂÜô‰∏∫branchÔºàÂèÇÊï∞ÂêçÁß∞ÔºåÂ°´ÂÜô‰∏ÄÁõÆ‰∫ÜÁÑ∂ÁöÑÂêçÁß∞Ôºâ DescriptionÂèØÂ°´ÂÜôÂàÜÊîØÔºàÂêéÁª≠Áª¥Êä§Êó∂Èò≤Ê≠¢ÂøòËÆ∞Ôºâ Parameter TypeÈÄâÊã©BranchÁ±ªÂûã Default ValueÂ°´ÂÜôÂ≠êÈ°πÁõÆ‰∏≠Remote BranchÁöÑÂêçÁß∞Ôºå‰æãÂ¶ÇÁ¶ªÁ∫øÂºÄÂèëÂ°´ÂÜôorigin/feature/data-offline-dev-platformÔºàÂèØÂú®IDEAÊàñËÄÖGitLab‰∏≠Êü•ÁúãÂ≠êÈ°πÁõÆËßÑÂÆöÁª¥Êä§ÁöÑÂàÜÊîØÔºâ 2„ÄÅÊ∑ªÂä†‰∏Ä‰∏™Â≠óÁ¨¶ÂèÇÊï∞ÔºàJenkinsÂêéÁª≠Êìç‰ΩúÁöÑÂÖ®Â±ÄÂ≠óÁ¨¶ÊõøÊç¢Ôºâ ‰ª•Á¶ªÁ∫øÂºÄÂèëÂπ≥Âè∞‰∏∫‰æã ÂêçÁß∞Â°´ÂÜôWORK_DIR ÈªòËÆ§ÂÄºÂ°´ÂÜôdata-offline-dev-platform ÊèèËø∞Â°´ÂÜôÈ°πÁõÆË∑ØÂæÑ ÂãæÈÄâÔºà‚àöÊ∏ÖÈô§Á©∫ÁôΩÂ≠óÁ¨¶Ôºâ Ê≠•È™§‰∏âÂõ†data-centerÈ°πÁõÆÁî®git‰ªìÂ∫ìÁÆ°ÁêÜÔºåÈÄâÊã©GitÔºà‰ª•Á¶ªÁ∫øÂºÄÂèëÂπ≥Âè∞‰∏∫‰æãÔºâÂú®Ê∫êÁ†ÅÁÆ°ÁêÜ‰∏≠ Repositories‰∏≠ Repository URLÂ°´ÂÜôhttp://10.194.186.226:13333/data-center/data-center-parent.gitÔºàÂú®GitLab‰∏≠Ëé∑ÂèñÂ≠êÈ°πÁõÆ‰∏≠gitË∑ØÂæÑÔºâ CredentialsÈÄâÊã©JenkinsÁî®Êà∑ÔºàÂ∑≤ËÆæÁΩÆÁ≥ªÁªüÂèÇÊï∞ÁöÑÁî®Êà∑ÊúÄ‰Ω≥Ôºâ Branches to buildÂ°´ÂÜô${branch}ÔºàËé∑ÂèñÂâçÈù¢ÁöÑGitÂèÇÊï∞Âç≥ÂèØÔºâ Âú®ÊûÑÂª∫Ëß¶ÂèëÂô®‰∏≠ÂãæÈÄâ‚àöBuild whenever a SNAPSHOT dependency is built Âú®ÊûÑÂª∫ÁéØÂ¢É‰∏≠ÈÄâÊã©Add timestamps to the Console Output Ê≠•È™§ÂõõÂú®Build‰∏≠ Root POMÂ°´ÂÜôpom.xml Goals and optionsÂ°´ÂÜôclean install -pl $WORK_DIR -am -amd -Pdev -Dmaven.test.skip=true(ÊâìÂåÖÂëΩ‰ª§ÔºåÊâìÂåÖÂëΩ‰ª§ËßÅÈôÑÂΩï) Ê≠•È™§‰∫îÂú®ÊûÑÂª∫ÂêéÊìç‰Ωú‰∏≠ÔºåÊ∑ªÂä†‰∏Ä‰∏™SSH ServerÔºöË°®Á§∫ËøúÁ®ãSSHËøûÊé•ÊúçÂä°Âô® Âú®TransfersÁöÑ‰∏≠ Source filesË°®Á§∫ÔºöÈúÄË¶Å‰∏ä‰º†ÁöÑÊñá‰ª∂ÔºàÊ≥®ÊÑèÔºöÁõ∏ÂØπ‰∫éÂ∑•‰ΩúÂå∫ÁöÑË∑ØÂæÑ;ÁúãÂêéÈù¢ÁöÑÈÖçÁΩÆÂèØ‰ª•Â°´ÂÜôÂ§ö‰∏™ÔºåÈªòËÆ§Áî®,ÂàÜÈöîÔºâ Remove prefixË°®Á§∫ÔºöÁßªÈô§ÁõÆÂΩïÔºàÂè™ËÉΩÊåáÂÆöTransfer Set Source files‰∏≠ÁöÑÁõÆÂΩïÔºâ Remote directoryË°®Á§∫ÔºöËøúÁ®ãÁõÆÂΩïÔºàÊ†πÊçÆ‰Ω†ÁöÑÈúÄÊ±ÇÂ°´ÂÜôÔºåÈªòËÆ§‰ºöÁªßÊâøÁ≥ªÁªüÈÖçÁΩÆÔºâ Exec commandË°®Á§∫: ÊâßË°åÁöÑÂëΩ‰ª§ ‰ª•Á¶ªÁ∫øÂºÄÂèë‰∏∫‰æãÔºö NameÈÄâÊã©bmsoft228(Á≥ªÁªüËÆæÁΩÆ‰∏≠Â∑≤ËÆæÁΩÆ) Ê∑ªÂä†‰∏Ä‰∏™Transfers Source filesÂ°´ÂÜô$WORK_DIR/target/*.jar,$WORK_DIR/target/build.sh,$WORK_DIR/target/Dockerfile Remove prefixÂ°´ÂÜô$WORK_DIR/target Remote directoryÂ°´ÂÜô${JOB_NAME} Exec commandÂ°´ÂÜô 123cd /home/docker/$&#123;JOB_NAME&#125;chmod u+x ./build.sh./build.sh ÈôÑÂΩï ÂëΩ‰ª§ÂèÇÊï∞ Â§áÊ≥® mvn -v ‚Äìversion ÊòæÁ§∫ÁâàÊú¨‰ø°ÊÅØ; mvn -V ‚Äìshow-version ÊòæÁ§∫ÁâàÊú¨‰ø°ÊÅØÂêéÁªßÁª≠ÊâßË°åMavenÂÖ∂‰ªñÁõÆÊ†á; mvn -h ‚Äìhelp ÊòæÁ§∫Â∏ÆÂä©‰ø°ÊÅØ; mvn -e ‚Äìerrors ÊéßÂà∂MavenÁöÑÊó•ÂøóÁ∫ßÂà´,‰∫ßÁîüÊâßË°åÈîôËØØÁõ∏ÂÖ≥Ê∂àÊÅØ; mvn -X ‚Äìdebug ÊéßÂà∂MavenÁöÑÊó•ÂøóÁ∫ßÂà´,‰∫ßÁîüÊâßË°åË∞ÉËØï‰ø°ÊÅØ; mvn -q ‚Äìquiet ÊéßÂà∂MavenÁöÑÊó•ÂøóÁ∫ßÂà´,‰ªÖ‰ªÖÊòæÁ§∫ÈîôËØØ; mvn -Pxxx ÊøÄÊ¥ª id ‰∏∫ xxxÁöÑprofile (Â¶ÇÊúâÂ§ö‰∏™ÔºåÁî®ÈÄóÂè∑ÈöîÂºÄ); mvn -Dxxx=yyy ÊåáÂÆöJavaÂÖ®Â±ÄÂ±ûÊÄß; mvn -o ‚Äìoffline ËøêË°åofflineÊ®°Âºè,‰∏çËÅîÁΩëÊõ¥Êñ∞‰æùËµñ; mvn -N ‚Äìnon-recursive ‰ªÖÂú®ÂΩìÂâçÈ°πÁõÆÊ®°ÂùóÊâßË°åÂëΩ‰ª§,‰∏çÊûÑÂª∫Â≠êÊ®°Âùó; mvn -pl ‚Äìmodule_name Âú®ÊåáÂÆöÊ®°Âùó‰∏äÊâßË°åÂëΩ‰ª§; mvn -ff ‚Äìfail-fast ÈÅáÂà∞ÊûÑÂª∫Â§±Ë¥•Â∞±Áõ¥Êé•ÈÄÄÂá∫; mvn -fn ‚Äìfail-never Êó†ËÆ∫È°πÁõÆÁªìÊûúÂ¶Ç‰Ωï,ÊûÑÂª∫‰ªé‰∏çÂ§±Ë¥•; mvn -fae ‚Äìfail-at-end ‰ªÖÂΩ±ÂìçÊûÑÂª∫ÁªìÊûú,ÂÖÅËÆ∏‰∏çÂèóÂΩ±ÂìçÁöÑÊûÑÂª∫ÁªßÁª≠; mvn -C ‚Äìstrict-checksums Â¶ÇÊûúÊ†°È™åÁ†Å‰∏çÂåπÈÖçÁöÑËØù,ÊûÑÂª∫Â§±Ë¥•; mvn -c ‚Äìlax-checksums Â¶ÇÊûúÊ†°È™åÁ†Å‰∏çÂåπÈÖçÁöÑËØù,‰∫ßÁîüÂëäË≠¶; mvn -U Âº∫Âà∂Êõ¥Êñ∞snapshotÁ±ªÂûãÁöÑÊèí‰ª∂Êàñ‰æùËµñÂ∫ì(Âê¶Âàômaven‰∏ÄÂ§©Âè™‰ºöÊõ¥Êñ∞‰∏ÄÊ¨°snapshot‰æùËµñ); mvn -npu ‚Äìno-plugin-s ÂØπ‰ªª‰ΩïÁõ∏ÂÖ≥ÁöÑÊ≥®ÂÜåÊèí‰ª∂,‰∏çËøõË°åÊúÄÊñ∞Ê£ÄÊü•(‰ΩøÁî®ËØ•ÈÄâÈ°π‰ΩøMavenË°®Áé∞Âá∫Á®≥ÂÆöË°å‰∏∫ÔºåËØ•Á®≥ÂÆöË°å‰∏∫Âü∫‰∫éÊú¨Âú∞‰ªìÂ∫ìÂΩìÂâçÂèØÁî®ÁöÑÊâÄÊúâÊèí‰ª∂ÁâàÊú¨); mvn -cpu ‚Äìcheck-plugin-updates ÂØπ‰ªª‰ΩïÁõ∏ÂÖ≥ÁöÑÊ≥®ÂÜåÊèí‰ª∂,Âº∫Âà∂ËøõË°åÊúÄÊñ∞Ê£ÄÊü•(Âç≥‰ΩøÈ°πÁõÆPOMÈáåÊòéÁ°ÆËßÑÂÆö‰∫ÜMavenÊèí‰ª∂ÁâàÊú¨,ËøòÊòØ‰ºöÂº∫Âà∂Êõ¥Êñ∞); mvn -up ‚Äìupdate-plugins [mvn -cpu]ÁöÑÂêå‰πâËØç; mvn -B ‚Äìbatch-mode Âú®Èùû‰∫§‰∫íÔºàÊâπÂ§ÑÁêÜÔºâÊ®°Âºè‰∏ãËøêË°å(ËØ•Ê®°Âºè‰∏ã,ÂΩìMvenÈúÄË¶ÅËæìÂÖ•Êó∂,ÂÆÉ‰∏ç‰ºöÂÅú‰∏ãÊù•Êé•ÂèóÁî®Êà∑ÁöÑËæìÂÖ•,ËÄåÊòØ‰ΩøÁî®ÂêàÁêÜÁöÑÈªòËÆ§ÂÄº); mvn -f ‚Äìfile Âº∫Âà∂‰ΩøÁî®Â§áÁî®ÁöÑPOMÊñá‰ª∂; mvn -s ‚Äìsettings Áî®Êà∑ÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ§áÁî®Ë∑ØÂæÑ; mvn -gs ‚Äìglobal-settings ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÁöÑÂ§áÁî®Ë∑ØÂæÑ; mvn -emp ‚Äìencrypt-master-password Âä†ÂØÜ‰∏ªÂÆâÂÖ®ÂØÜÁ†Å,Â≠òÂÇ®Âà∞Maven settingsÊñá‰ª∂Èáå; mvn -ep ‚Äìencrypt-password Âä†ÂØÜÊúçÂä°Âô®ÂØÜÁ†Å,Â≠òÂÇ®Âà∞Maven settingsÊñá‰ª∂Èáå; mvn -npr ‚Äìno-plugin-registry ÂØπÊèí‰ª∂ÁâàÊú¨‰∏ç‰ΩøÁî®~/.m2/plugin-registry.xml(Êèí‰ª∂Ê≥®ÂÜåË°®)ÈáåÁöÑÈÖçÁΩÆ; Âõ†‰∏∫È°πÁõÆ‰∏≠Áî®Âà∞‰∫Ü-plÔºåÁâπË¥¥‰∏ä-pl‰ø°ÊÅØ ÂèÇÊï∞ ÂÖ®Áß∞ Èáä‰πâ ËØ¥Êòé -pl ‚Äìprojects Build specified reactor projects instead of all projects ÈÄâÈ°πÂêéÂèØË∑üÈöè{groupId}:{artifactId}ÊàñËÄÖÊâÄÈÄâÊ®°ÂùóÁöÑÁõ∏ÂØπË∑ØÂæÑ(Â§ö‰∏™Ê®°Âùó‰ª•ÈÄóÂè∑ÂàÜÈöî) -am ‚Äìalso-make If project list is specified, also build projects required by the list Ë°®Á§∫ÂêåÊó∂Â§ÑÁêÜÈÄâÂÆöÊ®°ÂùóÊâÄ‰æùËµñÁöÑÊ®°Âùó -amd ‚Äìalso-make-dependents If project list is specified, also build projects that depend on projects on the list Ë°®Á§∫ÂêåÊó∂Â§ÑÁêÜ‰æùËµñÈÄâÂÆöÊ®°ÂùóÁöÑÊ®°Âùó -N ‚ÄìNon-recursive Build projects without recursive Ë°®Á§∫‰∏çÈÄíÂΩíÂ≠êÊ®°Âùó -rf ‚Äìresume-from Resume reactor from specified project Ë°®Á§∫‰ªéÊåáÂÆöÊ®°ÂùóÂºÄÂßãÁªßÁª≠Â§ÑÁêÜ -Dmaven.test.skip=true ‚Äì ‚Äì Ë°®Á§∫‰∏çÊâßË°åÊµãËØïÁî®‰æãÔºå‰πü‰∏çÁºñËØëÊµãËØïÁî®‰æãÁ±ª -DskipTests ‚Äì ‚Äì Ë°®Á§∫‰∏çÊâßË°åÊµãËØïÁî®‰æãÔºå‰ΩÜÁºñËØëÊµãËØïÁî®‰æãÁ±ªÁîüÊàêÁõ∏Â∫îÁöÑclassÊñá‰ª∂Ëá≥target/test-classes‰∏ã Ê°à‰æãËß£Êûê:clean install -pl $WORK_DIR -am -amd -Pdev -Dmaven.test.skip=true Ê∏ÖÈô§Â≠òÂú®ÁöÑjarÂåÖÔºåÂÜçÈáçÊñ∞ÈÄâÊã© $WORK_DIRÁöÑÊ®°ÂùóË∑ØÂæÑÂπ∂ÂêåÊó∂Â§ÑÁêÜËØ•Ê®°ÂùóÊâÄ‰æùËµñÁöÑÊ®°Âùó‰∏éÂ§ÑÁêÜ‰æùËµñÈÄâÂÆöÁöÑÊ®°ÊùøÁöÑÊ®°ÊùøÔºàÂú®springcloudÈ°πÁõÆÂ§öÊ®°Âùó‰∏≠Â≠êÊ®°ÂùóÁã¨Á´ãÈÉ®ÁΩ≤ÊµãËØïÊó∂Â§öÈÄâÊã©ËØ•ÊâìÂåÖÊñπÂºèÔºâÔºåÂπ∂ÊøÄÊ¥ª id ‰∏∫ devÁöÑprofile,‰∏çÊâßË°åÊµãËØïÁî®‰æã‰πü‰∏çÁºñËØëÊµãËØïÁî®‰æãËøõË°åÊâìÂåÖ„ÄÇ]]></content>
      <tags>
        <tag>-Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springÂü∫Á°ÄÁü•ËØÜ]]></title>
    <url>%2F2019%2F11%2F26%2Fspring%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[springÂÆπÂô®SpringÂÆπÂô®Âπ∂‰∏çÊòØÂè™Êúâ‰∏Ä‰∏™„ÄÇ SpringËá™Â∏¶‰∫ÜÂ§ö‰∏™ÂÆπÂô®ÂÆûÁé∞Ôºå ÂèØ‰ª•ÂΩí‰∏∫‰∏§Áßç‰∏çÂêåÁöÑÁ±ªÂûã„ÄÇ 1„ÄÅbeanÂ∑•ÂéÇÔºàÁî±org.springframework. beans. factory.eanFactoryÊé•Âè£ÂÆö‰πâÔºâ ÊòØÊúÄÁÆÄÂçïÁöÑÂÆπÂô®Ôºå Êèê‰æõÂü∫Êú¨ÁöÑDIÊîØÊåÅ„ÄÇ 2„ÄÅÂ∫îÁî®‰∏ä‰∏ãÊñáÔºàÁî±org.springframework.context.ApplicationContextÊé•Âè£ÂÆö‰πâÔºâ Âü∫‰∫éBeanFactoryÊûÑÂª∫Ôºå Âπ∂Êèê‰æõÂ∫îÁî®Ê°ÜÊû∂Á∫ßÂà´ÁöÑÊúçÂä°Ôºå ‰æãÂ¶Ç‰ªéÂ±ûÊÄßÊñá‰ª∂Ëß£ÊûêÊñáÊú¨‰ø°ÊÅØ‰ª•ÂèäÂèëÂ∏ÉÂ∫îÁî®‰∫ã‰ª∂ÁªôÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂ÁõëÂê¨ËÄÖ Âú®beanÂ∑•ÂéÇÂíåÂ∫îÁî®‰∏ä‰∏ãÊñá‰πãÈó¥‰ªªÈÄâ‰∏ÄÁßçÔºå ‰ΩÜbeanÂ∑•ÂéÇÂØπÂ§ßÂ§öÊï∞Â∫îÁî®Êù•ËØ¥ÂæÄÂæÄÂ§™‰ΩéÁ∫ß‰∫ÜÔºå Âõ†Ê≠§Ôºå Â∫îÁî®‰∏ä‰∏ãÊñáË¶ÅÊØîbeanÂ∑•ÂéÇÊõ¥ÂèóÊ¨¢Ëøé„ÄÇ Êàë‰ª¨‰ºöÊääÁ≤æÂäõÈõÜ‰∏≠Âú®Â∫îÁî®‰∏ä‰∏ãÊñáÁöÑ‰ΩøÁî®‰∏äÔºå ‰∏çÂÜçÊµ™Ë¥πÊó∂Èó¥ËÆ®ËÆ∫beanÂ∑•ÂéÇ Â∏∏ËßÅÂ∫îÁî®‰∏ä‰∏ãÊñáÔºö AnnotationConfigApplicationContext:‰ªé‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âü∫‰∫éJavaÁöÑÈÖçÁΩÆÁ±ª‰∏≠Âä†ËΩΩSpringÂ∫îÁî®‰∏ä‰∏ãÊñá„ÄÇ AnnotationConfigWebApplicationContext:‰ªé‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âü∫‰∫éJavaÁöÑÈÖçÁΩÆÁ±ª‰∏≠Âä†ËΩΩSpring WebÂ∫îÁî®‰∏ä‰∏ãÊñá„ÄÇ ClassPathXmlApplicationContext:‰ªéÁ±ªË∑ØÂæÑ‰∏ãÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™XMLÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ËΩΩ‰∏ä‰∏ãÊñáÂÆö‰πâÔºå ÊääÂ∫îÁî®‰∏ä‰∏ãÊñáÁöÑÂÆö‰πâÊñá‰ª∂‰Ωú‰∏∫Á±ªËµÑÊ∫ê „ÄÇ FileSystemXmlApplicationContext:‰ªéÊñá‰ª∂Á≥ªÁªü‰∏ãÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™XMLÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ËΩΩ‰∏ä‰∏ãÊñáÂÆö‰πâ XmlWebApplicationContext:‰ªéWebÂ∫îÁî®‰∏ãÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™XMLÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ËΩΩ‰∏ä‰∏ãÊñáÂÆö‰πâ„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥‰ªéJavaÈÖçÁΩÆ‰∏≠Âä†ËΩΩÂ∫îÁî®‰∏ä‰∏ãÊñáÔºå ÈÇ£‰πàÂèØ‰ª•‰ΩøÁî®AnnotationConfigApplicationContextÔºö 1ApplicationContext context=new AnnotationConfiApplicationContext(com.springination.zhangzhengkaiConfig.class); Â∫îÁî®‰∏ä‰∏ãÊñáÂáÜÂ§áÂ∞±Áª™‰πãÂêéÔºå Êàë‰ª¨Â∞±ÂèØ‰ª•Ë∞ÉÁî®‰∏ä‰∏ãÊñáÁöÑgetBean()ÊñπÊ≥ï‰ªéSpringÂÆπÂô®‰∏≠Ëé∑Âèñbean„ÄÇ BeanÁöÑÁîüÂëΩÂë®Êúü Âú®beanÂáÜÂ§áÂ∞±Áª™‰πãÂâçÔºå beanÂ∑•ÂéÇÊâßË°å‰∫ÜËã•Âπ≤ÂêØÂä®Ê≠•È™§„ÄÇ Êàë‰ª¨ÂØπÂõæ1.5ËøõË°åËØ¶ÁªÜÊèèËø∞Ôºö 1Ôºé SpringÂØπbeanËøõË°åÂÆû‰æãÂåñÔºõ2Ôºé SpringÂ∞ÜÂÄºÂíåbeanÁöÑÂºïÁî®Ê≥®ÂÖ•Âà∞beanÂØπÂ∫îÁöÑÂ±ûÊÄß‰∏≠Ôºõ3Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜBeanNameAwareÊé•Âè£Ôºå SpringÂ∞ÜbeanÁöÑID‰º†ÈÄíÁªôsetBean-Name()ÊñπÊ≥ïÔºõ4Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜBeanFactoryAwareÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®setBeanFactory()ÊñπÊ≥ïÔºå Â∞ÜBeanFactoryÂÆπÂô®ÂÆû‰æã‰º†ÂÖ•Ôºõ5Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜApplicationContextAwareÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®setApplicationContext()ÊñπÊ≥ïÔºå Â∞ÜbeanÊâÄÂú®ÁöÑÂ∫îÁî®‰∏ä‰∏ãÊñáÁöÑÂºïÁî®‰º†ÂÖ•ËøõÊù•Ôºõ6Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜBeanPostProcessorÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑpostProcessBeforeInitialization()ÊñπÊ≥ïÔºõ7Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜInitializingBeanÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑafterPropertiesSet()ÊñπÊ≥ï„ÄÇ Á±ª‰ººÂú∞Ôºå Â¶ÇÊûúbean‰ΩøÁî®init-methodÂ£∞Êòé‰∫ÜÂàùÂßãÂåñÊñπÊ≥ïÔºå ËØ•ÊñπÊ≥ï‰πü‰ºöË¢´Ë∞ÉÁî®Ôºõ8Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜBeanPostProcessorÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑpostProcessAfterInitialization()ÊñπÊ≥ïÔºõ9Ôºé Ê≠§Êó∂Ôºå beanÂ∑≤ÁªèÂáÜÂ§áÂ∞±Áª™Ôºå ÂèØ‰ª•Ë¢´Â∫îÁî®Á®ãÂ∫è‰ΩøÁî®‰∫ÜÔºå ÂÆÉ‰ª¨Â∞Ü‰∏ÄÁõ¥È©ªÁïôÂú®Â∫îÁî®‰∏ä‰∏ãÊñá‰∏≠ÔºåÁõ¥Âà∞ËØ•Â∫îÁî®‰∏ä‰∏ãÊñáË¢´ÈîÄÊØÅÔºõ10Ôºé Â¶ÇÊûúbeanÂÆûÁé∞‰∫ÜDisposableBeanÊé•Âè£Ôºå SpringÂ∞ÜË∞ÉÁî®ÂÆÉÁöÑdestroy()Êé•Âè£ÊñπÊ≥ï„ÄÇ ÂêåÊ†∑Ôºå Â¶ÇÊûúbean‰ΩøÁî®destroy-methodÂ£∞Êòé‰∫ÜÈîÄÊØÅÊñπÊ≥ïÔºå ËØ•ÊñπÊ≥ï‰πü‰ºöË¢´Ë∞ÉÁî®„ÄÇ IoCÂÆπÂô®BeanDefinitionÂØπË±°ÔºöÂÆπÂô®‰∏≠ÁöÑÊØè‰∏Ä‰∏™beanÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑBeanDefinitionÂÆû‰æãÔºåËØ•ÂÆû‰æãË¥üË¥£‰øùÂ≠òbeanÂØπË±°ÁöÑÊâÄÊúâÂøÖË¶Å‰ø°ÊÅØÔºåÂåÖÊã¨beanÂØπË±°ÁöÑclassÁ±ªÂûã„ÄÅÊòØÂê¶ÊòØÊäΩË±°Á±ª„ÄÅÊûÑÈÄ†ÊñπÊ≥ïÂíåÂèÇÊï∞„ÄÅÂÖ∂ÂÆÉÂ±ûÊÄßÁ≠âÁ≠â„ÄÇÂΩìÂÆ¢Êà∑Á´ØÂêëÂÆπÂô®ËØ∑Ê±ÇÁõ∏Â∫îÂØπË±°Êó∂ÔºåÂÆπÂô®Â∞±‰ºöÈÄöËøáËøô‰∫õ‰ø°ÊÅØ‰∏∫ÂÆ¢Êà∑Á´ØËøîÂõû‰∏Ä‰∏™ÂÆåÊï¥ÂèØÁî®ÁöÑbeanÂÆû‰æã„ÄÇBeanDefinitionRegistryÂíåBeanFactoryÔºöBeanDefinitionRegistryÊäΩË±°Âá∫beanÁöÑÊ≥®ÂÜåÈÄªËæëÔºåËÄåBeanFactoryÂàôÊäΩË±°Âá∫‰∫ÜbeanÁöÑÁÆ°ÁêÜÈÄªËæëÔºåËÄåÂêÑ‰∏™BeanFactoryÁöÑÂÆûÁé∞Á±ªÂ∞±ÂÖ∑‰ΩìÊâøÊãÖ‰∫ÜbeanÁöÑÊ≥®ÂÜå‰ª•ÂèäÁÆ°ÁêÜÂ∑•‰Ωú„ÄÇÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂ∞±Â¶Ç‰∏ãÂõæÔºö IoCÂÆπÂô®Ë¥üË¥£ÁÆ°ÁêÜÂÆπÂô®‰∏≠ÊâÄÊúâbeanÁöÑÁîüÂëΩÂë®ÊúüÔºåËÄåÂú®beanÁîüÂëΩÂë®ÊúüÁöÑ‰∏çÂêåÈò∂ÊÆµÔºåSpringÊèê‰æõ‰∫Ü‰∏çÂêåÁöÑÊâ©Â±ïÁÇπÊù•ÊîπÂèòbeanÁöÑÂëΩËøê„ÄÇ 1„ÄÅÂú®ÂÆπÂô®ÁöÑÂêØÂä®Èò∂ÊÆµÔºåBeanFactoryPostProcessorÂÖÅËÆ∏Êàë‰ª¨Âú®ÂÆπÂô®ÂÆû‰æãÂåñÁõ∏Â∫îÂØπË±°‰πãÂâçÔºåÂØπÊ≥®ÂÜåÂà∞ÂÆπÂô®ÁöÑBeanDefinitionÊâÄ‰øùÂ≠òÁöÑ‰ø°ÊÅØÂÅö‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç‰øÆÊîπbeanÂÆö‰πâÁöÑÊüê‰∫õÂ±ûÊÄßÊàñËÄÖÂ¢ûÂä†ÂÖ∂‰ªñ‰ø°ÊÅØÁ≠â„ÄÇÂ¶ÇÊûúË¶ÅËá™ÂÆö‰πâÊâ©Â±ïÁ±ªÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂÆûÁé∞org.springframework.beans.factory.config.BeanFactoryPostProcessorÊé•Âè£Ôºå‰∏éÊ≠§ÂêåÊó∂ÔºåÂõ†‰∏∫ÂÆπÂô®‰∏≠ÂèØËÉΩÊúâÂ§ö‰∏™BeanFactoryPostProcessorÔºåÂèØËÉΩËøòÈúÄË¶ÅÂÆûÁé∞org.springframework.core.OrderedÊé•Âè£Ôºå‰ª•‰øùËØÅBeanFactoryPostProcessorÊåâÁÖßÈ°∫Â∫èÊâßË°å„ÄÇSpringÊèê‰æõ‰∫Ü‰∏∫Êï∞‰∏çÂ§öÁöÑBeanFactoryPostProcessorÂÆûÁé∞ Êàë‰ª¨‰ª•PropertyPlaceholderConfigurerÊù•ËØ¥ÊòéÂÖ∂Â§ßËá¥ÁöÑÂ∑•‰ΩúÊµÅÁ®ãÔºö Âú®SpringÈ°πÁõÆÁöÑXMLÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÁªèÂ∏∏ÂèØ‰ª•ÁúãÂà∞ËÆ∏Â§öÈÖçÁΩÆÈ°πÁöÑÂÄº‰ΩøÁî®Âç†‰ΩçÁ¨¶ÔºåËÄåÂ∞ÜÂç†‰ΩçÁ¨¶ÊâÄ‰ª£Ë°®ÁöÑÂÄºÂçïÁã¨ÈÖçÁΩÆÂà∞Áã¨Á´ãÁöÑpropertiesÊñá‰ª∂ÔºåËøôÊ†∑ÂèØ‰ª•Â∞ÜÊï£ËêΩÂú®‰∏çÂêåXMLÊñá‰ª∂‰∏≠ÁöÑÈÖçÁΩÆÈõÜ‰∏≠ÁÆ°ÁêÜÔºåËÄå‰∏î‰πüÊñπ‰æøËøêÁª¥Ê†πÊçÆ‰∏çÂêåÁöÑÁéØÂ¢ÉËøõË°åÈÖçÁΩÆ‰∏çÂêåÁöÑÂÄº„ÄÇËøô‰∏™ÈùûÂ∏∏ÂÆûÁî®ÁöÑÂäüËÉΩÂ∞±ÊòØÁî±PropertyPlaceholderConfigurerË¥üË¥£ÂÆûÁé∞ÁöÑ„ÄÇ Ê†πÊçÆÂâçÊñáÔºåÂΩìBeanFactoryÂú®Á¨¨‰∏ÄÈò∂ÊÆµÂä†ËΩΩÂÆåÊâÄÊúâÈÖçÁΩÆ‰ø°ÊÅØÊó∂ÔºåBeanFactory‰∏≠‰øùÂ≠òÁöÑÂØπË±°ÁöÑÂ±ûÊÄßËøòÊòØ‰ª•Âç†‰ΩçÁ¨¶ÊñπÂºèÂ≠òÂú®ÁöÑÔºåÊØîÂ¶Ç${jdbc.mysql.url}„ÄÇÂΩìPropertyPlaceholderConfigurer‰Ωú‰∏∫BeanFactoryPostProcessorË¢´Â∫îÁî®Êó∂ÔºåÂÆÉ‰ºö‰ΩøÁî®propertiesÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂÄºÊù•ÊõøÊç¢Áõ∏Â∫îÁöÑBeanDefinition‰∏≠Âç†‰ΩçÁ¨¶ÊâÄË°®Á§∫ÁöÑÂ±ûÊÄßÂÄº„ÄÇÂΩìÈúÄË¶ÅÂÆû‰æãÂåñbeanÊó∂ÔºåbeanÂÆö‰πâ‰∏≠ÁöÑÂ±ûÊÄßÂÄºÂ∞±Â∑≤ÁªèË¢´ÊõøÊç¢ÊàêÊàë‰ª¨ÈÖçÁΩÆÁöÑÂÄº„ÄÇÂΩìÁÑ∂ÂÖ∂ÂÆûÁé∞ÊØî‰∏äÈù¢ÊèèËø∞ÁöÑË¶ÅÂ§çÊùÇ‰∏Ä‰∫õ„ÄÇ 2„ÄÅBeanPostProcessorÔºåÂÖ∂Â≠òÂú®‰∫éÂØπË±°ÂÆû‰æãÂåñÈò∂ÊÆµ„ÄÇË∑üBeanFactoryPostProcessorÁ±ª‰ººÔºåÂÆÉ‰ºöÂ§ÑÁêÜÂÆπÂô®ÂÜÖÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂Âπ∂‰∏îÂ∑≤ÁªèÂÆû‰æãÂåñÂêéÁöÑÂØπË±°„ÄÇ ÊÄªÁªìÔºöBeanFactoryPostProcessorÂ§ÑÁêÜbeanÁöÑÂÆö‰πâÔºåËÄåBeanPostProcessorÂàôÂ§ÑÁêÜbeanÂÆåÊàêÂÆû‰æãÂåñÂêéÁöÑÂØπË±°„ÄÇ BeanPostProcessorÂÆö‰πâ‰∫Ü‰∏§‰∏™Êé•Âè£Ôºö 123456public interface BeanPostProcessor &#123; // ÂâçÁΩÆÂ§ÑÁêÜ Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException; // ÂêéÁΩÆÂ§ÑÁêÜ Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException;&#125; postProcessBeforeInitialization()ÊñπÊ≥ï‰∏épostProcessAfterInitialization()ÂàÜÂà´ÂØπÂ∫îÂõæ‰∏≠ÂâçÁΩÆÂ§ÑÁêÜÂíåÂêéÁΩÆÂ§ÑÁêÜ‰∏§‰∏™Ê≠•È™§Â∞ÜÊâßË°åÁöÑÊñπÊ≥ï„ÄÇËøô‰∏§‰∏™ÊñπÊ≥ï‰∏≠ÈÉΩ‰º†ÂÖ•‰∫ÜbeanÂØπË±°ÂÆû‰æãÁöÑÂºïÁî®Ôºå‰∏∫Êâ©Â±ïÂÆπÂô®ÁöÑÂØπË±°ÂÆû‰æãÂåñËøáÁ®ãÊèê‰æõ‰∫ÜÂæàÂ§ß‰æøÂà©ÔºåÂú®ËøôÂÑøÂá†‰πéÂèØ‰ª•ÂØπ‰º†ÂÖ•ÁöÑÂÆû‰æãÊâßË°å‰ªª‰ΩïÊìç‰Ωú„ÄÇÊ≥®Ëß£„ÄÅAOPÁ≠âÂäüËÉΩÁöÑÂÆûÁé∞ÂùáÂ§ßÈáè‰ΩøÁî®‰∫ÜBeanPostProcessorÔºåÊØîÂ¶ÇÊúâ‰∏Ä‰∏™Ëá™ÂÆö‰πâÊ≥®Ëß£Ôºå‰Ω†ÂÆåÂÖ®ÂèØ‰ª•ÂÆûÁé∞BeanPostProcessorÁöÑÊé•Âè£ÔºåÂú®ÂÖ∂‰∏≠Âà§Êñ≠beanÂØπË±°ÁöÑËÑëË¢ã‰∏äÊòØÂê¶ÊúâËØ•Ê≥®Ëß£ÔºåÂ¶ÇÊûúÊúâÔºå‰Ω†ÂèØ‰ª•ÂØπËøô‰∏™beanÂÆû‰æãÊâßË°å‰ªª‰ΩïÊìç‰Ωú„ÄÇ ÂÜçÊù•Áúã‰∏Ä‰∏™Êõ¥Â∏∏ËßÅÁöÑ‰æãÂ≠êÔºåÂú®Spring‰∏≠ÁªèÂ∏∏ËÉΩÂ§üÁúãÂà∞ÂêÑÁßçÂêÑÊ†∑ÁöÑAwareÊé•Âè£ÔºåÂÖ∂‰ΩúÁî®Â∞±ÊòØÂú®ÂØπË±°ÂÆû‰æãÂåñÂÆåÊàê‰ª•ÂêéÂ∞ÜAwareÊé•Âè£ÂÆö‰πâ‰∏≠ËßÑÂÆöÁöÑ‰æùËµñÊ≥®ÂÖ•Âà∞ÂΩìÂâçÂÆû‰æã‰∏≠„ÄÇÊØîÂ¶ÇÊúÄÂ∏∏ËßÅÁöÑApplicationContextAwareÊé•Âè£ÔºåÂÆûÁé∞‰∫ÜËøô‰∏™Êé•Âè£ÁöÑÁ±ªÈÉΩÂèØ‰ª•Ëé∑ÂèñÂà∞‰∏Ä‰∏™ApplicationContextÂØπË±°„ÄÇÂΩìÂÆπÂô®‰∏≠ÊØè‰∏™ÂØπË±°ÁöÑÂÆû‰æãÂåñËøáÁ®ãËµ∞Âà∞BeanPostProcessorÂâçÁΩÆÂ§ÑÁêÜËøô‰∏ÄÊ≠•Êó∂ÔºåÂÆπÂô®‰ºöÊ£ÄÊµãÂà∞‰πãÂâçÊ≥®ÂÜåÂà∞ÂÆπÂô®ÁöÑApplicationContextAwareProcessorÔºåÁÑ∂ÂêéÂ∞±‰ºöË∞ÉÁî®ÂÖ∂postProcessBeforeInitialization()ÊñπÊ≥ïÔºåÊ£ÄÊü•Âπ∂ËÆæÁΩÆAwareÁõ∏ÂÖ≥‰æùËµñ„ÄÇÁúãÁúã‰ª£Á†ÅÂêßÔºåÊòØ‰∏çÊòØÂæàÁÆÄÂçïÔºö 1234567891011// ‰ª£Á†ÅÊù•Ëá™Ôºöorg.springframework.context.support.ApplicationContextAwareProcessor// ÂÖ∂postProcessBeforeInitializationÊñπÊ≥ïË∞ÉÁî®‰∫ÜinvokeAwareInterfacesÊñπÊ≥ïprivate void invokeAwareInterfaces(Object bean) &#123; if (bean instanceof EnvironmentAware) &#123; ((EnvironmentAware) bean).setEnvironment(this.applicationContext.getEnvironment()); &#125; if (bean instanceof ApplicationContextAware) &#123; ((ApplicationContextAware) bean).setApplicationContext(this.applicationContext); &#125; // ......&#125; Ë£ÖÈÖçBeanË£ÖÈÖçÔºöÂàõÂª∫Â∫îÁî®ÁªÑ‰ª∂‰πãÈó¥Âçè‰ΩúÁöÑË°å‰∏∫Áß∞‰∏∫Ë£ÖÈÖç SpringÂÆπÂô®Ë¥üË¥£ÂàõÂª∫Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑbeanÂπ∂ÈÄöËøáDIÊù•ÂçèË∞ÉËøô‰∫õÂØπË±°‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ SpringÂÖ∑ÊúâÈùûÂ∏∏Â§ßÁöÑÁÅµÊ¥ªÊÄßÔºå ÂÆÉÊèê‰æõ‰∫Ü‰∏âÁßç‰∏ªË¶ÅÁöÑË£ÖÈÖçÊú∫Âà∂Ôºö Âú®XML‰∏≠ËøõË°åÊòæÂºèÈÖçÁΩÆ„ÄÇ Âú®Java‰∏≠ËøõË°åÊòæÂºèÈÖçÁΩÆ ÈöêÂºèÁöÑbeanÂèëÁé∞Êú∫Âà∂ÂíåËá™Âä®Ë£ÖÈÖç„ÄÇ Ëá™Âä®ÂåñË£ÖÈÖçBeanSpring‰ªé‰∏§‰∏™ËßíÂ∫¶Êù•ÂÆûÁé∞Ëá™Âä®ÂåñË£ÖÈÖçÔºöÁªÑ‰ª∂Êâ´ÊèèÔºàcomponent scanningÔºâÔºöSpring‰ºöËá™Âä®ÂèëÁé∞Â∫îÁî®‰∏ä‰∏ãÊñá‰∏≠ÊâÄÂàõÂª∫ÁöÑbean„ÄÇËá™Âä®Ë£ÖÈÖçÔºàautowiringÔºâÔºöSpringËá™Âä®Êª°Ë∂≥bean‰πãÈó¥ÁöÑ‰æùËµñ „ÄÇ Ê≥®Ëß£ËØ¶Ëß£Ôºö @ComponentÊ≥®Ëß£„ÄÇ Ëøô‰∏™ÁÆÄÂçïÁöÑÊ≥®Ëß£Ë°®ÊòéËØ•Á±ª‰ºö‰Ωú‰∏∫ÁªÑ‰ª∂Á±ªÔºå Âπ∂ÂëäÁü•SpringË¶Å‰∏∫Ëøô‰∏™Á±ªÂàõÂª∫bean ‰∏çËøáÔºå ÁªÑ‰ª∂Êâ´ÊèèÈªòËÆ§ÊòØ‰∏çÂêØÁî®ÁöÑ„ÄÇ Êàë‰ª¨ËøòÈúÄË¶ÅÊòæÂºèÈÖçÁΩÆ‰∏Ä‰∏ãSpringÔºå ‰ªéËÄåÂëΩ‰ª§ÂÆÉÂéªÂØªÊâæÂ∏¶Êúâ@ComponentÊ≥®Ëß£ÁöÑÁ±ªÔºå Âπ∂‰∏∫ÂÖ∂ÂàõÂª∫bean„ÄÇ @ComponentScanÊ≥®Ëß£Ôºå Ëøô‰∏™Ê≥®Ëß£ËÉΩÂ§üÂú®Spring‰∏≠ÂêØÁî®ÁªÑ‰ª∂Êâ´Êèè„ÄÇ @ComponentScanÊ≥®Ëß£‰∏ãÊ≤°ÊúâÂÖ∂‰ªñÈÖçÁΩÆÁöÑËØùÔºå @ComponentScanÈªòËÆ§‰ºöÊâ´Êèè‰∏éÈÖçÁΩÆÁ±ªÁõ∏ÂêåÁöÑÂåÖ‰ª•ÂèäÂ≠êÂåÖ ‚ÄîÂØπÂ∫îXmlÈÖçÁΩÆ‰∏≠ÁöÑÔºö&lt; context:component-scan &gt;ÂÖÉÁ¥† @AutowiredÊ≥®Ëß£ÔºöÂú®Êª°Ë∂≥‰æùËµñÁöÑËøáÁ®ã‰∏≠Ôºå ‰ºöÂú®SpringÂ∫îÁî®‰∏ä‰∏ãÊñá‰∏≠ÂØªÊâæÂåπÈÖçÊüê‰∏™beanÈúÄÊ±ÇÁöÑÂÖ∂‰ªñbean„ÄÇ ‰∏∫‰∫ÜÂ£∞ÊòéË¶ÅËøõË°åËá™Âä®Ë£ÖÈÖçÔºå Êàë‰ª¨ÂèØ‰ª•ÂÄüÂä©SpringÁöÑ@AutowiredÊ≥®Ëß£ Ôºõ@AutowiredÊ≥®Ëß£ÂèØ‰ª•Áî®Âú®Á±ªÁöÑ‰ªª‰ΩïÊñπÊ≥ï‰∏ä ÁâπÂà´Ê≥®ÊÑèÔºöbeanË£ÖËΩΩÂà∞ÂÆπÂô®‰∏≠Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÂêçÁß∞Ôºå‰ºöËá™Âä®ÁöÑÂ∞ÜÂÖ∂ÂêçÁß∞‰Ωú‰∏∫beanÂêçÁß∞(È¶ñÂ≠óÊØçÂ§ßÂÜô‰ºöÂèòÊàêÂ∞èÂÜô) ÈÄöËøáJavaË£ÖÈÖçBeanÂ∞ΩÁÆ°Âú®ÂæàÂ§öÂú∫ÊôØ‰∏ãÈÄöËøáÁªÑ‰ª∂Êâ´ÊèèÂíåËá™Âä®Ë£ÖÈÖçÂÆûÁé∞SpringÁöÑËá™Âä®ÂåñÈÖçÁΩÆÊòØÊõ¥‰∏∫Êé®ËçêÁöÑÊñπÂºèÔºå ‰ΩÜÊúâÊó∂ÂÄôËá™Âä®ÂåñÈÖçÁΩÆÁöÑÊñπÊ°àË°å‰∏çÈÄöÔºå Âõ†Ê≠§ÈúÄË¶ÅÊòéÁ°ÆÈÖçÁΩÆSpring„ÄÇ ÊØîÂ¶ÇËØ¥Ôºå ‰Ω†ÊÉ≥Ë¶ÅÂ∞ÜÁ¨¨‰∏âÊñπÂ∫ì‰∏≠ÁöÑÁªÑ‰ª∂Ë£ÖÈÖçÂà∞‰Ω†ÁöÑÂ∫îÁî®‰∏≠Ôºå Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå ÊòØÊ≤°ÊúâÂäûÊ≥ïÂú®ÂÆÉÁöÑÁ±ª‰∏äÊ∑ªÂä†@ComponentÂíå@AutowiredÊ≥®Ëß£ÁöÑÔºå Âõ†Ê≠§Â∞±‰∏çËÉΩ‰ΩøÁî®Ëá™Âä®ÂåñË£ÖÈÖçÁöÑÊñπÊ°à‰∫Ü„ÄÇ ÊòæÂºèÈÖçÁΩÆÊúâ‰ø©ÁßçÊñπÊ°àÔºö Âú®XML‰∏≠ËøõË°åÊòæÂºèÈÖçÁΩÆ Âú®Java‰∏≠ËøõË°åÊòæÂºèÈÖçÁΩÆ Ê≥®Ëß£ËØ¶Ëß£Ôºö @ConfigurationÊ≥®Ëß£ÔºöË°®ÊòéËøô‰∏™Á±ªÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºå ËØ•Á±ªÂ∫îËØ•ÂåÖÂê´Âú®SpringÂ∫îÁî®‰∏ä‰∏ãÊñá‰∏≠Â¶Ç‰ΩïÂàõÂª∫beanÁöÑÁªÜËäÇ„ÄÇ @BeanÊ≥®Ëß£Ôºö‰ºöÂëäËØâSpringËøô‰∏™ÊñπÊ≥ïÂ∞Ü‰ºöËøîÂõû‰∏Ä‰∏™ÂØπË±°Ôºå ËØ•ÂØπË±°Ë¶ÅÊ≥®ÂÜå‰∏∫SpringÂ∫îÁî®‰∏ä‰∏ãÊñá‰∏≠ÁöÑbean„ÄÇ ÈÄöËøáXmlË£ÖÈÖçBean&lt; beans &gt;ÊòØËØ•Ê®°Âºè‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå ÂÆÉÊòØÊâÄÊúâSpringÈÖçÁΩÆÊñá‰ª∂ÁöÑÊ†πÂÖÉÁ¥†„ÄÇ &lt; bean &gt;ÂÖÉÁ¥†Á±ª‰ºº‰∫éJavaConfig‰∏≠ÁöÑ@BeanÊ≥®Ëß£ ÔºõÂàõÂª∫Ëøô‰∏™beanÁöÑÁ±ªÈÄöËøáclassÂ±ûÊÄßÊù•ÊåáÂÆöÁöÑÔºå Âπ∂‰∏îË¶Å‰ΩøÁî®ÂÖ®ÈôêÂÆöÁöÑÁ±ªÂêç„ÄÇ &lt; constructor-arg &gt;ÂÖÉÁ¥† ;‰ΩøÁî®ÊûÑÈÄ†Âô®Ê≥®ÂÖ•Âà∞beanÁöÑÂºïÁî®ÔºõÁî®refÂ±ûÊÄßÂºïÁî®ÂÖ∂‰ªñbeanÔºå‰πüÂèØ‰ª•ÈÄöËøávalueÂ±ûÊÄßÔºåÈÄöËøáËØ•Â±ûÊÄßË°®ÊòéÁªôÂÆöÁöÑÂÄºË¶Å‰ª•Â≠óÈù¢ÈáèÁöÑÂΩ¢ÂºèÊ≥®ÂÖ•Âà∞ÊûÑÈÄ†Âô®‰∏≠ &lt; set &gt;Âíå&lt; list &gt;ÂÖÉÁ¥†ÁöÑÂå∫Âà´‰∏çÂ§ßÔºå ÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑ‰∏çÂêåÂú®‰∫éÂΩìSpringÂàõÂª∫Ë¶ÅË£ÖÈÖçÁöÑÈõÜÂêàÊó∂ÔºåÊâÄÂàõÂª∫ÁöÑÊòØjava.util.SetËøòÊòØjava.util.List„ÄÇ Â¶ÇÊûúÊòØSetÁöÑËØùÔºå ÊâÄÊúâÈáçÂ§çÁöÑÂÄºÈÉΩ‰ºöË¢´ÂøΩÁï•Êéâ &lt; property &gt;ÂÖÉÁ¥†‰∏∫Â±ûÊÄßÁöÑSetterÊñπÊ≥ïÊâÄÊèê‰æõÁöÑÂäüËÉΩ‰∏é&lt; constructor-arg &gt;ÂÖÉÁ¥†‰∏∫ÊûÑÈÄ†Âô®ÊâÄÊèê‰æõÁöÑÂäüËÉΩÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ BeanÁöÑ‰ΩúÁî®Âüü‰ΩúÁî®Âüü Âçï‰æãÔºàSingletonÔºâ Ôºö Âú®Êï¥‰∏™Â∫îÁî®‰∏≠Ôºå Âè™ÂàõÂª∫beanÁöÑ‰∏Ä‰∏™ÂÆû‰æã„ÄÇÔºàÈªòËÆ§Ôºâ ÂéüÂûãÔºàPrototypeÔºâ Ôºö ÊØèÊ¨°Ê≥®ÂÖ•ÊàñËÄÖÈÄöËøáSpringÂ∫îÁî®‰∏ä‰∏ãÊñáËé∑ÂèñÁöÑÊó∂ÂÄôÔºå ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑbeanÂÆû‰æã„ÄÇ ‰ºöËØùÔºàSessionÔºâ Ôºö Âú®WebÂ∫îÁî®‰∏≠Ôºå ‰∏∫ÊØè‰∏™‰ºöËØùÂàõÂª∫‰∏Ä‰∏™beanÂÆû‰æã„ÄÇ ËØ∑Ê±ÇÔºàRquestÔºâ Ôºö Âú®WebÂ∫îÁî®‰∏≠Ôºå ‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÂàõÂª∫‰∏Ä‰∏™beanÂÆû‰æã„ÄÇ Â¶ÇÊûúÈÄâÊã©ÂÖ∂‰ªñÁöÑ‰ΩúÁî®ÂüüÔºå Ë¶Å‰ΩøÁî®@ScopeÊ≥®Ëß£Ôºå ÂÆÉÂèØ‰ª•‰∏é@ComponentÊàñ@Bean‰∏ÄËµ∑‰ΩøÁî®„ÄÇ ‰ΩøÁî®ConfigurableBeanFactoryÁ±ªÁöÑSCOPE_PROTOTYPEÂ∏∏ÈáèËÆæÁΩÆ‰∫ÜÂéüÂûã‰ΩúÁî®Âüü„ÄÇ ‰Ω†ÂΩìÁÑ∂‰πüÂèØ‰ª•‰Ωø@Scope(‚Äúprototype‚Äù)Ôºå ‰ΩÜÊòØ‰ΩøÁî®SCOPE_PROTOTYPEÂ∏∏ÈáèÊõ¥Âä†ÂÆâÂÖ®Âπ∂‰∏î‰∏çÊòìÂá∫Èîô„ÄÇ 123@Component@Scope(ConfigurableBeaanFactory.SCOPE.PROTOTYPE)public class zzkai&#123;...&#125; Â¶ÇÊûú‰Ω†‰ΩøÁî®XMLÊù•ÈÖçÁΩÆbeanÁöÑËØùÔºå ÂèØ‰ª•‰ΩøÁî®&lt; bean &gt;ÂÖÉÁ¥†ÁöÑscopeÂ±ûÊÄßÊù•ËÆæÁΩÆ‰ΩúÁî®ÂüüÔºö ‰ºöËØù‰ΩúÁî®ÂüübeanÁöÑ‰ΩúÁî®Á§∫‰æãÔºö Âú®ÂÖ∏ÂûãÁöÑÁîµÂ≠êÂïÜÂä°Â∫îÁî®‰∏≠Ôºå ÂèØËÉΩ‰ºöÊúâ‰∏Ä‰∏™bean‰ª£Ë°®Áî®Êà∑ÁöÑË¥≠Áâ©ËΩ¶„ÄÇ Â¶ÇÊûúË¥≠Áâ©ËΩ¶ÊòØÂçï‰æãÁöÑËØùÔºå ÈÇ£‰πàÂ∞Ü‰ºöÂØºËá¥ÊâÄÊúâÁöÑÁî®Êà∑ÈÉΩ‰ºöÂêëÂêå‰∏Ä‰∏™Ë¥≠Áâ©ËΩ¶‰∏≠Ê∑ªÂä†ÂïÜÂìÅ„ÄÇ Âè¶‰∏ÄÊñπÈù¢Ôºå Â¶ÇÊûúË¥≠Áâ©ËΩ¶ÊòØÂéüÂûã‰ΩúÁî®ÂüüÁöÑÔºå ÈÇ£‰πàÂú®Â∫îÁî®‰∏≠Êüê‰∏Ä‰∏™Âú∞ÊñπÂæÄË¥≠Áâ©ËΩ¶‰∏≠Ê∑ªÂä†ÂïÜÂìÅÔºå Âú®Â∫îÁî®ÁöÑÂè¶Â§ñ‰∏Ä‰∏™Âú∞ÊñπÂèØËÉΩÂ∞±‰∏çÂèØÁî®‰∫ÜÔºå Âõ†‰∏∫Âú®ËøôÈáåÊ≥®ÂÖ•ÁöÑÊòØÂè¶Â§ñ‰∏Ä‰∏™ÂéüÂûã‰ΩúÁî®ÂüüÁöÑË¥≠Áâ©ËΩ¶„ÄÇÂ∞±Ë¥≠Áâ©ËΩ¶beanÊù•ËØ¥Ôºå ‰ºöËØù‰ΩúÁî®ÂüüÊòØÊúÄ‰∏∫ÂêàÈÄÇÁöÑÔºå Âõ†‰∏∫ÂÆÉ‰∏éÁªôÂÆöÁöÑÁî®Êà∑ÂÖ≥ËÅîÊÄßÊúÄÂ§ß„ÄÇ ‰ΩúÁî®Âüü‰ª£ÁêÜÈóÆÈ¢ò@ScopeÂêåÊó∂ËøòÊúâ‰∏Ä‰∏™proxyModeÂ±ûÊÄßÔºå ÂÆÉË¢´ËÆæÁΩÆÊàê‰∫ÜScopedProxyMode.INTERFACES„ÄÇ Ëøô‰∏™Â±ûÊÄßËß£ÂÜ≥‰∫ÜÂ∞Ü‰ºöËØùÊàñËØ∑Ê±Ç‰ΩúÁî®ÂüüÁöÑbeanÊ≥®ÂÖ•Âà∞Âçï‰æãbean‰∏≠ÊâÄÈÅáÂà∞ÁöÑÈóÆÈ¢ò„ÄÇ proxyModeÂ±ûÊÄßËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂÅáËÆæÊàë‰ª¨Ë¶ÅÂ∞ÜShoppingCart beanÊ≥®ÂÖ•Âà∞Âçï‰æãStoreService beanÁöÑSetterÊñπÊ≥ï‰∏≠Ôºå Â¶Ç‰∏ãÊâÄÁ§∫Ôºö 1234567@Componentpublic class StoreService&#123; @AutoWired public void setShoppingCart(ShoppingCart shoppingCart)&#123; this.shoppingCart=shoppingCart; &#125;&#125; Âõ†‰∏∫StoreServiceÊòØ‰∏Ä‰∏™Âçï‰æãÁöÑbeanÔºå ‰ºöÂú®SpringÂ∫îÁî®‰∏ä‰∏ãÊñáÂä†ËΩΩÁöÑÊó∂ÂÄôÂàõÂª∫„ÄÇ ÂΩìÂÆÉÂàõÂª∫ÁöÑÊó∂ÂÄôÔºå Spring‰ºöËØïÂõæÂ∞ÜShoppingCart beanÊ≥®ÂÖ•Âà∞setShoppingCart()ÊñπÊ≥ï‰∏≠„ÄÇ ‰ΩÜÊòØShoppingCart beanÊòØ‰ºöËØù‰ΩúÁî®ÂüüÁöÑÔºå Ê≠§Êó∂Âπ∂‰∏çÂ≠òÂú®„ÄÇ Áõ¥Âà∞Êüê‰∏™Áî®Êà∑ËøõÂÖ•Á≥ªÁªüÔºå ÂàõÂª∫‰∫Ü‰ºöËØù‰πãÂêéÔºå Êâç‰ºöÂá∫Áé∞ShoppingCartÂÆû‰æã„ÄÇÂè¶Â§ñÔºå Á≥ªÁªü‰∏≠Â∞Ü‰ºöÊúâÂ§ö‰∏™ShoppingCartÂÆû‰æãÔºö ÊØè‰∏™Áî®Êà∑‰∏Ä‰∏™„ÄÇ Êàë‰ª¨Âπ∂‰∏çÊÉ≥ËÆ©SpringÊ≥®ÂÖ•Êüê‰∏™Âõ∫ÂÆöÁöÑShoppingCartÂÆû‰æãÂà∞StoreService‰∏≠„ÄÇ Êàë‰ª¨Â∏åÊúõÁöÑÊòØÂΩìStoreServiceÂ§ÑÁêÜË¥≠Áâ©ËΩ¶ÂäüËÉΩÊó∂Ôºå ÂÆÉÊâÄ‰ΩøÁî®ÁöÑShoppingCartÂÆû‰æãÊÅ∞Â•ΩÊòØÂΩìÂâç‰ºöËØùÊâÄÂØπÂ∫îÁöÑÈÇ£‰∏Ä‰∏™„ÄÇSpringÂπ∂‰∏ç‰ºöÂ∞ÜÂÆûÈôÖÁöÑShoppingCart beanÊ≥®ÂÖ•Âà∞StoreService‰∏≠Ôºå Spring‰ºöÊ≥®ÂÖ•‰∏Ä‰∏™Âà∞ShoppingCart beanÁöÑ‰ª£ÁêÜÔºå Ëøô‰∏™‰ª£ÁêÜ‰ºöÊö¥Èú≤‰∏éShoppingCartÁõ∏ÂêåÁöÑÊñπÊ≥ïÔºå ÊâÄ‰ª•StoreService‰ºöËÆ§‰∏∫ÂÆÉÂ∞±ÊòØ‰∏Ä‰∏™Ë¥≠Áâ©ËΩ¶„ÄÇ ‰ΩÜÊòØÔºå ÂΩìStoreServiceË∞ÉÁî®ShoppingCartÁöÑÊñπÊ≥ïÊó∂Ôºå ‰ª£ÁêÜ‰ºöÂØπÂÖ∂ËøõË°åÊáíËß£ÊûêÂπ∂Â∞ÜË∞ÉÁî®ÂßîÊâòÁªô‰ºöËØù‰ΩúÁî®ÂüüÂÜÖÁúüÊ≠£ÁöÑShoppingCart bean„ÄÇ proxyMode‰ΩúÁî®proxyModeÂ±ûÊÄßË¢´ËÆæÁΩÆÊàê‰∫ÜScopedProxyMode.INTERFACESÔºå ËøôË°®ÊòéËøô‰∏™‰ª£ÁêÜË¶ÅÂÆûÁé∞ShoppingCartÊé•Âè£Ôºå Âπ∂Â∞ÜË∞ÉÁî®ÂßîÊâòÁªôÂÆûÁé∞bean„ÄÇ Ê≥®ÊÑèÁÇπÂ¶ÇÊûúShoppingCartÊòØÊé•Âè£ËÄå‰∏çÊòØÁ±ªÁöÑËØùÔºå ËøôÊòØÂèØ‰ª•ÁöÑÔºà‰πüÊòØÊúÄ‰∏∫ÁêÜÊÉ≥ÁöÑ‰ª£ÁêÜÊ®°ÂºèÔºâ „ÄÇ ‰ΩÜÂ¶ÇÊûúShoppingCartÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÁ±ªÁöÑËØùÔºå SpringÂ∞±Ê≤°ÊúâÂäûÊ≥ïÂàõÂª∫Âü∫‰∫éÊé•Âè£ÁöÑ‰ª£ÁêÜ‰∫Ü„ÄÇ Ê≠§Êó∂Ôºå ÂÆÉÂøÖÈ°ª‰ΩøÁî®CGLibÊù•ÁîüÊàêÂü∫‰∫éÁ±ªÁöÑ‰ª£ÁêÜ„ÄÇ ÊâÄ‰ª•Ôºå Â¶ÇÊûúbeanÁ±ªÂûãÊòØÂÖ∑‰ΩìÁ±ªÁöÑËØùÔºå Êàë‰ª¨ÂøÖÈ°ªË¶ÅÂ∞ÜproxyModeÂ±ûÊÄßËÆæ‰∏∫ScopedProxyMode.TARGET_CLASSÔºå‰ª•Ê≠§Êù•Ë°®ÊòéË¶Å‰ª•ÁîüÊàêÁõÆÊ†áÁ±ªÊâ©Â±ïÁöÑÊñπÂºèÂàõÂª∫‰ª£ÁêÜ„ÄÇ ËøêË°åÊó∂Ê≥®ÂÖ•Ê≥®ÂÖ•ÊñπÂºèÊ≥®ÂÖ•ÊñπÂºèÊúâÔºö ÊûÑÈÄ†Âô®Ê≥®ÂÖ• SetterÊ≥®ÂÖ• ‰∏∫‰∫ÜÈÅøÂÖçÁ°¨ÁºñÁ†ÅÈóÆÈ¢òÔºåSpringÊèê‰æõ‰∫Ü‰∏§ÁßçÂú®ËøêË°åÊó∂Ê±ÇÂÄºÁöÑÊñπÂºè Â±ûÊÄßÂç†‰ΩçÁ¨¶(Property placeholder) springË°®ËææÂºèËØ≠Ë®Ä(spEL) Âú®SpringË£ÖÈÖç‰∏≠Ôºå Âç†‰ΩçÁ¨¶ÁöÑÂΩ¢Âºè‰∏∫‰ΩøÁî®‚Äú${ ‚Ä¶ }‚ÄùÂåÖË£ÖÁöÑÂ±ûÊÄßÂêçÁß∞ Â¶ÇÊûúÊàë‰ª¨‰æùËµñ‰∫éÁªÑ‰ª∂Êâ´ÊèèÂíåËá™Âä®Ë£ÖÈÖçÊù•ÂàõÂª∫ÂíåÂàùÂßãÂåñÂ∫îÁî®ÁªÑ‰ª∂ÁöÑËØùÔºå ÈÇ£‰πàÂ∞±Ê≤°ÊúâÊåáÂÆöÂç†‰ΩçÁ¨¶ÁöÑÈÖçÁΩÆÊñá‰ª∂ÊàñÁ±ª‰∫Ü„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®@ValueÊ≥®Ëß£ 1234public zhangkai&#123; @Value("$&#123;linkis.ip&#125;") String ip; ...&#125;]]></content>
      <tags>
        <tag>-spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springCloud-FeignÁü•ËØÜÊ∏ÖÂçï]]></title>
    <url>%2F2019%2F11%2F26%2FspringCloud-Feign%E7%9F%A5%E8%AF%86%E6%B8%85%E5%8D%95%2F</url>
    <content type="text"><![CDATA[FeignÁÆÄ‰ªãËÉåÊôØÂ¶ÇÊûú‰ΩøÁî®RestTemplatÂÆûÁé∞REST API Ë∞ÉÁî®ÔºåÊòØ‰ΩøÁî®ÊãºÊé•Â≠óÁ¨¶‰∏≤ÁöÑÊñπÂºèÊûÑÂª∫URL,Â¶ÇÊûúURL‰∏≠ÊúâÂ§ö‰∏™ËØ∑Ê±ÇÂèÇÊï∞ÔºåÈÇ£Â∞ÜÈùûÂ∏∏ÁóõËã¶ÔºåÂõ†Ê≠§ÔºåÂèØ‰ΩøÁî®FeignËøõË°åÊúçÂä°Èó¥ÁöÑË∞ÉÁî® ÁÆÄ‰ªãFeignÊòØNetflixÂºÄÂèëÁöÑÂ£∞ÊòéÂºèÔºåÊ®°ÊùøÂåñÁöÑHTTPÂÆ¢Êà∑Á´ØÔºåÂÖ∂ÁÅµÊÑüÊù•Ëá™Retrofit,JAXRS-2.0‰ª•ÂèäWebSocket. FeignÂèØÂ∏ÆÂä©Êàë‰ª¨Êõ¥Âä†‰æøÊç∑Ôºå‰ºòÈõÖÁöÑË∞ÉÁî®HTTP API„ÄÇ Âú®SpringCloud‰∏≠Ôºå‰ΩøÁî®FeignÈùûÂ∏∏ÁÆÄÂçï‚Äî‚ÄîÂàõÂª∫‰∏Ä‰∏™Êé•Âè£ÔºåÂπ∂Âú®Êé•Âè£‰∏äÊ∑ªÂä†‰∏Ä‰∫õÊ≥®Ëß£Ôºå‰ª£Á†ÅÂ∞±ÂÆåÊàê‰∫Ü„ÄÇ FeignÊîØÊåÅÂ§öÁßçÊ≥®Ëß£Ôºå‰æãÂ¶ÇFeignËá™Â∏¶ÁöÑÊ≥®Ëß£ÊàñËÄÖJAX-RSÊ≥®Ëß£Á≠â„ÄÇ SpringCloudÂØπFeignËøõË°å‰∫ÜÂ¢ûÂº∫Ôºå‰ΩøFeignÊîØÊåÅ‰∫ÜSpringMVCÊ≥®Ëß£ÔºåÂπ∂Êï¥Âêà‰∫ÜRibbonÂíåEurekaÔºå‰ªéËÄåËÆ©FeignÁöÑ‰ΩøÁî®Êõ¥Âä†Êñπ‰æø„ÄÇ Â∑•‰ΩúÊµÅÁ®ãÂºïÂÖ•‰æùËµñÂú®ÊúçÂä°Ê∂àË¥πËÄÖ‰∏≠Ê∑ªÂä†Feign‰æùËµñ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;version&gt;2.1.2.RELEASE&lt;/version&gt; &lt;/dependency&gt; ÂºÄÂêØÂäüËÉΩÂêØÂä®Á±ªÊ∑ªÂä†FeignÊîØÊåÅ:Ê∑ªÂä†Ê≥®Ëß£@EnableFeignClientsÂºÄÂêØSpring Cloud FeignÁöÑÊîØÊåÅÂäüËÉΩ 12345678910@MapperScan("com.bmsoft.dc.dodp.mapper")@EnableSwagger2@EnableEurekaClient@SpringBootApplication@EnableFeignClientspublic class DataOfflineDevPlatformApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DataOfflineDevPlatformApplication.class); &#125;&#125; Â∞ÅË£ÖÊé•Âè£ÂØπÊâÄÈúÄË¶ÅËøõË°åËøúÁ®ãÔºàÂÖ∂‰ªñÂæÆÊúçÂä°ÔºâËøõË°åË∞ÉÁî®ÁöÑhttpËØ∑Ê±ÇËøõË°åÂ∞ÅË£Ö ÂàõÂª∫‰∏Ä‰∏™FeignÊé•Âè£ÔºåÊ≠§Êé•Âè£ÊòØÂú®Feign‰∏≠Ë∞ÉÁî®ÂæÆÊúçÂä°ÁöÑÊ†∏ÂøÉÊé•Âè£ 12345678910111213@Service(value = "linkisService")@FeignClient(url = "$&#123;linkis.ip&#125;", name = "cloud-publicservice", configuration = FeignMultipartSupportConfig.class)public interface LinkisService &#123; @RequestMapping(value = "/api/rest_j/v1/publicservice/createNewDir", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON) JSONObject createNewDir(@RequestBody String json); @RequestMapping(value = "/api/rest_j/v1/publicservice/isExist", method = RequestMethod.GET) JSONObject isExist(@RequestParam("path") String path); @RequestMapping(value = "/api/rest_j/v1/publicservice/getUserRootPath", method = RequestMethod.GET) JSONObject getUserRootPath(@RequestParam("pathType") String pathType);&#125; ËØ¥ÊòéÔºö ‚ë†„ÄÅ@Service(value = &quot;linkisService&quot;)Â∞ÜËØ•Êé•Âè£ÊîæÂÖ•ËØ•FeignÂÆ¢Êà∑Á´ØÁöÑÂ∫îÁî®‰∏ä‰∏ãÊñá‰∏≠Êàê‰∏∫bean,ÂêéÊúüÂèØËøõË°åË∞ÉÁî® ‚ë°„ÄÅ@FeignClient()ÊåáÂÆöËØ•Êé•Âè£ÊòØFeignÂÆ¢Êà∑Á´ØÔºåÂÖ∂‰∏≠Ôºö urlÔºöË¢´Ë∞ÉÁî®ÂæÆÊúçÂä°ÁöÑurl,ÂèØÂÜôÊàê${}ÂΩ¢ÂºèÂéªÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñËØ•ÂÄº name:Ë¢´Ë∞ÉÁî®ËøúÁ®ãÂæÆÊúçÂä°ÁöÑÂêçÁß∞Ôºö‚ÄìÂú®ËøúÁ®ãÂæÆÊúçÂä°ÈÖçÁΩÆÊñá‰ª∂‰∏≠spring.application.name‰∏≠ÁöÑÂÄºÔºõÁî®‰∫éÂàõÂª∫RibbonÁöÑË¥üËΩΩÂùáË°°Âô®„ÄÇÊâÄ‰ª•Ribbon‰ºöÊäänameÁöÑÂÄºËß£Êûê‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÊúçÂä° configuration:ËØ•Êé•Âè£ËøõË°åË∞ÉÁî®Êó∂ÈÖçÁΩÆÊñá‰ª∂‰ø°ÊÅØ‚ÄîÂèØÂØπËØ∑Ê±Ç‰ø°ÊÅØËøõË°åÂÜçÂ∞ÅË£ÖÁ≠â ‚ë¢„ÄÅRequestMapping‰∏≠ÂøÖÈ°ªÂÜôÂá∫valueÔºåÂπ∂ÊåáÂÆöËøúÁ®ãhttp‰ø°ÊÅØÔºåÂøÖÈ°ªÂÜôÂá∫methodËøõË°åÊåáÂÆöËøúÁ®ãÊñπÊ≥ïÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞ÜÊä•405ÈîôËØØÔºõconsumesÊòØËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑContent-Type,ÁâπÂà´Ë¶ÅÊ≥®ÊÑèÔºåÂ¶ÇÊûúËøõË°åPOSTËØ∑Ê±ÇÔºåÊòØapplication/jsonÁ±ªÂûãÊï∞ÊçÆÔºåËØ∑Ê±Ç‰∏≠ÁöÑ‰ø°ÊÅØÂ∫îËØ•ÂÜôÊàêStringÔºåËÄå‰∏çÂ∫îËØ•ÂÜôÊàêJsonNodeÁ±ªÂûãÔºåÁ±ªÂûãÈîôËØØÊä•415ÈîôËØØ ‚ë£„ÄÅÂÆö‰πâÂêÑÂèÇÊï∞ÁªëÂÆöÊó∂Ôºå@PathVariable„ÄÅ@RequestParam„ÄÅ@RequestHeaderÁ≠âÂèØ‰ª•ÊåáÂÆöÂèÇÊï∞Â±ûÊÄßÔºåÂú®Feign‰∏≠ÁªëÂÆöÂèÇÊï∞ÂøÖÈ°ªÈÄöËøávalueÂ±ûÊÄßÊù•ÊåáÊòéÂÖ∑‰ΩìÁöÑÂèÇÊï∞ÂêçÔºå‰∏çÁÑ∂‰ºöÊäõÂá∫ÂºÇÂ∏∏ ÊúçÂä°Ë∞ÉÁî®Êú¨ÊúçÂä°Ë∞ÉÁî®ËøúÁ®ãÊúçÂä° 1234567891011121314@AutowiredLinkisService linkisService; @Override public List&lt;Process&gt; getProcessPage(String enName, String themeId, Integer pageNum, Integer pageSize) &#123; String jsonString = methodpre + "file:///tmp/linkis/hadoop/" + enName + "\"&#125;"; String isExist = linkisService.isExist("file:///tmp/linkis/hadoop/" + enName) .getJSONObject("data") .getString("isExist"); if(!enName.isEmpty()&amp;&amp;"false".equals(isExist))&#123; //Ë∞ÉÁî®ËøúÁ®ãÊúçÂä° JSONObject newDir = linkisService.createNewDir(jsonString); &#125; &#125; Êé•Âè£ÈÖçÁΩÆÊúâÊó∂ÂÄôÊé•Âè£‰∏≠ÈªòËÆ§ÈÖçÁΩÆÂπ∂‰∏çËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºåÂõ†Ê≠§ÈúÄË¶ÅÂØπÊé•Âè£ÈÖçÁΩÆËøõË°åÈáçÈÖçÁΩÆÔºõÈúÄË¶ÅÂú®Êé•Âè£ÈÖçÁΩÆ‰∏≠ÂÜôÂá∫ÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆÔºõÂÄüÈâ¥‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ 1234@FeignClient(url = "$&#123;linkis.ip&#125;", name = "cloud-publicservice", configuration = FeignMultipartSupportConfig.class)public interface LinkisService &#123; ...&#125; ÊåáÂÆöËØ•Êé•Âè£ÈÖçÁΩÆ‰ø°ÊÅØÂú®FeignMultipartSupportConfigËøô‰∏™Á±ª‰∏≠ ËØ•Á±ªÁöÑÈÖçÁΩÆ‰ø°ÊÅØÈúÄÊîæÂÖ•ÊúçÂä°Â∫îÁî®‰∏ä‰∏ãÊñáÂÆπÂô®‰∏≠ÔºåÂõ†Ê≠§ÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºåÈÖçÁΩÆ‰ø°ÊÅØÈúÄÂ∞ÅË£ÖÊàêbean 1234567891011121314151617181920@Configurationpublic class FeignMultipartSupportConfig &#123; @Autowired private ObjectFactory&lt;HttpMessageConverters&gt; messageConverters; @Bean @Primary @Scope("prototype") public Encoder multipartFormEncoder() &#123; return new SpringFormEncoder(new SpringEncoder(messageConverters)); &#125; @Bean public feign.Logger.Level multipartLoggerLevel() &#123; return Logger.Level.FULL; &#125; /** feignËØ∑Ê±ÇÊã¶Êà™Âô®*/ @Bean public RequestInterceptor requestInterceptor()&#123; return new FeignBasicAuthRequestInterceptor(); &#125;&#125; ËØ•ÈÖçÁΩÆÁ±ª‰∏≠ÔºåÁî®‰∫éÂàõÂª∫beanÊîæÂÖ•Â∫îÁî®‰∏ä‰∏ãÊñáÂÆπÂô®‰∏≠Ôºå‰æãÂ¶ÇËØ•È°πÁõÆ‰∏≠feignËØ∑Ê±ÇÊã¶Êà™Âô®ÂØπËØ∑Ê±Ç‰ø°ÊÅØËøõË°åÂÜçÂ∞ÅË£ÖÔºåÂ∞Ücookie‰∏étokenÂÜôÂÖ•ÔºåË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂæÆÊúçÂä°Êó∂ÂàªÊàêÂäüÂÆûÁé∞Âè¶‰∏Ä‰∏™ÂæÆÊúçÂä°ÁöÑÈâ¥ÊùÉ 123456789101112131415161718public class FeignBasicAuthRequestInterceptor implements RequestInterceptor &#123; @Override public void apply(RequestTemplate requestTemplate) &#123; //ServletRequestAttributes attributes = (ServletRequestAttributes) RequestContextHolder // .getRequestAttributes(); //Â∞Ütoken„ÄÅcookie‰ø°ÊÅØÊîæÂÖ•header‰∏≠ requestTemplate.header("Cookie","bdp-user-ticket-id=M7UZXQP9Ld12SURe+cZYD34G9B3piEba2HLiVea4FcQ="); //Enumeration&lt;String&gt; headerNames = request.getHeaderNames(); //if (headerNames != null) &#123; // while (headerNames.hasMoreElements()) &#123; // String name = headerNames.nextElement(); // String values = request.getHeader(name); // requestTemplate.header(name, values); // &#125; //&#125; &#125;&#125; ÊúçÂä°Ë∞ÉÁî®FeignÈ´òÁ∫ßFeignÂíåRibbonÁöÑËÅîÁ≥ªRibbonÊòØ‰∏Ä‰∏™Âü∫‰∫é HTTP Âíå TCP ÂÆ¢Êà∑Á´Ø ÁöÑË¥üËΩΩÂùáË°°ÁöÑÂ∑•ÂÖ∑„ÄÇÂÆÉÂèØ‰ª• Âú®ÂÆ¢Êà∑Á´Ø ÈÖçÁΩÆRibbonServerListÔºàÊúçÂä°Á´ØÂàóË°®ÔºâÔºå‰ΩøÁî® HttpClient Êàñ RestTemplate Ê®°ÊãühttpËØ∑Ê±ÇÔºåÊ≠•È™§Áõ∏ÂΩìÁπÅÁêê„ÄÇ Feign ÊòØÂú® RibbonÁöÑÂü∫Á°Ä‰∏äËøõË°å‰∫Ü‰∏ÄÊ¨°ÊîπËøõÔºåÊòØ‰∏Ä‰∏™‰ΩøÁî®Ëµ∑Êù•Êõ¥Âä†Êñπ‰æøÁöÑ HTTP ÂÆ¢Êà∑Á´Ø„ÄÇÈááÁî®Êé•Âè£ÁöÑÊñπÂºèÔºåÂè™ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êé•Âè£ÔºåÁÑ∂ÂêéÂú®‰∏äÈù¢Ê∑ªÂä†Ê≥®Ëß£Âç≥ÂèØ ÔºåÂ∞ÜÈúÄË¶ÅË∞ÉÁî®ÁöÑÂÖ∂‰ªñÊúçÂä°ÁöÑÊñπÊ≥ïÂÆö‰πâÊàêÊäΩË±°ÊñπÊ≥ïÂç≥ÂèØÔºå ‰∏çÈúÄË¶ÅËá™ÊûÑÂª∫httpËØ∑Ê±Ç„ÄÇÁÑ∂ÂêéÂ∞±ÂÉèÊòØË∞ÉÁî®Ëá™Ë∫´Â∑•Á®ãÁöÑÊñπÊ≥ïË∞ÉÁî®ÔºåËÄåÊÑüËßâ‰∏çÂà∞ÊòØË∞ÉÁî®ËøúÁ®ãÊñπÊ≥ïÔºå‰ΩøÂæóÁºñÂÜôÂÆ¢Êà∑Á´ØÂèòÂæóÈùûÂ∏∏ÂÆπÊòì Ë¥üËΩΩÂùáË°°Feign‰∏≠Êú¨Ë∫´Â∑≤ÁªèÈõÜÊàê‰∫ÜRibbon‰æùËµñÂíåËá™Âä®ÈÖçÁΩÆÔºåÂõ†Ê≠§Êàë‰ª¨‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÂºïÂÖ•‰æùËµñÔºå‰πü‰∏çÈúÄË¶ÅÂÜçÊ≥®ÂÜåRestTemplate ÂØπË±°„ÄÇÂè¶Â§ñÔºåÊàë‰ª¨ÂèØ‰ª•ÂéªÈÖçÁΩÆRibbonÔºåÂèØ‰ª•ÈÄöËøá ribbon.xx Êù•ËøõË°åÂÖ®Â±ÄÈÖçÁΩÆ„ÄÇ‰πüÂèØ‰ª•ÈÄöËøá ÊúçÂä°Âêç.ribbon.xx Êù•ÂØπÊåáÂÆöÊúçÂä°ÈÖçÁΩÆ Feign‰∏≠ÈªòËÆ§HystrixË¥üËΩΩÂùáË°°‰∏çÂºÄÂêØÔºåÂ¶ÇÊûúË¶ÅÂºÄÂêØÂè™ÈúÄË¶ÅÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ• 123feign: hystrix: enabled: true Ëá™ÂÆö‰πâFeign‰ªéSpring Cloud EdgwareÂºÄÂßãÔºåFeignÊîØÊåÅ‰ΩøÁî®Â±ûÊÄßËá™ÂÆö‰πâFeign„ÄÇÂØπ‰∫é‰∏Ä‰∏™ÊåáÂÆöÂêçÁß∞ÁöÑFeignClientÔºà‰æãÂ¶ÇËØ•Feign ClientÁöÑÂêçÁß∞‰∏∫ feignName ÔºâÔºåFeignÊîØÊåÅÂ¶Ç‰∏ãÈÖçÁΩÆÈ°πÔºö 1234567891011121314151617feign: client: config: feignName: ##ÂÆö‰πâFeginClientÁöÑÂêçÁß∞ connectTimeout: 5000 # Áõ∏ÂΩì‰∫éRequest.Options:Âª∫Á´ãÈìæÊé•ÁöÑË∂ÖÊó∂Êó∂Èïø readTimeout: 5000 # Áõ∏ÂΩì‰∫éRequest.Options:ËØªÂèñË∂ÖÈïøÊó∂Èó¥# ÈÖçÁΩÆFeignÁöÑÊó•ÂøóÁ∫ßÂà´ÔºåÁõ∏ÂΩì‰∫é‰ª£Á†ÅÈÖçÁΩÆÊñπÂºè‰∏≠ÁöÑLogger loggerLevel: full# FeignÁöÑÈîôËØØËß£Á†ÅÂô®ÔºåÁõ∏ÂΩì‰∫é‰ª£Á†ÅÈÖçÁΩÆÊñπÂºè‰∏≠ÁöÑErrorDecoder errorDecoder: com.example.SimpleErrorDecoder# ÈÖçÁΩÆÈáçËØïÔºåÁõ∏ÂΩì‰∫é‰ª£Á†ÅÈÖçÁΩÆÊñπÂºè‰∏≠ÁöÑRetryer retryer: com.example.SimpleRetryer# ÈÖçÁΩÆÊã¶Êà™Âô®ÔºåÁõ∏ÂΩì‰∫é‰ª£Á†ÅÈÖçÁΩÆÊñπÂºè‰∏≠ÁöÑRequestInterceptor requestInterceptors: - com.example.FooRequestInterceptor - com.example.BarRequestInterceptor decode404: false #ÈÖçÁΩÆÁÜîÊñ≠‰∏çÂ§ÑÁêÜ404ÂºÇÂ∏∏ Êó•ËÆ∞Á∫ßÂà´Âú®ÂºÄÂèëÊàñËÄÖËøêË°åÈò∂ÊÆµÂæÄÂæÄÂ∏åÊúõÁúãÂà∞FeignËØ∑Ê±ÇËøáÁ®ãÁöÑÊó•ÂøóËÆ∞ÂΩïÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãFeignÁöÑÊó•ÂøóÊòØÊ≤°ÊúâÂºÄÂêØÁöÑ„ÄÇË¶ÅÊÉ≥Áî®Â±ûÊÄßÈÖçÁΩÆÊñπÂºèÊù•ËææÂà∞Êó•ÂøóÊïàÊûúÔºåÂè™ÈúÄÂú® application.yml ‰∏≠Ê∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÂç≥ÂèØ Ôºö 12345678feign: client: config: shop-service-product: loggerLevel: FULLlogging: level: cn.itcast.order.fegin.ProductFeginClient: debug logging.level.xx : debug : FeignÊó•ÂøóÂè™‰ºöÂØπÊó•ÂøóÁ∫ßÂà´‰∏∫debugÁöÑÂÅöÂá∫ÂìçÂ∫î feign.client.config.shop-service-product.loggerLevel : ÈÖçÁΩÆFeignÁöÑÊó•ÂøóFeignÊúâÂõõÁßçÊó•ÂøóÁ∫ßÂà´Ôºö NONE„ÄêÊÄßËÉΩÊúÄ‰Ω≥ÔºåÈÄÇÁî®‰∫éÁîü‰∫ß„ÄëÔºö‰∏çËÆ∞ÂΩï‰ªª‰ΩïÊó•ÂøóÔºàÈªòËÆ§ÂÄºÔºâ BASIC„ÄêÈÄÇÁî®‰∫éÁîü‰∫ßÁéØÂ¢ÉËøΩË∏™ÈóÆÈ¢ò„ÄëÔºö‰ªÖËÆ∞ÂΩïËØ∑Ê±ÇÊñπÊ≥ï„ÄÅURL„ÄÅÂìçÂ∫îÁä∂ÊÄÅ‰ª£Á†Å‰ª•ÂèäÊâßË°åÊó∂Èó¥ HEADERSÔºöËÆ∞ÂΩïBASICÁ∫ßÂà´ÁöÑÂü∫Á°Ä‰∏äÔºåËÆ∞ÂΩïËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑheader„ÄÇ FULL„ÄêÊØîËæÉÈÄÇÁî®‰∫éÂºÄÂèëÂèäÊµãËØïÁéØÂ¢ÉÂÆö‰ΩçÈóÆÈ¢ò„ÄëÔºöËÆ∞ÂΩïËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑheader„ÄÅbodyÂíåÂÖÉÊï∞ÊçÆ„ÄÇ]]></content>
      <tags>
        <tag>-springcloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ªéÁ∫øÁ®ãÂà∞Á∫øÁ®ãÊ±†ÁöÑËøõÈò∂‰πãË∑Ø]]></title>
    <url>%2F2019%2F11%2F20%2F%E4%BB%8E%E7%BA%BF%E7%A8%8B%E5%88%B0%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF%2F</url>
    <content type="text"><![CDATA[Thread‰∏éRunnable‰ªãÁªçRunnable ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåËØ•Êé•Âè£‰∏≠Âè™ÂåÖÂê´‰∫Ü‰∏Ä‰∏™run()ÊñπÊ≥ï 123public interface Runnable &#123; public abstract void run();&#125; Thread ÊòØ‰∏Ä‰∏™Á±ª„ÄÇThreadÊú¨Ë∫´Â∞±ÂÆûÁé∞‰∫ÜRunnableÊé•Âè£„ÄÇ 1public class Thread implements Runnable &#123;&#125; Thread ÊòØÁ±ªÔºåËÄåRunnableÊòØÊé•Âè£ÔºõThreadÊú¨Ë∫´ÊòØÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÁöÑÁ±ª„ÄÇÊàë‰ª¨Áü•ÈÅì‚Äú‰∏Ä‰∏™Á±ªÂè™ËÉΩÊúâ‰∏Ä‰∏™Áà∂Á±ªÔºå‰ΩÜÊòØÂç¥ËÉΩÂÆûÁé∞Â§ö‰∏™Êé•Âè£‚ÄùÔºåÂõ†Ê≠§RunnableÂÖ∑ÊúâÊõ¥Â•ΩÁöÑÊâ©Â±ïÊÄß„ÄÇÊ≠§Â§ñÔºåRunnableËøòÂèØ‰ª•Áî®‰∫é‚ÄúËµÑÊ∫êÁöÑÂÖ±‰∫´‚Äù„ÄÇÂç≥ÔºåÂ§ö‰∏™Á∫øÁ®ãÈÉΩÊòØÂü∫‰∫éÊüê‰∏Ä‰∏™RunnableÂØπË±°Âª∫Á´ãÁöÑÔºåÂÆÉ‰ª¨‰ºöÂÖ±‰∫´RunnableÂØπË±°‰∏äÁöÑËµÑÊ∫ê„ÄÇÈÄöÂ∏∏ÔºåÂª∫ËÆÆÈÄöËøá‚ÄúRunnable‚ÄùÂÆûÁé∞Â§öÁ∫øÁ®ãÔºÅ Future‰ªãÁªçFutureÂ∞±ÊòØÂØπ‰∫éÂÖ∑‰ΩìÁöÑRunnableÊàñËÄÖCallable‰ªªÂä°ÁöÑÊâßË°åÁªìÊûúËøõË°åÂèñÊ∂à„ÄÅÊü•ËØ¢ÊòØÂê¶ÂÆåÊàê„ÄÅËé∑ÂèñÁªìÊûú„ÄÇÂøÖË¶ÅÊó∂ÂèØ‰ª•ÈÄöËøágetÊñπÊ≥ïËé∑ÂèñÊâßË°åÁªìÊûúÔºåËØ•ÊñπÊ≥ï‰ºöÈòªÂ°ûÁõ¥Âà∞‰ªªÂä°ËøîÂõûÁªìÊûú„ÄÇ FutureÁ±ª‰Ωç‰∫éjava.util.concurrentÂåÖ‰∏ãÔºõÂú®FutureÊé•Âè£‰∏≠Â£∞Êòé‰∫Ü5‰∏™ÊñπÊ≥ïÔºå‰∏ãÈù¢‰æùÊ¨°Ëß£ÈáäÊØè‰∏™ÊñπÊ≥ïÁöÑ‰ΩúÁî®Ôºö cancelÊñπÊ≥ïÁî®Êù•ÂèñÊ∂à‰ªªÂä°ÔºåÂ¶ÇÊûúÂèñÊ∂à‰ªªÂä°ÊàêÂäüÂàôËøîÂõûtrueÔºåÂ¶ÇÊûúÂèñÊ∂à‰ªªÂä°Â§±Ë¥•ÂàôËøîÂõûfalse„ÄÇÂèÇÊï∞mayInterruptIfRunningË°®Á§∫ÊòØÂê¶ÂÖÅËÆ∏ÂèñÊ∂àÊ≠£Âú®ÊâßË°åÂç¥Ê≤°ÊúâÊâßË°åÂÆåÊØïÁöÑ‰ªªÂä°ÔºåÂ¶ÇÊûúËÆæÁΩÆtrueÔºåÂàôË°®Á§∫ÂèØ‰ª•ÂèñÊ∂àÊ≠£Âú®ÊâßË°åËøáÁ®ã‰∏≠ÁöÑ‰ªªÂä°„ÄÇÂ¶ÇÊûú‰ªªÂä°Â∑≤ÁªèÂÆåÊàêÔºåÂàôÊó†ËÆ∫mayInterruptIfRunning‰∏∫trueËøòÊòØfalseÔºåÊ≠§ÊñπÊ≥ïËÇØÂÆöËøîÂõûfalseÔºåÂç≥Â¶ÇÊûúÂèñÊ∂àÂ∑≤ÁªèÂÆåÊàêÁöÑ‰ªªÂä°‰ºöËøîÂõûfalseÔºõÂ¶ÇÊûú‰ªªÂä°Ê≠£Âú®ÊâßË°åÔºåËã•mayInterruptIfRunningËÆæÁΩÆ‰∏∫trueÔºåÂàôËøîÂõûtrueÔºåËã•mayInterruptIfRunningËÆæÁΩÆ‰∏∫falseÔºåÂàôËøîÂõûfalseÔºõÂ¶ÇÊûú‰ªªÂä°ËøòÊ≤°ÊúâÊâßË°åÔºåÂàôÊó†ËÆ∫mayInterruptIfRunning‰∏∫trueËøòÊòØfalseÔºåËÇØÂÆöËøîÂõûtrue„ÄÇ isCancelledÊñπÊ≥ïË°®Á§∫‰ªªÂä°ÊòØÂê¶Ë¢´ÂèñÊ∂àÊàêÂäüÔºåÂ¶ÇÊûúÂú®‰ªªÂä°Ê≠£Â∏∏ÂÆåÊàêÂâçË¢´ÂèñÊ∂àÊàêÂäüÔºåÂàôËøîÂõû true„ÄÇ isDoneÊñπÊ≥ïË°®Á§∫‰ªªÂä°ÊòØÂê¶Â∑≤ÁªèÂÆåÊàêÔºåËã•‰ªªÂä°ÂÆåÊàêÔºåÂàôËøîÂõûtrueÔºõ get()ÊñπÊ≥ïÁî®Êù•Ëé∑ÂèñÊâßË°åÁªìÊûúÔºåËøô‰∏™ÊñπÊ≥ï‰ºö‰∫ßÁîüÈòªÂ°ûÔºå‰ºö‰∏ÄÁõ¥Á≠âÂà∞‰ªªÂä°ÊâßË°åÂÆåÊØïÊâçËøîÂõûÔºõ get(long timeout, TimeUnit unit)Áî®Êù•Ëé∑ÂèñÊâßË°åÁªìÊûúÔºåÂ¶ÇÊûúÂú®ÊåáÂÆöÊó∂Èó¥ÂÜÖÔºåËøòÊ≤°Ëé∑ÂèñÂà∞ÁªìÊûúÔºåÂ∞±Áõ¥Êé•ËøîÂõûnull„ÄÇ ‰πüÂ∞±ÊòØËØ¥FutureÊèê‰æõ‰∫Ü‰∏âÁßçÂäüËÉΩÔºö 1ÔºâÂà§Êñ≠‰ªªÂä°ÊòØÂê¶ÂÆåÊàêÔºõ 2ÔºâËÉΩÂ§ü‰∏≠Êñ≠‰ªªÂä°Ôºõ 3ÔºâËÉΩÂ§üËé∑Âèñ‰ªªÂä°ÊâßË°åÁªìÊûú„ÄÇ Âõ†‰∏∫FutureÂè™ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÊâÄ‰ª•ÊòØÊó†Ê≥ïÁõ¥Êé•Áî®Êù•ÂàõÂª∫ÂØπË±°‰ΩøÁî®ÁöÑÔºåÂõ†Ê≠§Â∞±Êúâ‰∫Ü‰∏ãÈù¢ÁöÑFutureTask„ÄÇ FutureTask‰ªãÁªçFutureTaskÊòØ‰∏ÄÁßçÂèØ‰ª•ÂèñÊ∂àÁöÑÂºÇÊ≠•ÁöÑËÆ°ÁÆó‰ªªÂä°„ÄÇÂÆÉÁöÑËÆ°ÁÆóÊòØÈÄöËøáCallableÂÆûÁé∞ÁöÑÔºåÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫ÊòØÂèØ‰ª•ËøîÂõûÁªìÊûúÁöÑRunnable„ÄÇ ‰ΩøÁî®FutureTaskÁöÑ‰ºòÂäøÊúâÔºö ÂèØ‰ª•Ëé∑ÂèñÁ∫øÁ®ãÊâßË°åÂêéÁöÑËøîÂõûÁªìÊûúÔºõ Êèê‰æõ‰∫ÜË∂ÖÊó∂ÊéßÂà∂ÂäüËÉΩ„ÄÇ ÂÆÉÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÂíåFutureÊé•Âè£ ‰ªÄ‰πàÊòØÂºÇÊ≠•ËÆ°ÁÆóÂë¢Ôºü‰πüÂ∞±ÊòØËØ¥ÔºåÂú®ËÆ©ËØ•‰ªªÂä°ÊâßË°åÊó∂Ôºå‰∏çÈúÄË¶Å‰∏ÄÁõ¥Á≠âÂæÖÂÖ∂ËøêË°åÁªìÊùüËøîÂõûÁªìÊûúÔºåËÄåÊòØÂèØ‰ª•ÂÖàÂéªÂ§ÑÁêÜÂÖ∂‰ªñÁöÑ‰∫ãÊÉÖÔºåÁÑ∂ÂêéÂÜçËé∑ÂèñËøîÂõûÁªìÊûú„ÄÇ‰æãÂ¶Ç‰Ω†ÊÉ≥‰∏ãËΩΩ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÊñá‰ª∂ÔºåËøôÊó∂ÂæàËÄóÊó∂ÁöÑÊìç‰ΩúÔºåÊ≤°ÂøÖË¶Å‰∏ÄÁõ¥Á≠âÂæÖÁùÄÊñá‰ª∂‰∏ãËΩΩÂÆåÔºå‰Ω†ÂèØ‰ª•ÂÖàÂéªÂêÉ‰∏™È•≠ÔºåÁÑ∂ÂêéÂÜçÂõûÊù•Áúã‰∏ãÊñá‰ª∂ÊòØÂê¶‰∏ãËΩΩÂÆåÊàêÔºåÂ¶ÇÊûú‰∏ãËΩΩÂÆåÊàêÂ∞±ÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºåÂê¶ÂàôËøòÈúÄË¶ÅÁªßÁª≠Á≠âÂæÖ„ÄÇ FutureTaskÁöÑÁä∂ÊÄÅFutureTaskÂÜÖÈÉ®ÊúâËøôÊ†∑Âá†ÁßçÁä∂ÊÄÅÔºö 1234567private static final int NEW = 0;private static final int COMPLETING = 1;private static final int NORMAL = 2;private static final int EXCEPTIONAL = 3;private static final int CANCELLED = 4;private static final int INTERRUPTING = 5;private static final int INTERRUPTED = 6; ÁúãÂêçÂ≠óÂ∫îËØ•ÂæàÂ•ΩÁêÜËß£‰∫ÜÔºåÂΩìÂàõÂª∫‰∏Ä‰∏™FutureTaskÂØπË±°ÊòØÔºåÂàùÂßãÁöÑÁä∂ÊÄÅÊòØNEWÔºåÂú®ËøêË°åÊó∂Áä∂ÊÄÅ‰ºöËΩ¨Êç¢ÔºåÊúâ4‰∏≠Áä∂ÊÄÅÁöÑËΩ¨Êç¢ËøáÁ®ãÔºö NEW -&gt; COMPLETING -&gt; NORMALÔºöÊ≠£Â∏∏ÊâßË°åÂπ∂ËøîÂõûÔºõ NEW -&gt; COMPLETING -&gt; EXCEPTIONALÔºöÊâßË°åËøáÁ®ã‰∏≠Âá∫Áé∞‰∫ÜÂºÇÂ∏∏Ôºõ NEW -&gt; CANCELLEDÔºõÊâßË°åÂâçË¢´ÂèñÊ∂àÔºõ NEW -&gt; INTERRUPTING -&gt; INTERRUPTEDÔºöÂèñÊ∂àÊó∂Ë¢´‰∏≠Êñ≠„ÄÇ ‰ΩøÁî®FutureTask‰∏ãÈù¢Áúã‰∏Ä‰∏ãÂÖ∑‰ΩìÁöÑ‰ΩøÁî®ËøáÁ®ãÔºöFutureTaskÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÆûÁé∞runÊñπÊ≥ï 1234567891011121314151617public class FutureTaskTest &#123; public static void main(String[] args) throws ExecutionException, InterruptedException &#123; ExecutorService executor = Executors.newSingleThreadExecutor(); FutureTask&lt;Integer&gt; future = new FutureTask&lt;&gt;(new Callable&lt;Integer&gt;() &#123; @Override public Integer call() throws Exception &#123; int result = 0; for (int i = 0; i &lt; 100; i++) &#123; result += i; &#125; return result; &#125; &#125;); executor.execute(future); System.out.println(future.get()); &#125;&#125; FutureTaskÊûÑÈÄ†ÊñπÊ≥ïFutureTaskÊúâ‰∏§‰∏™ÊûÑÈÄ†ÊñπÊ≥ïÔºö 12345678910public FutureTask(Callable&lt;V&gt; callable) &#123; if (callable == null) throw new NullPointerException(); this.callable = callable; this.state = NEW; // ensure visibility of callable&#125;public FutureTask(Runnable runnable, V result) &#123; this.callable = Executors.callable(runnable, result); this.state = NEW; // ensure visibility of callable&#125; Á¨¨‰∫åÁßçÊûÑÈÄ†ÊñπÊ≥ï‰º†ÂÖ•‰∏Ä‰∏™RunnableÂØπË±°Âíå‰∏Ä‰∏™ËøîÂõûÂÄºÂØπË±°ÔºåÂõ†‰∏∫RunnableÊòØÊ≤°ÊúâËøîÂõûÂÄºÁöÑÔºåÊâÄ‰ª•Ë¶ÅÈÄöËøáresultÂèÇÊï∞Âú®ÊâßË°åÂÆå‰πãÂêéËøîÂõûÁªìÊûú„ÄÇ runÊñπÊ≥ïFutureTaskÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÆûÁé∞runÊñπÊ≥ï„ÄÇ runÊñπÊ≥ïÁöÑÊâßË°åËøáÁ®ã Âè™Êúâstate‰∏∫NEWÁöÑÊó∂ÂÄôÊâçÊâßË°å‰ªªÂä°Ôºõ ÊâßË°åÂâçË¶ÅËÆæÁΩÆrunner‰∏∫ÂΩìÂâçÁ∫øÁ®ãÔºå‰ΩøÁî®CASÊù•ËÆæÁΩÆÊòØ‰∏∫‰∫ÜÈò≤Ê≠¢Á´û‰∫âÔºõ Â¶ÇÊûú‰ªªÂä°ÊâßË°åÊàêÂäüÔºå‰ªªÂä°Áä∂ÊÄÅ‰ªéNEWËΩ¨Êç¢‰∏∫COMPLETINGÔºåÂ¶ÇÊûúÊâßË°åÊ≠£Â∏∏ÔºåËÆæÁΩÆÊúÄÁªàÁä∂ÊÄÅ‰∏∫NORMALÔºõÂ¶ÇÊûúÊâßË°å‰∏≠Âá∫Áé∞‰∫ÜÂºÇÂ∏∏ÔºåËÆæÁΩÆÊúÄÁªàÁä∂ÊÄÅ‰∏∫EXCEPTIONALÔºõ Âî§ÈÜíÂπ∂Âà†Èô§Treiber Stack‰∏≠ÁöÑÊâÄÊúâËäÇÁÇπÔºõ Â¶ÇÊûúË∞ÉÁî®‰∫Ücancel(true)ÊñπÊ≥ïËøõË°å‰∫Ü‰∏≠Êñ≠ÔºåË¶ÅÁ°Æ‰øùÂú®runÊñπÊ≥ïÊâßË°åÁªìÊùüÂâçÁöÑÁä∂ÊÄÅÊòØINTERRUPTED„ÄÇ ËøôÈáåÊ∂âÂèäÂà∞3‰∏™ÊØîËæÉÈáçË¶ÅÁöÑÊñπÊ≥ïÔºösetExceptionÔºåsetÂíåhandlePossibleCancellationInterrupt„ÄÇ getÊñπÊ≥ï12345678910111213141516public V get() throws InterruptedException, ExecutionException &#123; int s = state; if (s &lt;= COMPLETING) s = awaitDone(false, 0L); return report(s);&#125;public V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException &#123; if (unit == null) throw new NullPointerException(); int s = state; if (s &lt;= COMPLETING &amp;&amp; (s = awaitDone(true, unit.toNanos(timeout))) &lt;= COMPLETING) throw new TimeoutException(); return report(s);&#125; Ëøô‰∏§‰∏™ÊñπÊ≥ïÁ±ª‰ººÔºåÈ¶ñÂÖàÂà§Êñ≠Áä∂ÊÄÅÔºåÂ¶ÇÊûús &lt;= COMPLETINGÔºåËØ¥Êòé‰ªªÂä°Â∑≤ÁªèÊâßË°åÂÆåÊØïÔºå‰ΩÜsetÊñπÊ≥ïÊàñsetExceptionÊñπÊ≥ïËøòÊú™ÊâßË°åÁªìÊùüÔºàËøòÊú™ËÆæÁΩÆÁä∂ÊÄÅ‰∏∫NORMALÊàñEXCEPTIONALÔºâÔºåËøôÊó∂ÈúÄË¶ÅÂ∞ÜÂΩìÂâçÁ∫øÁ®ãÊ∑ªÂä†Âà∞waiters‰∏≠Âπ∂ÈòªÂ°û„ÄÇ Á¨¨‰∫åÁßçgetÊèê‰æõ‰∫ÜË∂ÖÊó∂ÂäüËÉΩÔºåÂ¶ÇÊûúÂú®ËßÑÂÆöÊó∂Èó¥ÂÜÖ‰ªªÂä°ËøòÊú™ÊâßË°åÂÆåÊØïÊàñËÄÖÁä∂ÊÄÅËøòÊòØCOMPLETINGÔºåÂàôËé∑ÂèñÁªìÊûúË∂ÖÊó∂ÔºåÊäõÂá∫TimeoutException„ÄÇËÄåÁ¨¨‰∏ÄÁßçget‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁõ¥Âà∞state &gt; COMPLETING„ÄÇ FutureTaskÊÄªÁªìFutureTaskÁöÑÊâßË°åËøáÁ®ãÂíåËé∑ÂèñËøîÂõûÂÄºÁöÑËøáÁ®ãÔºåË¶ÅÊ≥®ÊÑè‰ª•‰∏ãÂá†‰∏™Âú∞ÊñπÔºö FutureTaskÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂú®Â§öÁ∫øÁ®ã‰∏ã‰ªªÂä°‰πüÂè™‰ºöË¢´ÊâßË°å‰∏ÄÊ¨°Ôºõ Ê≥®ÊÑèÂú®ÊâßË°åÊó∂ÂêÑÁßçÁä∂ÊÄÅÁöÑÂàáÊç¢Ôºõ getÊñπÊ≥ïË∞ÉÁî®Êó∂ÔºåÂ¶ÇÊûú‰ªªÂä°Ê≤°ÊúâÁªìÊùüÔºåË¶ÅÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÊ≥ïÈòªÂ°ûÁöÑÁ∫øÁ®ã‰ºö‰øùÂ≠òÂú®‰∏Ä‰∏™Treiber Stack‰∏≠Ôºõ getÊñπÊ≥ïË∂ÖÊó∂ÂäüËÉΩÂ¶ÇÊûúË∂ÖÊó∂Êú™Ëé∑ÂèñÊàêÂäüÔºå‰ºöÊäõÂá∫TimeoutExceptionÔºõ Ê≥®ÊÑèÂú®ÂèñÊ∂àÊó∂ÁöÑÁ∫øÁ®ã‰∏≠Êñ≠ÔºåÂú®runÊñπÊ≥ï‰∏≠‰∏ÄÂÆöË¶Å‰øùËØÅÁªìÊùüÊó∂ÁöÑÁä∂ÊÄÅÊòØINTERRUPTEDÔºåÂê¶ÂàôÂú®cancelÊñπÊ≥ï‰∏≠ÂèØËÉΩÊ≤°ÊúâÊâßË°åinterruptÔºåÈÄ†Êàê‰∏≠Êñ≠ÁöÑÊ≥ÑÈú≤„ÄÇ ExecutorÊ°ÜÊû∂Êé•Âè£ExecutorÊ°ÜÊû∂ÊòØ‰∏Ä‰∏™Ê†πÊçÆ‰∏ÄÁªÑÊâßË°åÁ≠ñÁï•Ë∞ÉÁî®ÔºåË∞ÉÂ∫¶ÔºåÊâßË°åÂíåÊéßÂà∂ÁöÑÂºÇÊ≠•‰ªªÂä°ÁöÑÊ°ÜÊû∂ÔºåÁõÆÁöÑÊòØÊèê‰æõ‰∏ÄÁßçÂ∞Ü‚Äù‰ªªÂä°Êèê‰∫§‚Äù‰∏é‚Äù‰ªªÂä°Â¶Ç‰ΩïËøêË°å‚ÄùÂàÜÁ¶ªÂºÄÊù•ÁöÑÊú∫Âà∂„ÄÇ J.U.C‰∏≠Êúâ‰∏â‰∏™ExecutorÊé•Âè£Ôºö ExecutorÔºö‰∏Ä‰∏™ËøêË°åÊñ∞‰ªªÂä°ÁöÑÁÆÄÂçïÊé•Âè£Ôºõ ExecutorServiceÔºöÊâ©Â±ï‰∫ÜExecutorÊé•Âè£„ÄÇÊ∑ªÂä†‰∫Ü‰∏Ä‰∫õÁî®Êù•ÁÆ°ÁêÜÊâßË°åÂô®ÁîüÂëΩÂë®ÊúüÂíå‰ªªÂä°ÁîüÂëΩÂë®ÊúüÁöÑÊñπÊ≥ïÔºõ ScheduledExecutorServiceÔºöÊâ©Â±ï‰∫ÜExecutorService„ÄÇÊîØÊåÅFutureÂíåÂÆöÊúüÊâßË°å‰ªªÂä°„ÄÇ ExecutorÊé•Âè£123public interface Executor &#123; void execute(Runnable command);&#125; ExecutorÊé•Âè£Âè™Êúâ‰∏Ä‰∏™executeÊñπÊ≥ïÔºåÁî®Êù•Êõø‰ª£ÈÄöÂ∏∏ÂàõÂª∫ÊàñÂêØÂä®Á∫øÁ®ãÁöÑÊñπÊ≥ï„ÄÇ‰æãÂ¶ÇÔºå‰ΩøÁî®ThreadÊù•ÂàõÂª∫Âπ∂ÂêØÂä®Á∫øÁ®ãÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12Thread t = new Thread();t.start(); ‰ΩøÁî®ExecutorÊù•ÂêØÂä®Á∫øÁ®ãÊâßË°å‰ªªÂä°ÁöÑ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12Thread t = new Thread();executor.execute(t); ÂØπ‰∫é‰∏çÂêåÁöÑExecutorÂÆûÁé∞Ôºåexecute()ÊñπÊ≥ïÂèØËÉΩÊòØÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÂπ∂Á´ãÂç≥ÂêØÂä®Ôºå‰πüÊúâÂèØËÉΩÊòØ‰ΩøÁî®Â∑≤ÊúâÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊù•ËøêË°å‰º†ÂÖ•ÁöÑ‰ªªÂä°Ôºå‰πüÂèØËÉΩÊòØÊ†πÊçÆËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÂÆπÈáèÊàñËÄÖÈòªÂ°ûÈòüÂàóÁöÑÂÆπÈáèÊù•ÂÜ≥ÂÆöÊòØÂê¶Ë¶ÅÂ∞Ü‰º†ÂÖ•ÁöÑÁ∫øÁ®ãÊîæÂÖ•ÈòªÂ°ûÈòüÂàó‰∏≠ÊàñËÄÖÊãíÁªùÊé•Êî∂‰º†ÂÖ•ÁöÑÁ∫øÁ®ã„ÄÇ ExecutorServiceÊé•Âè£ExecutorServiceÊé•Âè£ÁªßÊâøËá™ExecutorÊé•Âè£ÔºåÊèê‰æõ‰∫ÜÁÆ°ÁêÜÁªàÊ≠¢ÁöÑÊñπÊ≥ïÔºå‰ª•ÂèäÂèØ‰∏∫Ë∑üË∏™‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂºÇÊ≠•‰ªªÂä°ÊâßË°åÁä∂ÂÜµËÄåÁîüÊàê Future ÁöÑÊñπÊ≥ï„ÄÇÂ¢ûÂä†‰∫ÜshutDown()ÔºåshutDownNow()ÔºåinvokeAll()ÔºåinvokeAny()Âíåsubmit()Á≠âÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊîØÊåÅÂç≥Êó∂ÂÖ≥Èó≠Ôºå‰πüÂ∞±ÊòØshutDownNow()ÊñπÊ≥ïÔºåÂàô‰ªªÂä°ÈúÄË¶ÅÊ≠£Á°ÆÂ§ÑÁêÜ‰∏≠Êñ≠„ÄÇ ScheduledExecutorServiceÊé•Âè£ScheduledExecutorServiceÊâ©Â±ïExecutorServiceÊé•Âè£Âπ∂Â¢ûÂä†‰∫ÜscheduleÊñπÊ≥ï„ÄÇË∞ÉÁî®scheduleÊñπÊ≥ïÂèØ‰ª•Âú®ÊåáÂÆöÁöÑÂª∂Êó∂ÂêéÊâßË°å‰∏Ä‰∏™RunnableÊàñËÄÖCallable‰ªªÂä°„ÄÇScheduledExecutorServiceÊé•Âè£ËøòÂÆö‰πâ‰∫ÜÊåâÁÖßÊåáÂÆöÊó∂Èó¥Èó¥ÈöîÂÆöÊúüÊâßË°å‰ªªÂä°ÁöÑscheduleAtFixedRate()ÊñπÊ≥ïÂíåscheduleWithFixedDelay()ÊñπÊ≥ï„ÄÇ JavaÁ∫øÁ®ãÊ±†ÔºöThreadPoolExecutorThreadPoolExecutorÁªßÊâøËá™AbstractExecutorServiceÔºå‰πüÊòØÂÆûÁé∞‰∫ÜExecutorServiceÊé•Âè£„ÄÇ Á∫øÁ®ãÊ±†ÁöÑËøêË°åÁä∂ÊÄÅÁ∫øÁ®ãÊ±†‰∏ÄÂÖ±Êúâ‰∫îÁßçÁä∂ÊÄÅ, ÂàÜÂà´ÊòØ: RUNNING ÔºöËÉΩÊé•ÂèóÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°ÔºåÂπ∂‰∏î‰πüËÉΩÂ§ÑÁêÜÈòªÂ°ûÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°Ôºõ SHUTDOWNÔºöÂÖ≥Èó≠Áä∂ÊÄÅÔºå‰∏çÂÜçÊé•ÂèóÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°Ôºå‰ΩÜÂç¥ÂèØ‰ª•ÁªßÁª≠Â§ÑÁêÜÈòªÂ°ûÈòüÂàó‰∏≠Â∑≤‰øùÂ≠òÁöÑ‰ªªÂä°„ÄÇÂú®Á∫øÁ®ãÊ±†Â§Ñ‰∫é RUNNING Áä∂ÊÄÅÊó∂ÔºåË∞ÉÁî® shutdown()ÊñπÊ≥ï‰ºö‰ΩøÁ∫øÁ®ãÊ±†ËøõÂÖ•Âà∞ËØ•Áä∂ÊÄÅ„ÄÇÔºàfinalize() ÊñπÊ≥ïÂú®ÊâßË°åËøáÁ®ã‰∏≠‰πü‰ºöË∞ÉÁî®shutdown()ÊñπÊ≥ïËøõÂÖ•ËØ•Áä∂ÊÄÅÔºâÔºõ STOPÔºö‰∏çËÉΩÊé•ÂèóÊñ∞‰ªªÂä°Ôºå‰πü‰∏çÂ§ÑÁêÜÈòüÂàó‰∏≠ÁöÑ‰ªªÂä°Ôºå‰ºö‰∏≠Êñ≠Ê≠£Âú®Â§ÑÁêÜ‰ªªÂä°ÁöÑÁ∫øÁ®ã„ÄÇÂú®Á∫øÁ®ãÊ±†Â§Ñ‰∫é RUNNING Êàñ SHUTDOWN Áä∂ÊÄÅÊó∂ÔºåË∞ÉÁî® shutdownNow() ÊñπÊ≥ï‰ºö‰ΩøÁ∫øÁ®ãÊ±†ËøõÂÖ•Âà∞ËØ•Áä∂ÊÄÅÔºõ TIDYINGÔºöÂ¶ÇÊûúÊâÄÊúâÁöÑ‰ªªÂä°ÈÉΩÂ∑≤ÁªàÊ≠¢‰∫ÜÔºåworkerCount (ÊúâÊïàÁ∫øÁ®ãÊï∞) ‰∏∫0ÔºåÁ∫øÁ®ãÊ±†ËøõÂÖ•ËØ•Áä∂ÊÄÅÂêé‰ºöË∞ÉÁî® terminated() ÊñπÊ≥ïËøõÂÖ•TERMINATED Áä∂ÊÄÅ„ÄÇ TERMINATEDÔºöÂú®terminated() ÊñπÊ≥ïÊâßË°åÂÆåÂêéËøõÂÖ•ËØ•Áä∂ÊÄÅÔºåÈªòËÆ§terminated()ÊñπÊ≥ï‰∏≠‰ªÄ‰πà‰πüÊ≤°ÊúâÂÅö„ÄÇ ËøõÂÖ•TERMINATEDÁöÑÊù°‰ª∂Â¶Ç‰∏ãÔºö Á∫øÁ®ãÊ±†‰∏çÊòØRUNNINGÁä∂ÊÄÅÔºõ Á∫øÁ®ãÊ±†Áä∂ÊÄÅ‰∏çÊòØTIDYINGÁä∂ÊÄÅÊàñTERMINATEDÁä∂ÊÄÅÔºõ Â¶ÇÊûúÁ∫øÁ®ãÊ±†Áä∂ÊÄÅÊòØSHUTDOWNÂπ∂‰∏îworkerQueue‰∏∫Á©∫Ôºõ workerCount‰∏∫0Ôºõ ËÆæÁΩÆTIDYINGÁä∂ÊÄÅÊàêÂäü„ÄÇ ‰∏ãÂõæ‰∏∫Á∫øÁ®ãÊ±†ÁöÑÁä∂ÊÄÅËΩ¨Êç¢ËøáÁ®ãÔºö ThreadPoolExecutorÊûÑÈÄ†ÊñπÊ≥ï123456789101112131415161718192021public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; if (corePoolSize &lt; 0 || maximumPoolSize &lt;= 0 || maximumPoolSize &lt; corePoolSize || keepAliveTime &lt; 0) throw new IllegalArgumentException(); if (workQueue == null || threadFactory == null || handler == null) throw new NullPointerException(); this.corePoolSize = corePoolSize; this.maximumPoolSize = maximumPoolSize; this.workQueue = workQueue; this.keepAliveTime = unit.toNanos(keepAliveTime); this.threadFactory = threadFactory; this.handler = handler;&#125; ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠ÁöÑÂ≠óÊÆµÂê´‰πâÂ¶Ç‰∏ãÔºö corePoolSizeÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÈáèÔºåÂΩìÊúâÊñ∞‰ªªÂä°Âú®execute()ÊñπÊ≥ïÊèê‰∫§Êó∂Ôºå‰ºöÊâßË°å‰ª•‰∏ãÂà§Êñ≠Ôºö Â¶ÇÊûúËøêË°åÁöÑÁ∫øÁ®ãÂ∞ë‰∫é corePoolSizeÔºåÂàôÂàõÂª∫Êñ∞Á∫øÁ®ãÊù•Â§ÑÁêÜ‰ªªÂä°ÔºåÂç≥‰ΩøÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÂÖ∂‰ªñÁ∫øÁ®ãÊòØÁ©∫Èó≤ÁöÑÔºõ Â¶ÇÊûúÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éÁ≠â‰∫é corePoolSize ‰∏îÂ∞è‰∫é maximumPoolSizeÔºåÂàôÂè™ÊúâÂΩìworkQueueÊª°Êó∂ÊâçÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÂéªÂ§ÑÁêÜ‰ªªÂä°Ôºõ Â¶ÇÊûúËÆæÁΩÆÁöÑcorePoolSize Âíå maximumPoolSizeÁõ∏ÂêåÔºåÂàôÂàõÂª∫ÁöÑÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞èÊòØÂõ∫ÂÆöÁöÑÔºåËøôÊó∂Â¶ÇÊûúÊúâÊñ∞‰ªªÂä°Êèê‰∫§ÔºåËã•workQueueÊú™Êª°ÔºåÂàôÂ∞ÜËØ∑Ê±ÇÊîæÂÖ•workQueue‰∏≠ÔºåÁ≠âÂæÖÊúâÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÂéª‰ªéworkQueue‰∏≠Âèñ‰ªªÂä°Âπ∂Â§ÑÁêÜÔºõ Â¶ÇÊûúËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éÁ≠â‰∫émaximumPoolSizeÔºåËøôÊó∂Â¶ÇÊûúworkQueueÂ∑≤ÁªèÊª°‰∫ÜÔºåÂàôÈÄöËøáhandlerÊâÄÊåáÂÆöÁöÑÁ≠ñÁï•Êù•Â§ÑÁêÜ‰ªªÂä°Ôºõ ÊâÄ‰ª•Ôºå‰ªªÂä°Êèê‰∫§Êó∂ÔºåÂà§Êñ≠ÁöÑÈ°∫Â∫è‰∏∫ corePoolSize ‚Äì&gt; workQueue ‚Äì&gt; maximumPoolSize„ÄÇ maximumPoolSizeÔºöÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÈáèÔºõ workQueueÔºöÁ≠âÂæÖÈòüÂàóÔºåÂΩì‰ªªÂä°Êèê‰∫§Êó∂ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éÁ≠â‰∫écorePoolSizeÁöÑÊó∂ÂÄôÔºåÊääËØ•‰ªªÂä°Â∞ÅË£ÖÊàê‰∏Ä‰∏™WorkerÂØπË±°ÊîæÂÖ•Á≠âÂæÖÈòüÂàóÔºõ workQueue Ôºö‰øùÂ≠òÁ≠âÂæÖÊâßË°åÁöÑ‰ªªÂä°ÁöÑÈòªÂ°ûÈòüÂàóÔºåÂΩìÊèê‰∫§‰∏Ä‰∏™Êñ∞ÁöÑ‰ªªÂä°Âà∞Á∫øÁ®ãÊ±†‰ª•Âêé, Á∫øÁ®ãÊ±†‰ºöÊ†πÊçÆÂΩìÂâçÁ∫øÁ®ãÊ±†‰∏≠Ê≠£Âú®ËøêË°åÁùÄÁöÑÁ∫øÁ®ãÁöÑÊï∞ÈáèÊù•ÂÜ≥ÂÆöÂØπËØ•‰ªªÂä°ÁöÑÂ§ÑÁêÜÊñπÂºèÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†ÁßçÂ§ÑÁêÜÊñπÂºè: Áõ¥Êé•ÂàáÊç¢ÔºöËøôÁßçÊñπÂºèÂ∏∏Áî®ÁöÑÈòüÂàóÊòØSynchronousQueueÔºå‰ΩÜÁé∞Âú®ËøòÊ≤°ÊúâÁ†îÁ©∂ËøáËØ•ÈòüÂàóÔºåËøôÈáåÊöÇÊó∂ËøòÊ≤°Ê≥ï‰ªãÁªçÔºõ ‰ΩøÁî®Êó†ÁïåÈòüÂàóÔºö‰∏ÄËà¨‰ΩøÁî®Âü∫‰∫éÈìæË°®ÁöÑÈòªÂ°ûÈòüÂàóLinkedBlockingQueue„ÄÇÂ¶ÇÊûú‰ΩøÁî®ËøôÁßçÊñπÂºèÔºåÈÇ£‰πàÁ∫øÁ®ãÊ±†‰∏≠ËÉΩÂ§üÂàõÂª∫ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞Â∞±ÊòØcorePoolSizeÔºåËÄåmaximumPoolSizeÂ∞±‰∏ç‰ºöËµ∑‰ΩúÁî®‰∫Ü„ÄÇÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÊâÄÊúâÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÈÉΩÊòØRUNNINGÁä∂ÊÄÅÊó∂ÔºåËøôÊó∂‰∏Ä‰∏™Êñ∞ÁöÑ‰ªªÂä°Êèê‰∫§Â∞±‰ºöÊîæÂÖ•Á≠âÂæÖÈòüÂàó‰∏≠„ÄÇ ‰ΩøÁî®ÊúâÁïåÈòüÂàó Ôºö‰∏ÄËà¨‰ΩøÁî®ArrayBlockingQueue„ÄÇ‰ΩøÁî®ËØ•ÊñπÂºèÂèØ‰ª•Â∞ÜÁ∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÈáèÈôêÂà∂‰∏∫maximumPoolSizeÔºåËøôÊ†∑ËÉΩÂ§üÈôç‰ΩéËµÑÊ∫êÁöÑÊ∂àËÄóÔºå‰ΩÜÂêåÊó∂ËøôÁßçÊñπÂºè‰πü‰ΩøÂæóÁ∫øÁ®ãÊ±†ÂØπÁ∫øÁ®ãÁöÑË∞ÉÂ∫¶ÂèòÂæóÊõ¥Âõ∞ÈöæÔºåÂõ†‰∏∫Á∫øÁ®ãÊ±†ÂíåÈòüÂàóÁöÑÂÆπÈáèÈÉΩÊòØÊúâÈôêÁöÑÂÄºÔºåÊâÄ‰ª•Ë¶ÅÊÉ≥‰ΩøÁ∫øÁ®ãÊ±†Â§ÑÁêÜ‰ªªÂä°ÁöÑÂêûÂêêÁéáËææÂà∞‰∏Ä‰∏™Áõ∏ÂØπÂêàÁêÜÁöÑËåÉÂõ¥ÔºåÂèàÊÉ≥‰ΩøÁ∫øÁ®ãË∞ÉÂ∫¶Áõ∏ÂØπÁÆÄÂçïÔºåÂπ∂‰∏îËøòË¶ÅÂ∞ΩÂèØËÉΩÁöÑÈôç‰ΩéÁ∫øÁ®ãÊ±†ÂØπËµÑÊ∫êÁöÑÊ∂àËÄóÔºåÂ∞±ÈúÄË¶ÅÂêàÁêÜÁöÑËÆæÁΩÆËøô‰∏§‰∏™Êï∞Èáè„ÄÇ Â¶ÇÊûúË¶ÅÊÉ≥Èôç‰ΩéÁ≥ªÁªüËµÑÊ∫êÁöÑÊ∂àËÄóÔºàÂåÖÊã¨CPUÁöÑ‰ΩøÁî®ÁéáÔºåÊìç‰ΩúÁ≥ªÁªüËµÑÊ∫êÁöÑÊ∂àËÄóÔºå‰∏ä‰∏ãÊñáÁéØÂ¢ÉÂàáÊç¢ÁöÑÂºÄÈîÄÁ≠âÔºâ, ÂèØ‰ª•ËÆæÁΩÆËæÉÂ§ßÁöÑÈòüÂàóÂÆπÈáèÂíåËæÉÂ∞èÁöÑÁ∫øÁ®ãÊ±†ÂÆπÈáè, ‰ΩÜËøôÊ†∑‰πü‰ºöÈôç‰ΩéÁ∫øÁ®ãÂ§ÑÁêÜ‰ªªÂä°ÁöÑÂêûÂêêÈáè„ÄÇ Â¶ÇÊûúÊèê‰∫§ÁöÑ‰ªªÂä°ÁªèÂ∏∏ÂèëÁîüÈòªÂ°ûÔºåÈÇ£‰πàÂèØ‰ª•ËÄÉËôëÈÄöËøáË∞ÉÁî® setMaximumPoolSize() ÊñπÊ≥ïÊù•ÈáçÊñ∞ËÆæÂÆöÁ∫øÁ®ãÊ±†ÁöÑÂÆπÈáè„ÄÇ Â¶ÇÊûúÈòüÂàóÁöÑÂÆπÈáèËÆæÁΩÆÁöÑËæÉÂ∞èÔºåÈÄöÂ∏∏ÈúÄË¶ÅÂ∞ÜÁ∫øÁ®ãÊ±†ÁöÑÂÆπÈáèËÆæÁΩÆÂ§ß‰∏ÄÁÇπÔºåËøôÊ†∑CPUÁöÑ‰ΩøÁî®Áéá‰ºöÁõ∏ÂØπÁöÑÈ´ò‰∏Ä‰∫õ„ÄÇ‰ΩÜÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ÁöÑÂÆπÈáèËÆæÁΩÆÁöÑËøáÂ§ßÔºåÂàôÂú®Êèê‰∫§ÁöÑ‰ªªÂä°Êï∞ÈáèÂ§™Â§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂπ∂ÂèëÈáè‰ºöÂ¢ûÂä†ÔºåÈÇ£‰πàÁ∫øÁ®ã‰πãÈó¥ÁöÑË∞ÉÂ∫¶Â∞±ÊòØ‰∏Ä‰∏™Ë¶ÅËÄÉËôëÁöÑÈóÆÈ¢òÔºåÂõ†‰∏∫ËøôÊ†∑ÂèçËÄåÊúâÂèØËÉΩÈôç‰ΩéÂ§ÑÁêÜ‰ªªÂä°ÁöÑÂêûÂêêÈáè„ÄÇ keepAliveTimeÔºöÁ∫øÁ®ãÊ±†Áª¥Êä§Á∫øÁ®ãÊâÄÂÖÅËÆ∏ÁöÑÁ©∫Èó≤Êó∂Èó¥„ÄÇÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫écorePoolSizeÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúËøôÊó∂Ê≤°ÊúâÊñ∞ÁöÑ‰ªªÂä°Êèê‰∫§ÔºåÊ†∏ÂøÉÁ∫øÁ®ãÂ§ñÁöÑÁ∫øÁ®ã‰∏ç‰ºöÁ´ãÂç≥ÈîÄÊØÅÔºåËÄåÊòØ‰ºöÁ≠âÂæÖÔºåÁõ¥Âà∞Á≠âÂæÖÁöÑÊó∂Èó¥Ë∂ÖËøá‰∫ÜkeepAliveTimeÔºõ threadFactoryÔºöÂÆÉÊòØThreadFactoryÁ±ªÂûãÁöÑÂèòÈáèÔºåÁî®Êù•ÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇÈªòËÆ§‰ΩøÁî®Executors.defaultThreadFactory() Êù•ÂàõÂª∫Á∫øÁ®ã„ÄÇ‰ΩøÁî®ÈªòËÆ§ÁöÑThreadFactoryÊù•ÂàõÂª∫Á∫øÁ®ãÊó∂Ôºå‰ºö‰ΩøÊñ∞ÂàõÂª∫ÁöÑÁ∫øÁ®ãÂÖ∑ÊúâÁõ∏ÂêåÁöÑNORM_PRIORITY‰ºòÂÖàÁ∫ßÂπ∂‰∏îÊòØÈùûÂÆàÊä§Á∫øÁ®ãÔºåÂêåÊó∂‰πüËÆæÁΩÆ‰∫ÜÁ∫øÁ®ãÁöÑÂêçÁß∞„ÄÇ handler ÔºöÂÆÉÊòØRejectedExecutionHandlerÁ±ªÂûãÁöÑÂèòÈáèÔºåË°®Á§∫Á∫øÁ®ãÊ±†ÁöÑÈ•±ÂíåÁ≠ñÁï•„ÄÇÂ¶ÇÊûúÈòªÂ°ûÈòüÂàóÊª°‰∫ÜÂπ∂‰∏îÊ≤°ÊúâÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÔºåËøôÊó∂Â¶ÇÊûúÁªßÁª≠Êèê‰∫§‰ªªÂä°ÔºåÂ∞±ÈúÄË¶ÅÈááÂèñ‰∏ÄÁßçÁ≠ñÁï•Â§ÑÁêÜËØ•‰ªªÂä°„ÄÇÁ∫øÁ®ãÊ±†Êèê‰æõ‰∫Ü4ÁßçÁ≠ñÁï•Ôºö AbortPolicyÔºöÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏ÔºåËøôÊòØÈªòËÆ§Á≠ñÁï•Ôºõ CallerRunsPolicyÔºöÁî®Ë∞ÉÁî®ËÄÖÊâÄÂú®ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°Ôºõ DiscardOldestPolicyÔºö‰∏¢ÂºÉÈòªÂ°ûÈòüÂàó‰∏≠Èù†ÊúÄÂâçÁöÑ‰ªªÂä°ÔºåÂπ∂ÊâßË°åÂΩìÂâç‰ªªÂä°Ôºõ DiscardPolicyÔºöÁõ¥Êé•‰∏¢ÂºÉ‰ªªÂä°Ôºõ executeÊñπÊ≥ïexecute()ÊñπÊ≥ïÁî®Êù•Êèê‰∫§‰ªªÂä° Âú®ÊâßË°åexecute()ÊñπÊ≥ïÊó∂Â¶ÇÊûúÁä∂ÊÄÅ‰∏ÄÁõ¥ÊòØRUNNINGÊó∂ÔºåÊâßË°åËøáÁ®ãÂ¶Ç‰∏ãÔºö Â¶ÇÊûúworkerCount &lt; corePoolSizeÔºåÂàôÂàõÂª∫Âπ∂ÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°åÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°Ôºõ Â¶ÇÊûúworkerCount &gt;= corePoolSizeÔºå‰∏îÁ∫øÁ®ãÊ±†ÂÜÖÁöÑÈòªÂ°ûÈòüÂàóÊú™Êª°ÔºåÂàôÂ∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞ËØ•ÈòªÂ°ûÈòüÂàó‰∏≠Ôºõ Â¶ÇÊûúworkerCount &gt;= corePoolSize &amp;&amp; workerCount &lt; maximumPoolSizeÔºå‰∏îÁ∫øÁ®ãÊ±†ÂÜÖÁöÑÈòªÂ°ûÈòüÂàóÂ∑≤Êª°ÔºåÂàôÂàõÂª∫Âπ∂ÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°åÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°Ôºõ Â¶ÇÊûúworkerCount &gt;= maximumPoolSizeÔºåÂπ∂‰∏îÁ∫øÁ®ãÊ±†ÂÜÖÁöÑÈòªÂ°ûÈòüÂàóÂ∑≤Êª°, ÂàôÊ†πÊçÆÊãíÁªùÁ≠ñÁï•Êù•Â§ÑÁêÜËØ•‰ªªÂä°, ÈªòËÆ§ÁöÑÂ§ÑÁêÜÊñπÂºèÊòØÁõ¥Êé•ÊäõÂºÇÂ∏∏„ÄÇ ËøôÈáåË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãaddWorker(null, false);Ôºå‰πüÂ∞±ÊòØÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºå‰ΩÜÂπ∂Ê≤°Êúâ‰º†ÂÖ•‰ªªÂä°ÔºåÂõ†‰∏∫‰ªªÂä°Â∑≤ÁªèË¢´Ê∑ªÂä†Âà∞workQueue‰∏≠‰∫ÜÔºåÊâÄ‰ª•workerÂú®ÊâßË°åÁöÑÊó∂ÂÄôÔºå‰ºöÁõ¥Êé•‰ªéworkQueue‰∏≠Ëé∑Âèñ‰ªªÂä°„ÄÇÊâÄ‰ª•ÔºåÂú®workerCountOf(recheck) == 0Êó∂ÊâßË°åaddWorker(null, false);‰πüÊòØ‰∏∫‰∫Ü‰øùËØÅÁ∫øÁ®ãÊ±†Âú®RUNNINGÁä∂ÊÄÅ‰∏ãÂøÖÈ°ªË¶ÅÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇ executeÊñπÊ≥ïÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÔºö addWorkerÊñπÊ≥ïaddWorkerÊñπÊ≥ïÁöÑ‰∏ªË¶ÅÂ∑•‰ΩúÊòØÂú®Á∫øÁ®ãÊ±†‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÂπ∂ÊâßË°åÔºåfirstTaskÂèÇÊï∞ Áî®‰∫éÊåáÂÆöÊñ∞Â¢ûÁöÑÁ∫øÁ®ãÊâßË°åÁöÑÁ¨¨‰∏Ä‰∏™‰ªªÂä°ÔºåcoreÂèÇÊï∞‰∏∫trueË°®Á§∫Âú®Êñ∞Â¢ûÁ∫øÁ®ãÊó∂‰ºöÂà§Êñ≠ÂΩìÂâçÊ¥ªÂä®Á∫øÁ®ãÊï∞ÊòØÂê¶Â∞ë‰∫écorePoolSizeÔºåfalseË°®Á§∫Êñ∞Â¢ûÁ∫øÁ®ãÂâçÈúÄË¶ÅÂà§Êñ≠ÂΩìÂâçÊ¥ªÂä®Á∫øÁ®ãÊï∞ÊòØÂê¶Â∞ë‰∫émaximumPoolSize 123private boolean addWorker(Runnable firstTask, boolean core) &#123; ...&#125; ÂêØÂä®Êó∂‰ºöË∞ÉÁî®WorkerÁ±ª‰∏≠ÁöÑrunÊñπÊ≥ïÔºåWorkerÊú¨Ë∫´ÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÔºåÊâÄ‰ª•‰∏Ä‰∏™WorkerÁ±ªÂûãÁöÑÂØπË±°‰πüÊòØ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ WorkerÁ±ªÔºàËøôÊòØ‰∏Ä‰∏™Á±ªÔºâÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÊØè‰∏Ä‰∏™Á∫øÁ®ãË¢´Â∞ÅË£ÖÊàê‰∏Ä‰∏™WorkerÂØπË±°ÔºåThreadPoolÁª¥Êä§ÁöÑÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÁªÑWorkerÂØπË±° 123456789101112private final class Worker extends AbstractQueuedSynchronizer implements Runnable&#123; //ÊûÑÈÄ†ÊñπÊ≥ï Worker(Runnable firstTask) &#123; setState(-1); // -1ÔºöÁ¶ÅÊ≠¢Âú®ÊâßË°å‰ªªÂä°ÂâçÂØπÁ∫øÁ®ãËøõË°å‰∏≠Êñ≠ this.firstTask = firstTask; this.thread = getThreadFactory().newThread(this); &#125; /** ËøêË°åÊñπÊ≥ï*/ public void run() &#123; runWorker(this); &#125;&#125; WorkerÁ±ªÁªßÊâø‰∫ÜAQSÔºåÂπ∂ÂÆûÁé∞‰∫ÜRunnableÊé•Âè£ÔºåÊ≥®ÊÑèÂÖ∂‰∏≠ÁöÑfirstTaskÂíåthreadÂ±ûÊÄßÔºöfirstTaskÁî®ÂÆÉÊù•‰øùÂ≠ò‰º†ÂÖ•ÁöÑ‰ªªÂä°ÔºõthreadÊòØÂú®Ë∞ÉÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊó∂ÈÄöËøáThreadFactoryÊù•ÂàõÂª∫ÁöÑÁ∫øÁ®ãÔºåÊòØÁî®Êù•Â§ÑÁêÜ‰ªªÂä°ÁöÑÁ∫øÁ®ã„ÄÇ Âú®Ë∞ÉÁî®ÊûÑÈÄ†ÊñπÊ≥ïÊó∂ÔºåÈúÄË¶ÅÊää‰ªªÂä°‰º†ÂÖ•ÔºåËøôÈáåÈÄöËøágetThreadFactory().newThread(this);Êù•Êñ∞Âª∫‰∏Ä‰∏™Á∫øÁ®ãÔºånewThreadÊñπÊ≥ï‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØthisÔºåÂõ†‰∏∫WorkerÊú¨Ë∫´ÁªßÊâø‰∫ÜRunnableÊé•Âè£Ôºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÊâÄ‰ª•‰∏Ä‰∏™WorkerÂØπË±°Âú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöË∞ÉÁî®WorkerÁ±ª‰∏≠ÁöÑrunÊñπÊ≥ï„ÄÇ WorkerÁªßÊâø‰∫ÜAQSÔºå‰ΩøÁî®AQSÊù•ÂÆûÁé∞Áã¨Âç†ÈîÅÁöÑÂäüËÉΩ„ÄÇ‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®ReentrantLockÊù•ÂÆûÁé∞Âë¢ÔºüÂèØ‰ª•ÁúãÂà∞tryAcquireÊñπÊ≥ïÔºåÂÆÉÊòØ‰∏çÂÖÅËÆ∏ÈáçÂÖ•ÁöÑÔºåËÄåReentrantLockÊòØÂÖÅËÆ∏ÈáçÂÖ•ÁöÑÔºö lockÊñπÊ≥ï‰∏ÄÊó¶Ëé∑Âèñ‰∫ÜÁã¨Âç†ÈîÅÔºåË°®Á§∫ÂΩìÂâçÁ∫øÁ®ãÊ≠£Âú®ÊâßË°å‰ªªÂä°‰∏≠Ôºõ Â¶ÇÊûúÊ≠£Âú®ÊâßË°å‰ªªÂä°ÔºåÂàô‰∏çÂ∫îËØ•‰∏≠Êñ≠Á∫øÁ®ãÔºõ Â¶ÇÊûúËØ•Á∫øÁ®ãÁé∞Âú®‰∏çÊòØÁã¨Âç†ÈîÅÁöÑÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØÁ©∫Èó≤ÁöÑÁä∂ÊÄÅÔºåËØ¥ÊòéÂÆÉÊ≤°ÊúâÂú®Â§ÑÁêÜ‰ªªÂä°ÔºåËøôÊó∂ÂèØ‰ª•ÂØπËØ•Á∫øÁ®ãËøõË°å‰∏≠Êñ≠Ôºõ Á∫øÁ®ãÊ±†Âú®ÊâßË°åshutdownÊñπÊ≥ïÊàñtryTerminateÊñπÊ≥ïÊó∂‰ºöË∞ÉÁî®interruptIdleWorkersÊñπÊ≥ïÊù•‰∏≠Êñ≠Á©∫Èó≤ÁöÑÁ∫øÁ®ãÔºåinterruptIdleWorkersÊñπÊ≥ï‰ºö‰ΩøÁî®tryLockÊñπÊ≥ïÊù•Âà§Êñ≠Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊòØÂê¶ÊòØÁ©∫Èó≤Áä∂ÊÄÅÔºõ ‰πãÊâÄ‰ª•ËÆæÁΩÆ‰∏∫‰∏çÂèØÈáçÂÖ•ÔºåÊòØÂõ†‰∏∫Êàë‰ª¨‰∏çÂ∏åÊúõ‰ªªÂä°Âú®Ë∞ÉÁî®ÂÉèsetCorePoolSizeËøôÊ†∑ÁöÑÁ∫øÁ®ãÊ±†ÊéßÂà∂ÊñπÊ≥ïÊó∂ÈáçÊñ∞Ëé∑ÂèñÈîÅ„ÄÇÂ¶ÇÊûú‰ΩøÁî®ReentrantLockÔºåÂÆÉÊòØÂèØÈáçÂÖ•ÁöÑÔºåËøôÊ†∑Â¶ÇÊûúÂú®‰ªªÂä°‰∏≠Ë∞ÉÁî®‰∫ÜÂ¶ÇsetCorePoolSizeËøôÁ±ªÁ∫øÁ®ãÊ±†ÊéßÂà∂ÁöÑÊñπÊ≥ïÔºå‰ºö‰∏≠Êñ≠Ê≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ã„ÄÇ ÊâÄ‰ª•ÔºåWorkerÁªßÊâøËá™AQSÔºåÁî®‰∫éÂà§Êñ≠Á∫øÁ®ãÊòØÂê¶Á©∫Èó≤‰ª•ÂèäÊòØÂê¶ÂèØ‰ª•Ë¢´‰∏≠Êñ≠„ÄÇ Á∫øÁ®ãÊ±†ÁöÑÁõëÊéßÈÄöËøáÁ∫øÁ®ãÊ±†Êèê‰æõÁöÑÂèÇÊï∞ËøõË°åÁõëÊéß„ÄÇÁ∫øÁ®ãÊ±†ÈáåÊúâ‰∏Ä‰∫õÂ±ûÊÄßÂú®ÁõëÊéßÁ∫øÁ®ãÊ±†ÁöÑÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî® getTaskCountÔºöÁ∫øÁ®ãÊ±†Â∑≤ÁªèÊâßË°åÁöÑÂíåÊú™ÊâßË°åÁöÑ‰ªªÂä°ÊÄªÊï∞Ôºõ getCompletedTaskCountÔºöÁ∫øÁ®ãÊ±†Â∑≤ÂÆåÊàêÁöÑ‰ªªÂä°Êï∞ÈáèÔºåËØ•ÂÄºÂ∞è‰∫éÁ≠â‰∫étaskCountÔºõ getLargestPoolSizeÔºöÁ∫øÁ®ãÊ±†ÊõæÁªèÂàõÂª∫ËøáÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞Èáè„ÄÇÈÄöËøáËøô‰∏™Êï∞ÊçÆÂèØ‰ª•Áü•ÈÅìÁ∫øÁ®ãÊ±†ÊòØÂê¶Êª°ËøáÔºå‰πüÂ∞±ÊòØËææÂà∞‰∫ÜmaximumPoolSizeÔºõ getPoolSizeÔºöÁ∫øÁ®ãÊ±†ÂΩìÂâçÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºõ getActiveCountÔºöÂΩìÂâçÁ∫øÁ®ãÊ±†‰∏≠Ê≠£Âú®ÊâßË°å‰ªªÂä°ÁöÑÁ∫øÁ®ãÊï∞Èáè„ÄÇ ÈÄöËøáËøô‰∫õÊñπÊ≥ïÔºåÂèØ‰ª•ÂØπÁ∫øÁ®ãÊ±†ËøõË°åÁõëÊéßÔºåÂú®ThreadPoolExecutorÁ±ª‰∏≠Êèê‰æõ‰∫ÜÂá†‰∏™Á©∫ÊñπÊ≥ïÔºåÂ¶ÇbeforeExecuteÊñπÊ≥ïÔºåafterExecuteÊñπÊ≥ïÂíåterminatedÊñπÊ≥ïÔºåÂèØ‰ª•Êâ©Â±ïËøô‰∫õÊñπÊ≥ïÂú®ÊâßË°åÂâçÊàñÊâßË°åÂêéÂ¢ûÂä†‰∏Ä‰∫õÊñ∞ÁöÑÊìç‰ΩúÔºå‰æãÂ¶ÇÁªüËÆ°Á∫øÁ®ãÊ±†ÁöÑÊâßË°å‰ªªÂä°ÁöÑÊó∂Èó¥Á≠âÔºåÂèØ‰ª•ÁªßÊâøËá™ThreadPoolExecutorÊù•ËøõË°åÊâ©Â±ï„ÄÇ Á∫øÁ®ãÊ±†ËøõÈò∂ÔºöScheduledThreadPoolExecutorËá™JDK1.5ÂºÄÂßãÔºåJDKÊèê‰æõ‰∫ÜScheduledThreadPoolExecutorÁ±ªÊù•ÊîØÊåÅÂë®ÊúüÊÄß‰ªªÂä°ÁöÑË∞ÉÂ∫¶„ÄÇÂú®Ëøô‰πãÂâçÁöÑÂÆûÁé∞ÈúÄË¶Å‰æùÈù†TimerÂíåTimerTaskÊàñËÄÖÂÖ∂ÂÆÉÁ¨¨‰∏âÊñπÂ∑•ÂÖ∑Êù•ÂÆåÊàê„ÄÇ‰ΩÜTimerÊúâ‰∏çÂ∞ëÁöÑÁº∫Èô∑Ôºö TimerÊòØÂçïÁ∫øÁ®ãÊ®°ÂºèÔºõ Â¶ÇÊûúÂú®ÊâßË°å‰ªªÂä°ÊúüÈó¥Êüê‰∏™TimerTaskËÄóÊó∂ËæÉ‰πÖÔºåÈÇ£‰πàÂ∞±‰ºöÂΩ±ÂìçÂÖ∂ÂÆÉ‰ªªÂä°ÁöÑË∞ÉÂ∫¶Ôºõ TimerÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶ÊòØÂü∫‰∫éÁªùÂØπÊó∂Èó¥ÁöÑÔºåÂØπÁ≥ªÁªüÊó∂Èó¥ÊïèÊÑüÔºõ Timer‰∏ç‰ºöÊçïËé∑ÊâßË°åTimerTaskÊó∂ÊâÄÊäõÂá∫ÁöÑÂºÇÂ∏∏ÔºåÁî±‰∫éTimerÊòØÂçïÁ∫øÁ®ãÔºåÊâÄ‰ª•‰∏ÄÊó¶Âá∫Áé∞ÂºÇÂ∏∏ÔºåÂàôÁ∫øÁ®ãÂ∞±‰ºöÁªàÊ≠¢ÔºåÂÖ∂‰ªñ‰ªªÂä°‰πüÂæó‰∏çÂà∞ÊâßË°å„ÄÇ ScheduledThreadPoolExecutorÁªßÊâøThreadPoolExecutorÊù•ÈáçÁî®Á∫øÁ®ãÊ±†ÁöÑÂäüËÉΩÔºåÂÆÉÁöÑÂÆûÁé∞ÊñπÂºèÂ¶Ç‰∏ãÔºö Â∞Ü‰ªªÂä°Â∞ÅË£ÖÊàêScheduledFutureTaskÂØπË±°ÔºåScheduledFutureTaskÂü∫‰∫éÁõ∏ÂØπÊó∂Èó¥Ôºå‰∏çÂèóÁ≥ªÁªüÊó∂Èó¥ÁöÑÊîπÂèòÊâÄÂΩ±ÂìçÔºõ ScheduledFutureTaskÂÆûÁé∞‰∫Üjava.lang.ComparableÊé•Âè£Âíåjava.util.concurrent.DelayedÊé•Âè£ÔºåÊâÄ‰ª•Êúâ‰∏§‰∏™ÈáçË¶ÅÁöÑÊñπÊ≥ïÔºöcompareToÂíågetDelay„ÄÇcompareToÊñπÊ≥ïÁî®‰∫éÊØîËæÉ‰ªªÂä°‰πãÈó¥ÁöÑ‰ºòÂÖàÁ∫ßÂÖ≥Á≥ªÔºåÂ¶ÇÊûúË∑ùÁ¶ª‰∏ãÊ¨°ÊâßË°åÁöÑÊó∂Èó¥Èó¥ÈöîËæÉÁü≠ÔºåÂàô‰ºòÂÖàÁ∫ßÈ´òÔºõgetDelayÊñπÊ≥ïÁî®‰∫éËøîÂõûË∑ùÁ¶ª‰∏ãÊ¨°‰ªªÂä°ÊâßË°åÊó∂Èó¥ÁöÑÊó∂Èó¥Èó¥ÈöîÔºõ ScheduledThreadPoolExecutorÂÆö‰πâ‰∫Ü‰∏Ä‰∏™DelayedWorkQueueÔºåÂÆÉÊòØ‰∏Ä‰∏™ÊúâÂ∫èÈòüÂàóÔºå‰ºöÈÄöËøáÊØè‰∏™‰ªªÂä°ÊåâÁÖßË∑ùÁ¶ª‰∏ãÊ¨°ÊâßË°åÊó∂Èó¥Èó¥ÈöîÁöÑÂ§ßÂ∞èÊù•ÊéíÂ∫èÔºõ ScheduledFutureTaskÁªßÊâøËá™FutureTaskÔºåÂèØ‰ª•ÈÄöËøáËøîÂõûFutureÂØπË±°Êù•Ëé∑ÂèñÊâßË°åÁöÑÁªìÊûú„ÄÇ ÈÄöËøáÂ¶Ç‰∏äÁöÑ‰ªãÁªçÔºåÂèØ‰ª•ÂØπÊØî‰∏Ä‰∏ãTimerÂíåScheduledThreadPoolExecutorÔºö Timer ScheduledThreadPoolExecutor ÂçïÁ∫øÁ®ã Â§öÁ∫øÁ®ã Âçï‰∏™‰ªªÂä°ÊâßË°åÊó∂Èó¥ÂΩ±ÂìçÂÖ∂‰ªñ‰ªªÂä°Ë∞ÉÂ∫¶ Â§öÁ∫øÁ®ãÔºå‰∏ç‰ºöÂΩ±Âìç Âü∫‰∫éÁªùÂØπÊó∂Èó¥ Âü∫‰∫éÁõ∏ÂØπÊó∂Èó¥ ‰∏ÄÊó¶ÊâßË°å‰ªªÂä°Âá∫Áé∞ÂºÇÂ∏∏‰∏ç‰ºöÊçïËé∑ÔºåÂÖ∂‰ªñ‰ªªÂä°Âæó‰∏çÂà∞ÊâßË°å Â§öÁ∫øÁ®ãÔºåÂçï‰∏™‰ªªÂä°ÁöÑÊâßË°å‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÁ∫øÁ®ã ÊâÄ‰ª•ÔºåÂú®JDK1.5‰πãÂêéÔºåÂ∫îËØ•Ê≤°‰ªÄ‰πàÁêÜÁî±ÁªßÁª≠‰ΩøÁî®TimerËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶‰∫Ü„ÄÇ ScheduledThreadPoolExecutorÁöÑÊûÑÈÄ†ÊñπÊ≥ïScheduledThreadPoolExecutorÊúâ3‰∏≠ÊûÑÈÄ†ÊñπÊ≥ïÔºö 12345678910111213141516public ScheduledThreadPoolExecutor(int corePoolSize, ThreadFactory threadFactory) &#123; super(corePoolSize, Integer.MAX_VALUE, 0, NANOSECONDS, new DelayedWorkQueue(), threadFactory);&#125;public ScheduledThreadPoolExecutor(int corePoolSize, RejectedExecutionHandler handler) &#123; super(corePoolSize, Integer.MAX_VALUE, 0, NANOSECONDS, new DelayedWorkQueue(), handler);&#125;public ScheduledThreadPoolExecutor(int corePoolSize, ThreadFactory threadFactory, RejectedExecutionHandler handler) &#123; super(corePoolSize, Integer.MAX_VALUE, 0, NANOSECONDS, new DelayedWorkQueue(), threadFactory, handler);&#125; Âõ†‰∏∫ScheduledThreadPoolExecutorÁªßÊâøËá™ThreadPoolExecutorÔºåÊâÄ‰ª•ËøôÈáåÈÉΩÊòØË∞ÉÁî®ÁöÑThreadPoolExecutorÁ±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï„ÄÇ Á¨¨‰∏ÄÁßçÊûÑÈÄ†ÊñπÊ≥ïÁ§∫‰æãÔºö 123scheduler = new ScheduledThreadPoolExecutor(20, threadFactory("BDP-Default-Scheduler-Thread-", true)) scheduler.setMaximumPoolSize(20) scheduler.setKeepAliveTime(5, TimeUnit.MINUTES) scheduleAtFixedRateÊñπÊ≥ïËØ•ÊñπÊ≥ïËÆæÁΩÆ‰∫ÜÊâßË°åÂë®ÊúüÔºå‰∏ã‰∏ÄÊ¨°ÊâßË°åÊó∂Èó¥Áõ∏ÂΩì‰∫éÊòØ‰∏ä‰∏ÄÊ¨°ÁöÑÊâßË°åÊó∂Èó¥Âä†‰∏äperiodÔºåÂÆÉÊòØÈááÁî®Â∑≤Âõ∫ÂÆöÁöÑÈ¢ëÁéáÊù•ÊâßË°å‰ªªÂä°Ôºö 123456public ScheduledFuture&lt;?&gt; scheduleAtFixedRate(Runnable command, long initialDelay, long period, TimeUnit unit) &#123; ...&#125; ÊÄªÁªìScheduedThreadPoolExecutorÁöÑÂÆûÁé∞Ôºå‰∏ªË¶Å‰ªãÁªç‰∫Ü‰ª•‰∏ãÊñπÈù¢Ôºö ScheduledThreadPoolExecutorÁªßÊâøËá™ThreadPoolExecutorÔºåÊâÄ‰ª•ÂÆÉ‰πüÊòØ‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºå‰πüÊúâcoorPoolSizeÂíåworkQueueÔºåScheduledThreadPoolExecutorÁâπÊÆäÁöÑÂú∞ÊñπÂú®‰∫éÔºåËá™Â∑±ÂÆûÁé∞‰∫Ü‰ºòÂÖàÂ∑•‰ΩúÈòüÂàóDelayedWorkQueueÔºõ ScheduedThreadPoolExecutorÂÆûÁé∞‰∫ÜScheduledExecutorServiceÔºåÊâÄ‰ª•Â∞±Êúâ‰∫Ü‰ªªÂä°Ë∞ÉÂ∫¶ÁöÑÊñπÊ≥ïÔºåÂ¶ÇscheduleÔºåscheduleAtFixedRateÂíåscheduleWithFixedDelayÔºåÂêåÊó∂Ê≥®ÊÑè‰ªñ‰ª¨‰πãÈó¥ÁöÑÂå∫Âà´Ôºõ ÂÜÖÈÉ®Á±ªScheduledFutureTaskÁªßÊâøËá™FutureTaskÔºåÂÆûÁé∞‰∫Ü‰ªªÂä°ÁöÑÂºÇÊ≠•ÊâßË°åÂπ∂‰∏îÂèØ‰ª•Ëé∑ÂèñËøîÂõûÁªìÊûú„ÄÇÂêåÊó∂‰πüÂÆûÁé∞‰∫ÜDelayedÊé•Âè£ÔºåÂèØ‰ª•ÈÄöËøágetDelayÊñπÊ≥ïËé∑ÂèñÂ∞ÜË¶ÅÊâßË°åÁöÑÊó∂Èó¥Èó¥ÈöîÔºõ Âë®Êúü‰ªªÂä°ÁöÑÊâßË°åÂÖ∂ÂÆûÊòØË∞ÉÁî®‰∫ÜFutureTaskÁ±ª‰∏≠ÁöÑrunAndResetÊñπÊ≥ïÔºåÊØèÊ¨°ÊâßË°åÂÆå‰∏çËÆæÁΩÆÁªìÊûúÂíåÁä∂ÊÄÅ„ÄÇ ËØ¶ÁªÜÂàÜÊûê‰∫ÜDelayedWorkQueueÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂÆÉÊòØ‰∏Ä‰∏™Âü∫‰∫éÊúÄÂ∞èÂ†ÜÁªìÊûÑÁöÑ‰ºòÂÖàÈòüÂàóÔºåÂπ∂‰∏îÊØèÊ¨°Âá∫ÈòüÊó∂ËÉΩÂ§ü‰øùËØÅÂèñÂá∫ÁöÑ‰ªªÂä°ÊòØÂΩìÂâçÈòüÂàó‰∏≠‰∏ãÊ¨°ÊâßË°åÊó∂Èó¥ÊúÄÂ∞èÁöÑ‰ªªÂä°„ÄÇÂêåÊó∂Ê≥®ÊÑè‰∏Ä‰∏ã‰ºòÂÖàÈòüÂàó‰∏≠Â†ÜÁöÑÈ°∫Â∫èÔºåÂ†Ü‰∏≠ÁöÑÈ°∫Â∫èÂπ∂‰∏çÊòØÁªùÂØπÁöÑÔºå‰ΩÜË¶Å‰øùËØÅÂ≠êËäÇÁÇπÁöÑÂÄºË¶ÅÊØîÁà∂ËäÇÁÇπÁöÑÂÄºË¶ÅÂ§ßÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÂΩ±ÂìçÂá∫ÈòüÁöÑÈ°∫Â∫è„ÄÇ ÊÄª‰ΩìÊù•ËØ¥ÔºåScheduedThreadPoolExecutorÁöÑÈáçÁÇπÊòØË¶ÅÁêÜËß£‰∏ãÊ¨°ÊâßË°åÊó∂Èó¥ÁöÑËÆ°ÁÆóÔºå‰ª•Âèä‰ºòÂÖàÈòüÂàóÁöÑÂá∫Èòü„ÄÅÂÖ•ÈòüÂíåÂà†Èô§ÁöÑËøáÁ®ãÔºåËøô‰∏§‰∏™ÊòØÁêÜËß£ScheduedThreadPoolExecutorÁöÑÂÖ≥ÈîÆ„ÄÇ]]></content>
      <tags>
        <tag>-Thread</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tcp-http-socketÂå∫Âà´]]></title>
    <url>%2F2019%2F11%2F19%2Ftcp-http-socket%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[HTTP„ÄÅTCPÂíåSocketÁöÑÊ¶ÇÂøµÂíåÂéüÁêÜÂèäÂÖ∂Âå∫Âà´‰∏Ä„ÄÅHTTPHTTPÁÆÄ‰ªã ‚ë†HTTPÂçèËÆÆÊòØHyper Text Transfer ProtocolÔºàË∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºâÁöÑÁº©ÂÜô,ÊòØÁî®‰∫é‰ªé‰∏áÁª¥ÁΩëÔºàWWW:World Wide Web ÔºâÊúçÂä°Âô®‰º†ËæìË∂ÖÊñáÊú¨Âà∞Êú¨Âú∞ÊµèËßàÂô®ÁöÑ‰º†ÈÄÅÂçèËÆÆ„ÄÇ‚ë°HTTPÊòØ‰∏Ä‰∏™Âü∫‰∫éTCP/IPÈÄö‰ø°ÂçèËÆÆÊù•‰º†ÈÄíÊï∞ÊçÆÔºàHTML Êñá‰ª∂, ÂõæÁâáÊñá‰ª∂, Êü•ËØ¢ÁªìÊûúÁ≠âÔºâ„ÄÇ‚ë¢HTTPÊòØ‰∏Ä‰∏™Â±û‰∫éÂ∫îÁî®Â±ÇÁöÑÈù¢ÂêëÂØπË±°ÁöÑÂçèËÆÆÔºåÁî±‰∫éÂÖ∂ÁÆÄÊç∑„ÄÅÂø´ÈÄüÁöÑÊñπÂºèÔºåÈÄÇÁî®‰∫éÂàÜÂ∏ÉÂºèË∂ÖÂ™í‰Ωì‰ø°ÊÅØÁ≥ªÁªü„ÄÇÂÆÉ‰∫é1990Âπ¥ÊèêÂá∫ÔºåÁªèËøáÂá†Âπ¥ÁöÑ‰ΩøÁî®‰∏éÂèëÂ±ïÔºåÂæóÂà∞‰∏çÊñ≠Âú∞ÂÆåÂñÑÂíåÊâ©Â±ï„ÄÇÁõÆÂâçÂú®WWW‰∏≠‰ΩøÁî®ÁöÑÊòØHTTP/1.0ÁöÑÁ¨¨ÂÖ≠ÁâàÔºåHTTP/1.1ÁöÑËßÑËåÉÂåñÂ∑•‰ΩúÊ≠£Âú®ËøõË°å‰πã‰∏≠ÔºåËÄå‰∏îHTTP-NG(Next Generation of HTTP)ÁöÑÂª∫ËÆÆÂ∑≤ÁªèÊèêÂá∫„ÄÇ‚ë£HTTPÂçèËÆÆÂ∑•‰Ωú‰∫éÂÆ¢Êà∑Á´Ø-ÊúçÂä°Á´ØÊû∂ÊûÑ‰∏∫‰∏ä„ÄÇÊµèËßàÂô®‰Ωú‰∏∫HTTPÂÆ¢Êà∑Á´ØÈÄöËøáURLÂêëHTTPÊúçÂä°Á´ØÂç≥WEBÊúçÂä°Âô®ÂèëÈÄÅÊâÄÊúâËØ∑Ê±Ç„ÄÇWebÊúçÂä°Âô®Ê†πÊçÆÊé•Êî∂Âà∞ÁöÑËØ∑Ê±ÇÂêéÔºåÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅÂìçÂ∫î‰ø°ÊÅØ„ÄÇ HTTPÁöÑ‰∏ªË¶ÅÁâπÁÇπ‰∏ªË¶ÅÁâπÁÇπ 1„ÄÅÁÆÄÂçïÂø´ÈÄüÔºöÂÆ¢Êà∑ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊúçÂä°Êó∂ÔºåÂè™ÈúÄ‰º†ÈÄÅËØ∑Ê±ÇÊñπÊ≥ïÂíåË∑ØÂæÑ„ÄÇËØ∑Ê±ÇÊñπÊ≥ïÂ∏∏Áî®ÁöÑÊúâGET„ÄÅHEAD„ÄÅPOST„ÄÇÊØèÁßçÊñπÊ≥ïËßÑÂÆö‰∫ÜÂÆ¢Êà∑‰∏éÊúçÂä°Âô®ËÅîÁ≥ªÁöÑÁ±ªÂûã‰∏çÂêå„ÄÇÁî±‰∫éHTTPÂçèËÆÆÁÆÄÂçïÔºå‰ΩøÂæóHTTPÊúçÂä°Âô®ÁöÑÁ®ãÂ∫èËßÑÊ®°Â∞èÔºåÂõ†ËÄåÈÄö‰ø°ÈÄüÂ∫¶ÂæàÂø´„ÄÇ 2„ÄÅÁÅµÊ¥ªÔºöHTTPÂÖÅËÆ∏‰º†Ëæì‰ªªÊÑèÁ±ªÂûãÁöÑÊï∞ÊçÆÂØπË±°„ÄÇÊ≠£Âú®‰º†ËæìÁöÑÁ±ªÂûãÁî±Content-TypeÂä†‰ª•Ê†áËÆ∞„ÄÇ 3.Êó†ËøûÊé•ÔºöÊó†ËøûÊé•ÁöÑÂê´‰πâÊòØÈôêÂà∂ÊØèÊ¨°ËøûÊé•Âè™Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±Ç„ÄÇÊúçÂä°Âô®Â§ÑÁêÜÂÆåÂÆ¢Êà∑ÁöÑËØ∑Ê±ÇÔºåÂπ∂Êî∂Âà∞ÂÆ¢Êà∑ÁöÑÂ∫îÁ≠îÂêéÔºåÂç≥Êñ≠ÂºÄËøûÊé•„ÄÇÈááÁî®ËøôÁßçÊñπÂºèÂèØ‰ª•ËäÇÁúÅ‰º†ËæìÊó∂Èó¥„ÄÇ 4.Êó†Áä∂ÊÄÅÔºöHTTPÂçèËÆÆÊòØÊó†Áä∂ÊÄÅÂçèËÆÆ„ÄÇÊó†Áä∂ÊÄÅÊòØÊåáÂçèËÆÆÂØπ‰∫é‰∫ãÂä°Â§ÑÁêÜÊ≤°ÊúâËÆ∞ÂøÜËÉΩÂäõ„ÄÇÁº∫Â∞ëÁä∂ÊÄÅÊÑèÂë≥ÁùÄÂ¶ÇÊûúÂêéÁª≠Â§ÑÁêÜÈúÄË¶ÅÂâçÈù¢ÁöÑ‰ø°ÊÅØÔºåÂàôÂÆÉÂøÖÈ°ªÈáç‰º†ÔºåËøôÊ†∑ÂèØËÉΩÂØºËá¥ÊØèÊ¨°ËøûÊé•‰º†ÈÄÅÁöÑÊï∞ÊçÆÈáèÂ¢ûÂ§ß„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂú®ÊúçÂä°Âô®‰∏çÈúÄË¶ÅÂÖàÂâç‰ø°ÊÅØÊó∂ÂÆÉÁöÑÂ∫îÁ≠îÂ∞±ËæÉÂø´„ÄÇ 5„ÄÅÊîØÊåÅB/SÂèäC/SÊ®°Âºè„ÄÇ HTTPÁöÑÁêÜËß£ÔºàÊ≠§ÊÆµÊëòÊäÑ‰∫é HttpÂçèËÆÆ‰∏éTCPÂçèËÆÆÁÆÄÂçïÁêÜËß£ÂêéÁª≠Ôºâ‰∏Ä„ÄÅ TCPÂçèËÆÆÂØπÂ∫î‰∫é‰º†ËæìÂ±ÇÔºåËÄåHTTPÂçèËÆÆÂØπÂ∫î‰∫éÂ∫îÁî®Â±ÇÔºå‰ªéÊú¨Ë¥®‰∏äÊù•ËØ¥Ôºå‰∫åËÄÖÊ≤°ÊúâÂèØÊØîÊÄß„ÄÇHttpÂçèËÆÆÊòØÂª∫Á´ãÂú®TCPÂçèËÆÆÂü∫Á°Ä‰πã‰∏äÁöÑÔºåÂΩìÊµèËßàÂô®ÈúÄË¶Å‰ªéÊúçÂä°Âô®Ëé∑ÂèñÁΩëÈ°µÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºå‰ºöÂèëÂá∫‰∏ÄÊ¨°HttpËØ∑Ê±Ç„ÄÇHttp‰ºöÈÄöËøáTCPÂª∫Á´ãËµ∑‰∏Ä‰∏™Âà∞ÊúçÂä°Âô®ÁöÑËøûÊé•ÈÄöÈÅìÔºåÂΩìÊú¨Ê¨°ËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂÆåÊØïÂêéÔºåHttp‰ºöÁ´ãÂç≥Â∞ÜTCPËøûÊé•Êñ≠ÂºÄÔºåËøô‰∏™ËøáÁ®ãÊòØÂæàÁü≠ÁöÑ„ÄÇÊâÄ‰ª•HttpËøûÊé•ÊòØ‰∏ÄÁßçÁü≠ËøûÊé•ÔºåÊòØ‰∏ÄÁßçÊó†Áä∂ÊÄÅÁöÑËøûÊé•„ÄÇÊâÄË∞ìÁöÑÊó†Áä∂ÊÄÅÔºåÊòØÊåáÊµèËßàÂô®ÊØèÊ¨°ÂêëÊúçÂä°Âô®ÂèëËµ∑ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÔºå‰∏çÊòØÈÄöËøá‰∏Ä‰∏™ËøûÊé•ÔºåËÄåÊòØÊØèÊ¨°ÈÉΩÂª∫Á´ã‰∏Ä‰∏™Êñ∞ÁöÑËøûÊé•„ÄÇÂ¶ÇÊûúÊòØ‰∏Ä‰∏™ËøûÊé•ÁöÑËØùÔºåÊúçÂä°Âô®ËøõÁ®ã‰∏≠Â∞±ËÉΩ‰øùÊåÅ‰ΩèËøô‰∏™ËøûÊé•Âπ∂‰∏îÂú®ÂÜÖÂ≠ò‰∏≠ËÆ∞‰Ωè‰∏Ä‰∫õ‰ø°ÊÅØÁä∂ÊÄÅ„ÄÇËÄåÊØèÊ¨°ËØ∑Ê±ÇÁªìÊùüÂêéÔºåËøûÊé•Â∞±ÂÖ≥Èó≠ÔºåÁõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÂ∞±ÈáäÊîæ‰∫ÜÔºåÊâÄ‰ª•ËÆ∞‰∏ç‰Ωè‰ªª‰ΩïÁä∂ÊÄÅÔºåÊàê‰∏∫Êó†Áä∂ÊÄÅËøûÊé•„ÄÇ ‰∫å„ÄÅ ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåhtmlÈ°µÈù¢ÂèòÂæóÂ§çÊùÇ‰∫ÜÔºåÈáåÈù¢ÂèØËÉΩÂµåÂÖ•‰∫ÜÂæàÂ§öÂõæÁâáÔºåËøôÊó∂ÂÄôÊØèÊ¨°ËÆøÈóÆÂõæÁâáÈÉΩÈúÄË¶ÅÂª∫Á´ã‰∏ÄÊ¨°tcpËøûÊé•Â∞±ÊòæÂæó‰ΩéÊïà‰∫Ü„ÄÇÂõ†Ê≠§Keep-AliveË¢´ÊèêÂá∫Áî®Êù•Ëß£ÂÜ≥ÊïàÁéá‰ΩéÁöÑÈóÆÈ¢ò„ÄÇ‰ªéHTTP/1.1Ëµ∑ÔºåÈªòËÆ§ÈÉΩÂºÄÂêØ‰∫ÜKeep-AliveÔºå‰øùÊåÅËøûÊé•ÁâπÊÄßÔºåÁÆÄÂçïÂú∞ËØ¥ÔºåÂΩì‰∏Ä‰∏™ÁΩëÈ°µÊâìÂºÄÂÆåÊàêÂêéÔºåÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥Áî®‰∫é‰º†ËæìHTTPÊï∞ÊçÆÁöÑTCPËøûÊé•‰∏ç‰ºöÂÖ≥Èó≠ÔºåÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÂÜçÊ¨°ËÆøÈóÆËøô‰∏™ÊúçÂä°Âô®‰∏äÁöÑÁΩëÈ°µÔºå‰ºöÁªßÁª≠‰ΩøÁî®Ëøô‰∏ÄÊù°Â∑≤ÁªèÂª∫Á´ãÁöÑËøûÊé•Keep-Alive‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂÆÉÊúâ‰∏Ä‰∏™‰øùÊåÅÊó∂Èó¥ÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÊúçÂä°Âô®ËΩØ‰ª∂ÔºàÂ¶ÇApacheÔºâ‰∏≠ËÆæÂÆöËøô‰∏™Êó∂Èó¥„ÄÇËôΩÁÑ∂ËøôÈáå‰ΩøÁî®TCPËøûÊé•‰øùÊåÅ‰∫Ü‰∏ÄÊÆµÊó∂Èó¥Ôºå‰ΩÜÊòØËøô‰∏™Êó∂Èó¥ÊòØÊúâÈôêËåÉÂõ¥ÁöÑÔºåÂà∞‰∫ÜÊó∂Èó¥ÁÇπ‰æùÁÑ∂ÊòØ‰ºöÂÖ≥Èó≠ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨ËøòÊääÂÖ∂ÁúãÂÅöÊòØÊØèÊ¨°ËøûÊé•ÂÆåÊàêÂêéÂ∞±‰ºöÂÖ≥Èó≠„ÄÇÂêéÊù•ÔºåÈÄöËøáSession, CookieÁ≠âÁõ∏ÂÖ≥ÊäÄÊúØÔºå‰πüËÉΩ‰øùÊåÅ‰∏Ä‰∫õÁî®Êà∑ÁöÑÁä∂ÊÄÅ„ÄÇ‰ΩÜÊòØËøòÊòØÊØèÊ¨°ÈÉΩ‰ΩøÁî®‰∏Ä‰∏™ËøûÊé•Ôºå‰æùÁÑ∂ÊòØÊó†Áä∂ÊÄÅËøûÊé• ‰∏â„ÄÅ ‰∏∫‰ªÄ‰πàHttpÊòØÊó†Áä∂ÊÄÅÁöÑÁü≠ËøûÊé•Âë¢ÔºüËÄåTCPÊòØÊúâÁä∂ÊÄÅÁöÑÈïøËøûÊé•ÔºüHttp‰∏çÊòØÂª∫Á´ãÂú®TCPÁöÑÂü∫Á°Ä‰∏äÂêóÔºå‰∏∫‰ªÄ‰πàËøòËÉΩÊòØÁü≠ËøûÊé•ÔºüÁé∞Âú®ÊòéÁôΩ‰∫ÜÔºåHttpÂ∞±ÊòØÂú®ÊØèÊ¨°ËØ∑Ê±ÇÂÆåÊàêÂêéÂ∞±ÊääTCPËøûÊé•ÂÖ≥‰∫ÜÔºåÊâÄ‰ª•ÊòØÁü≠ËøûÊé•„ÄÇËÄåÊàë‰ª¨Áõ¥Êé•ÈÄöËøáSocketÁºñÁ®ã‰ΩøÁî®TCPÂçèËÆÆÁöÑÊó∂ÂÄôÔºåÂõ†‰∏∫Êàë‰ª¨Ëá™Â∑±ÂèØ‰ª•ÈÄöËøá‰ª£Á†ÅÂå∫ÊéßÂà∂‰ªÄ‰πàÊó∂ÂÄôÊâìÂºÄËøûÊé•‰ªÄ‰πàÊó∂ÂÄôÂÖ≥Èó≠ËøûÊé•ÔºåÂè™Ë¶ÅÊàë‰ª¨‰∏çÈÄöËøá‰ª£Á†ÅÊääËøûÊé•ÂÖ≥Èó≠ÔºåËøô‰∏™ËøûÊé•Â∞±‰ºöÂú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÁöÑËøõÁ®ã‰∏≠‰∏ÄÁõ¥Â≠òÂú®ÔºåÁõ∏ÂÖ≥Áä∂ÊÄÅÊï∞ÊçÆ‰ºö‰∏ÄÁõ¥‰øùÂ≠òÁùÄ„ÄÇ Âõõ„ÄÅ ÊØîËæÉÂΩ¢Ë±°ÁöÑÊèèËø∞ÔºöHTTPÊòØËΩøËΩ¶ÔºåÊèê‰æõ‰∫ÜÂ∞ÅË£ÖÊàñËÄÖÊòæÁ§∫Êï∞ÊçÆÁöÑÂÖ∑‰ΩìÂΩ¢Âºè;SocketÊòØÂèëÂä®Êú∫ÔºåÊèê‰æõ‰∫ÜÁΩëÁªúÈÄö‰ø°ÁöÑËÉΩÂäõ„ÄÇÂØπ‰∫é‰ªéC#ÁºñÁ®ãÁöÑËßíÂ∫¶Êù•ËÆ≤Ôºå‰∏∫‰∫ÜÊñπ‰æøÔºå‰Ω†ÂèØ‰ª•Áõ¥Êé•ÈÄâÊã©Â∑≤ÁªèÂà∂ÈÄ†Â•ΩÁöÑËΩøËΩ¶HttpÊù•‰∏éÊúçÂä°Âô®‰∫§‰∫í„ÄÇ‰ΩÜÊòØÊúâÊó∂ÂÄôÂæÄÂæÄÂõ†‰∏∫ÁéØÂ¢ÉÂõ†Á¥†ÊàñËÄÖÂÖ∂‰ªñÁöÑ‰∏Ä‰∫õÂÆöÂà∂ÁöÑËØ∑Ê±ÇÔºåÂøÖÈ°ªË¶Å‰ΩøÁî®TCPÂçèËÆÆÔºåËøôÊó∂Â∞±ÈúÄË¶Å‰ΩøÁî®SocketÁºñÁ®ãÔºåÁÑ∂ÂêéËá™Â∑±ÂéªÂ§ÑÁêÜËé∑ÂèñÁöÑÊï∞ÊçÆ„ÄÇÂ∞±ÂÉèÊòØ‰Ω†Áî®Â∑≤ÊúâÁöÑÂèëÂä®Êú∫ÔºåËá™Â∑±ÈÄ†‰∫Ü‰∏ÄËæÜÂç°ËΩ¶ÔºåÂéª‰ªéÊúçÂä°Âô®‰∫§‰∫í„ÄÇ HTTPÈÉΩÊääTCP‰Ωú‰∏∫Â∫ïÂ±ÇÁöÑ‰º†ËæìÂçèËÆÆ„ÄÇHTTPÂÆ¢Êà∑È¶ñÂÖàÂèëËµ∑Âª∫Á´ã‰∏éÊúçÂä°Âô®TCPËøûÊé•„ÄÇ‰∏ÄÊó¶Âª∫Á´ãËøûÊé•ÔºåÊµèËßàÂô®ËøõÁ®ãÂíåÊúçÂä°Âô®ËøõÁ®ãÂ∞±ÂèØ‰ª•ÈÄöËøáÂêÑËá™ÁöÑÂ•óÊé•Â≠óÊù•ËÆøÈóÆTCP„ÄÇÂ¶ÇÂâçÊâÄËø∞ÔºåÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠óÊòØÂÆ¢Êà∑ËøõÁ®ãÂíåTCPËøûÊé•‰πãÈó¥ÁöÑ‚ÄúÈó®‚ÄùÔºåÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÊòØÊúçÂä°Âô®ËøõÁ®ãÂíåÂêå‰∏ÄTCPËøûÊé•‰πãÈó¥ÁöÑ‚ÄúÈó®‚Äù„ÄÇÂÆ¢Êà∑ÂæÄËá™Â∑±ÁöÑÂ•óÊé•Â≠óÂèëÈÄÅHTTPËØ∑Ê±ÇÊ∂àÊÅØÔºå‰πü‰ªéËá™Â∑±ÁöÑÂ•óÊé•Â≠óÊé•Êî∂HTTPÂìçÂ∫îÊ∂àÊÅØ„ÄÇÁ±ª‰ººÂú∞ÔºåÊúçÂä°Âô®‰ªéËá™Â∑±ÁöÑÂ•óÊé•Â≠óÊé•Êî∂HTTPËØ∑Ê±ÇÊ∂àÊÅØÔºå‰πüÂæÄËá™Â∑±ÁöÑÂ•óÊé•Â≠óÂèëÈÄÅHTTPÂìçÂ∫îÊ∂àÊÅØ„ÄÇÂÆ¢Êà∑ÊàñÊúçÂä°Âô®‰∏ÄÊó¶ÊääÊüê‰∏™Ê∂àÊÅØÈÄÅÂÖ•ÂêÑËá™ÁöÑÂ•óÊé•Â≠óÔºåËøô‰∏™Ê∂àÊÅØÂ∞±ÂÆåÂÖ®ËêΩÂÖ•TCPÁöÑÊéßÂà∂‰πã‰∏≠„ÄÇTCPÁªôHTTPÊèê‰æõ‰∏Ä‰∏™ÂèØÈù†ÁöÑÊï∞ÊçÆ‰º†ËæìÊúçÂä°;ËøôÊÑèÂë≥ÁùÄÁî±ÂÆ¢Êà∑ÂèëÂá∫ÁöÑÊØè‰∏™HTTPËØ∑Ê±ÇÊ∂àÊÅØÊúÄÁªàÂ∞ÜÊó†ÊçüÂú∞Âà∞ËææÊúçÂä°Âô®ÔºåÁî±ÊúçÂä°Âô®ÂèëÂá∫ÁöÑÊØè‰∏™HTTPÂìçÂ∫îÊ∂àÊÅØÊúÄÁªà‰πüÂ∞ÜÊó†ÊçüÂú∞Âà∞ËææÂÆ¢Êà∑„ÄÇ HTTPÁöÑËØ∑Ê±ÇÊñπÊ≥ïÊ†πÊçÆHTTPÊ†áÂáÜÔºåHTTPËØ∑Ê±ÇÂèØ‰ª•‰ΩøÁî®Â§öÁßçËØ∑Ê±ÇÊñπÊ≥ï„ÄÇ HTTP1.0ÂÆö‰πâ‰∫Ü‰∏âÁßçËØ∑Ê±ÇÊñπÊ≥ïÔºö GET, POST Âíå HEADÊñπÊ≥ï„ÄÇ HTTP1.1Êñ∞Â¢û‰∫Ü‰∫îÁßçËØ∑Ê±ÇÊñπÊ≥ïÔºöOPTIONS, PUT, DELETE, TRACE Âíå CONNECT ÊñπÊ≥ï„ÄÇ 12345678GET ËØ∑Ê±ÇÊåáÂÆöÁöÑÈ°µÈù¢‰ø°ÊÅØÔºåÂπ∂ËøîÂõûÂÆû‰Ωì‰∏ª‰Ωì„ÄÇHEAD Á±ª‰ºº‰∫égetËØ∑Ê±ÇÔºåÂè™‰∏çËøáËøîÂõûÁöÑÂìçÂ∫î‰∏≠Ê≤°ÊúâÂÖ∑‰ΩìÁöÑÂÜÖÂÆπÔºåÁî®‰∫éËé∑ÂèñÊä•Â§¥POST ÂêëÊåáÂÆöËµÑÊ∫êÊèê‰∫§Êï∞ÊçÆËøõË°åÂ§ÑÁêÜËØ∑Ê±ÇÔºà‰æãÂ¶ÇÊèê‰∫§Ë°®ÂçïÊàñËÄÖ‰∏ä‰º†Êñá‰ª∂Ôºâ„ÄÇÊï∞ÊçÆË¢´ÂåÖÂê´Âú®ËØ∑Ê±Ç‰Ωì‰∏≠„ÄÇPOSTËØ∑Ê±ÇÂèØËÉΩ‰ºöÂØºËá¥Êñ∞ÁöÑËµÑÊ∫êÁöÑÂª∫Á´ãÂíå/ÊàñÂ∑≤ÊúâËµÑÊ∫êÁöÑ‰øÆÊîπ„ÄÇPUT ‰ªéÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®‰º†ÈÄÅÁöÑÊï∞ÊçÆÂèñ‰ª£ÊåáÂÆöÁöÑÊñáÊ°£ÁöÑÂÜÖÂÆπ„ÄÇDELETE ËØ∑Ê±ÇÊúçÂä°Âô®Âà†Èô§ÊåáÂÆöÁöÑÈ°µÈù¢„ÄÇCONNECT HTTP/1.1ÂçèËÆÆ‰∏≠È¢ÑÁïôÁªôËÉΩÂ§üÂ∞ÜËøûÊé•Êîπ‰∏∫ÁÆ°ÈÅìÊñπÂºèÁöÑ‰ª£ÁêÜÊúçÂä°Âô®„ÄÇOPTIONS ÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÊü•ÁúãÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇTRACE ÂõûÊòæÊúçÂä°Âô®Êî∂Âà∞ÁöÑËØ∑Ê±ÇÔºå‰∏ªË¶ÅÁî®‰∫éÊµãËØïÊàñËØäÊñ≠„ÄÇ HTTPÁöÑÂ∑•‰ΩúÂéüÁêÜHTTPÂçèËÆÆÂÆö‰πâWebÂÆ¢Êà∑Á´ØÂ¶Ç‰Ωï‰ªéWebÊúçÂä°Âô®ËØ∑Ê±ÇWebÈ°µÈù¢Ôºå‰ª•ÂèäÊúçÂä°Âô®Â¶Ç‰ΩïÊääWebÈ°µÈù¢‰º†ÈÄÅÁªôÂÆ¢Êà∑Á´Ø„ÄÇHTTPÂçèËÆÆÈááÁî®‰∫ÜËØ∑Ê±Ç/ÂìçÂ∫îÊ®°Âûã„ÄÇÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÊä•ÊñáÔºåËØ∑Ê±ÇÊä•ÊñáÂåÖÂê´ËØ∑Ê±ÇÁöÑÊñπÊ≥ï„ÄÅURL„ÄÅÂçèËÆÆÁâàÊú¨„ÄÅËØ∑Ê±ÇÂ§¥ÈÉ®ÂíåËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇÊúçÂä°Âô®‰ª•‰∏Ä‰∏™Áä∂ÊÄÅË°å‰Ωú‰∏∫ÂìçÂ∫îÔºåÂìçÂ∫îÁöÑÂÜÖÂÆπÂåÖÊã¨ÂçèËÆÆÁöÑÁâàÊú¨„ÄÅÊàêÂäüÊàñËÄÖÈîôËØØ‰ª£Á†Å„ÄÅÊúçÂä°Âô®‰ø°ÊÅØ„ÄÅÂìçÂ∫îÂ§¥ÈÉ®ÂíåÂìçÂ∫îÊï∞ÊçÆ„ÄÇ ‰ª•‰∏ãÊòØ HTTP ËØ∑Ê±Ç/ÂìçÂ∫îÁöÑÊ≠•È™§Ôºö 123456789101112131415161718192021221„ÄÅÂÆ¢Êà∑Á´ØËøûÊé•Âà∞WebÊúçÂä°Âô® ‰∏Ä‰∏™HTTPÂÆ¢Êà∑Á´ØÔºåÈÄöÂ∏∏ÊòØÊµèËßàÂô®Ôºå‰∏éWebÊúçÂä°Âô®ÁöÑHTTPÁ´ØÂè£ÔºàÈªòËÆ§‰∏∫80ÔºâÂª∫Á´ã‰∏Ä‰∏™TCPÂ•óÊé•Â≠óËøûÊé•„ÄÇ2„ÄÅÂèëÈÄÅHTTPËØ∑Ê±Ç ÈÄöËøáTCPÂ•óÊé•Â≠óÔºåÂÆ¢Êà∑Á´ØÂêëWebÊúçÂä°Âô®ÂèëÈÄÅ‰∏Ä‰∏™ÊñáÊú¨ÁöÑËØ∑Ê±ÇÊä•ÊñáÔºå‰∏Ä‰∏™ËØ∑Ê±ÇÊä•ÊñáÁî±ËØ∑Ê±ÇË°å„ÄÅËØ∑Ê±ÇÂ§¥ÈÉ®„ÄÅÁ©∫Ë°åÂíåËØ∑Ê±ÇÊï∞ÊçÆ ÂõõÈÉ®ÂàÜÁªÑÊàê„ÄÇ3„ÄÅÊúçÂä°Âô®Êé•ÂèóËØ∑Ê±ÇÂπ∂ËøîÂõûHTTPÂìçÂ∫î WebÊúçÂä°Âô®Ëß£ÊûêËØ∑Ê±ÇÔºåÂÆö‰ΩçËØ∑Ê±ÇËµÑÊ∫ê„ÄÇÊúçÂä°Âô®Â∞ÜËµÑÊ∫êÂ§çÊú¨ÂÜôÂà∞TCPÂ•óÊé•Â≠óÔºåÁî±ÂÆ¢Êà∑Á´ØËØªÂèñ„ÄÇ‰∏Ä‰∏™ÂìçÂ∫îÁî±Áä∂ÊÄÅË°å„ÄÅÂìçÂ∫îÂ§¥ÈÉ®„ÄÅ Á©∫Ë°åÂíåÂìçÂ∫îÊï∞ÊçÆ4ÈÉ®ÂàÜÁªÑÊàê„ÄÇ4„ÄÅÈáäÊîæËøûÊé•[TCPËøûÊé•](http://www.jianshu.com/p/ef892323e68f) Ëã•connection Ê®°Âºè‰∏∫closeÔºåÂàôÊúçÂä°Âô®‰∏ªÂä®ÂÖ≥Èó≠[TCPËøûÊé•](http://www.jianshu.com/p/ef892323e68f)Ôºå ÂÆ¢Êà∑Á´ØË¢´Âä®ÂÖ≥Èó≠ËøûÊé•ÔºåÈáäÊîæ[TCPËøûÊé•](http://www.jianshu.com/p/ef892323e68f);Ëã•connection Ê®°Âºè‰∏∫ keepaliveÔºåÂàôËØ•ËøûÊé•‰ºö‰øùÊåÅ‰∏ÄÊÆµÊó∂Èó¥ÔºåÂú®ËØ•Êó∂Èó¥ÂÜÖÂèØ‰ª•ÁªßÁª≠Êé•Êî∂ËØ∑Ê±Ç;5„ÄÅÂÆ¢Êà∑Á´ØÊµèËßàÂô®Ëß£ÊûêHTMLÂÜÖÂÆπ ÂÆ¢Êà∑Á´ØÊµèËßàÂô®È¶ñÂÖàËß£ÊûêÁä∂ÊÄÅË°åÔºåÊü•ÁúãË°®ÊòéËØ∑Ê±ÇÊòØÂê¶ÊàêÂäüÁöÑÁä∂ÊÄÅ‰ª£Á†Å„ÄÇÁÑ∂ÂêéËß£ÊûêÊØè‰∏Ä‰∏™ÂìçÂ∫îÂ§¥ÔºåÂìçÂ∫îÂ§¥ÂëäÁü•‰ª•‰∏ã‰∏∫Ëã•Âπ≤Â≠óËäÇÁöÑ HTMLÊñáÊ°£ÂíåÊñáÊ°£ÁöÑÂ≠óÁ¨¶ÈõÜ„ÄÇÂÆ¢Êà∑Á´ØÊµèËßàÂô®ËØªÂèñÂìçÂ∫îÊï∞ÊçÆHTMLÔºåÊ†πÊçÆHTMLÁöÑËØ≠Ê≥ïÂØπÂÖ∂ËøõË°åÊ†ºÂºèÂåñÔºåÂπ∂Âú®ÊµèËßàÂô®Á™óÂè£‰∏≠ÊòæÁ§∫„ÄÇ ‰æãÂ¶ÇÔºöÂú®ÊµèËßàÂô®Âú∞ÂùÄÊ†èÈîÆÂÖ•URLÔºåÊåâ‰∏ãÂõûËΩ¶‰πãÂêé‰ºöÁªèÂéÜ‰ª•‰∏ãÊµÅÁ®ãÔºö 1„ÄÅÊµèËßàÂô®Âêë DNS ÊúçÂä°Âô®ËØ∑Ê±ÇËß£ÊûêËØ• URL ‰∏≠ÁöÑÂüüÂêçÊâÄÂØπÂ∫îÁöÑ IP Âú∞ÂùÄ; 2„ÄÅËß£ÊûêÂá∫ IP Âú∞ÂùÄÂêéÔºåÊ†πÊçÆËØ• IP Âú∞ÂùÄÂíåÈªòËÆ§Á´ØÂè£ 80ÔºåÂíåÊúçÂä°Âô®Âª∫Á´ã[TCPËøûÊé•] (http://www.jianshu.com/p/ef892323e68f); 3„ÄÅÊµèËßàÂô®ÂèëÂá∫ËØªÂèñÊñá‰ª∂(URL ‰∏≠ÂüüÂêçÂêéÈù¢ÈÉ®ÂàÜÂØπÂ∫îÁöÑÊñá‰ª∂)ÁöÑHTTP ËØ∑Ê±ÇÔºåËØ•ËØ∑Ê±ÇÊä•Êñá‰Ωú‰∏∫ [TCP ‰∏âÊ¨°Êè°Êâã](http://www.jianshu.com/p/ef892323e68f)ÁöÑÁ¨¨‰∏â‰∏™Êä•ÊñáÁöÑÊï∞ÊçÆÂèëÈÄÅÁªôÊúçÂä°Âô®; 4„ÄÅÊúçÂä°Âô®ÂØπÊµèËßàÂô®ËØ∑Ê±Ç‰ΩúÂá∫ÂìçÂ∫îÔºåÂπ∂ÊääÂØπÂ∫îÁöÑ html ÊñáÊú¨ÂèëÈÄÅÁªôÊµèËßàÂô®; 5„ÄÅÈáäÊîæ [TCPËøûÊé•](http://www.jianshu.com/p/ef892323e68f); 6„ÄÅÊµèËßàÂô®Â∞ÜËØ• html ÊñáÊú¨Âπ∂ÊòæÁ§∫ÂÜÖÂÆπ; ‰∫å„ÄÅTCPÂçèËÆÆTCPÂçèËÆÆ‰∏ªË¶ÅÊòØÂú®‰º†ËæìÂ±ÇÔºå‰∏âÊ¨°Êè°ÊâãÂõõÊ¨°Êå•Êâã‚ë†‰∏âÊ¨°Êè°ÊâãÂú®TCP/IPÂçèËÆÆ‰∏≠ÔºåTCPÂçèËÆÆÈÄöËøá‰∏âÊ¨°Êè°ÊâãÂª∫Á´ã‰∏Ä‰∏™ÂèØÈù†ÁöÑËøûÊé• ‰∏âÊ¨°Êè°Êâã 123456Á¨¨‰∏ÄÊ¨°Êè°ÊâãÔºöÂÆ¢Êà∑Á´ØÂ∞ùËØïËøûÊé•ÊúçÂä°Âô®ÔºåÂêëÊúçÂä°Âô®ÂèëÈÄÅsynÂåÖÔºàÂêåÊ≠•Â∫èÂàóÁºñÂè∑Synchronize Sequence NumbersÔºâÔºå syn=jÔºåÂÆ¢Êà∑Á´ØËøõÂÖ•SYN_SENDÁä∂ÊÄÅÁ≠âÂæÖÊúçÂä°Âô®Á°ÆËÆ§Á¨¨‰∫åÊ¨°Êè°ÊâãÔºöÊúçÂä°Âô®Êé•Êî∂ÂÆ¢Êà∑Á´ØsynÂåÖÂπ∂Á°ÆËÆ§Ôºàack=j+1ÔºâÔºåÂêåÊó∂ÂêëÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∏Ä‰∏™SYNÂåÖÔºàsyn=kÔºâÔºåÂç≥SYN+ACKÂåÖÔºå Ê≠§Êó∂ÊúçÂä°Âô®ËøõÂÖ•SYN_RECVÁä∂ÊÄÅÁ¨¨‰∏âÊ¨°Êè°ÊâãÔºöÁ¨¨‰∏âÊ¨°Êè°ÊâãÔºöÂÆ¢Êà∑Á´ØÊî∂Âà∞ÊúçÂä°Âô®ÁöÑSYN+ACKÂåÖÔºåÂêëÊúçÂä°Âô®ÂèëÈÄÅÁ°ÆËÆ§ÂåÖACK(ack=k+1ÔºâÔºåÊ≠§ÂåÖÂèëÈÄÅÂÆåÊØïÔºå ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ËøõÂÖ•ESTABLISHEDÁä∂ÊÄÅÔºåÂÆåÊàê‰∏âÊ¨°Êè°Êâã ‚ë°ÂõõÊ¨°Êå•ÊâãÁî±‰∫éTCPËøûÊé•Êó∂ÂÖ®ÂèåÂ∑•ÁöÑÔºåÂõ†Ê≠§ÔºåÊØè‰∏™ÊñπÂêëÈÉΩÂøÖÈ°ªË¶ÅÂçïÁã¨ËøõË°åÂÖ≥Èó≠ÔºåËøô‰∏ÄÂéüÂàôÊòØÂΩì‰∏ÄÊñπÂÆåÊàêÊï∞ÊçÆÂèëÈÄÅ‰ªªÂä°ÂêéÔºåÂèëÈÄÅ‰∏Ä‰∏™FINÊù•ÁªàÊ≠¢Ëøô‰∏ÄÊñπÂêëÁöÑËøûÊé•ÔºåÊî∂Âà∞‰∏Ä‰∏™FINÂè™ÊòØÊÑèÂë≥ÁùÄËøô‰∏ÄÊñπÂêë‰∏äÊ≤°ÊúâÊï∞ÊçÆÊµÅÂä®‰∫ÜÔºåÂç≥‰∏ç‰ºöÂÜçÊî∂Âà∞Êï∞ÊçÆ‰∫ÜÔºå‰ΩÜÊòØÂú®Ëøô‰∏™TCPËøûÊé•‰∏ä‰ªçÁÑ∂ËÉΩÂ§üÂèëÈÄÅÊï∞ÊçÆÔºåÁõ¥Âà∞Ëøô‰∏ÄÊñπÂêë‰πüÂèëÈÄÅ‰∫ÜFIN„ÄÇÈ¶ñÂÖàËøõË°åÂÖ≥Èó≠ÁöÑ‰∏ÄÊñπÂ∞ÜÊâßË°å‰∏ªÂä®ÂÖ≥Èó≠ÔºåËÄåÂè¶‰∏ÄÊñπÂàôÊâßË°åË¢´Âä®ÂÖ≥Èó≠Ôºå‰∏ãÂõæÊèèËø∞ÁöÑÂç≥ÊòØÂ¶ÇÊ≠§„ÄÇ 123456Á¨¨‰∏ÄÊ¨°Êå•ÊâãÔºöClientÂèëÈÄÅ‰∏Ä‰∏™FINÔºåÁî®Êù•ÂÖ≥Èó≠ClientÂà∞ServerÁöÑÊï∞ÊçÆ‰º†ÈÄÅÔºåClientËøõÂÖ•FIN_WAIT_1Áä∂ÊÄÅ„ÄÇ Á¨¨‰∫åÊ¨°Êå•ÊâãÔºöServerÊî∂Âà∞FINÂêéÔºåÂèëÈÄÅ‰∏Ä‰∏™ACKÁªôClientÔºåÁ°ÆËÆ§Â∫èÂè∑‰∏∫Êî∂Âà∞Â∫èÂè∑+1Ôºà‰∏éSYNÁõ∏ÂêåÔºå‰∏Ä‰∏™FINÂç†Áî®‰∏Ä‰∏™Â∫èÂè∑ÔºâÔºå ServerËøõÂÖ•CLOSE_WAITÁä∂ÊÄÅ„ÄÇ Á¨¨‰∏âÊ¨°Êå•ÊâãÔºöServerÂèëÈÄÅ‰∏Ä‰∏™FINÔºåÁî®Êù•ÂÖ≥Èó≠ServerÂà∞ClientÁöÑÊï∞ÊçÆ‰º†ÈÄÅÔºåServerËøõÂÖ•LAST_ACKÁä∂ÊÄÅ„ÄÇ Á¨¨ÂõõÊ¨°Êå•ÊâãÔºöClientÊî∂Âà∞FINÂêéÔºåClientËøõÂÖ•TIME_WAITÁä∂ÊÄÅÔºåÊé•ÁùÄÂèëÈÄÅ‰∏Ä‰∏™ACKÁªôServerÔºåÁ°ÆËÆ§Â∫èÂè∑‰∏∫Êî∂Âà∞Â∫èÂè∑+1Ôºå ServerËøõÂÖ•CLOSEDÁä∂ÊÄÅÔºåÂÆåÊàêÂõõÊ¨°Êå•Êâã„ÄÇ ÂõõÊ¨°Êå•Êâã ‰∏â„ÄÅScoket1„ÄÅsocketÊ¶ÇÂøµÂ•óÊé•Â≠óÔºàsocketÔºâÊòØÈÄö‰ø°ÁöÑÂü∫Áü≥ÔºåÊòØÊîØÊåÅTCP/IPÂçèËÆÆÁöÑÁΩëÁªúÈÄö‰ø°ÁöÑÂü∫Êú¨Êìç‰ΩúÂçïÂÖÉ„ÄÇÂÆÉÊòØÁΩëÁªúÈÄö‰ø°ËøáÁ®ã‰∏≠Á´ØÁÇπÁöÑÊäΩË±°Ë°®Á§∫ÔºåÂåÖÂê´ËøõË°åÁΩëÁªúÈÄö‰ø°ÂøÖÈ°ªÁöÑ‰∫îÁßç‰ø°ÊÅØÔºöËøûÊé•‰ΩøÁî®ÁöÑÂçèËÆÆÔºåÊú¨Âú∞‰∏ªÊú∫ÁöÑIPÂú∞ÂùÄÔºåÊú¨Âú∞ËøõÁ®ãÁöÑÂçèËÆÆÁ´ØÂè£ÔºåËøúÂú∞‰∏ªÊú∫ÁöÑIPÂú∞ÂùÄÔºåËøúÂú∞ËøõÁ®ãÁöÑÂçèËÆÆÁ´ØÂè£„ÄÇ ‰∏Ä‰∏™SocketÊòØ‰∏ÄÂØπIPÂú∞ÂùÄÂíåÁ´ØÂè£„ÄÇ SocketÂèØ‰ª•ÁúãÊàêÂú®‰∏§‰∏™Á®ãÂ∫èËøõË°åÈÄöËÆØËøûÊé•‰∏≠ÁöÑ‰∏Ä‰∏™Á´ØÁÇπÔºå‰∏Ä‰∏™Á®ãÂ∫èÂ∞Ü‰∏ÄÊÆµ‰ø°ÊÅØÂÜôÂÖ•Socket‰∏≠ÔºåËØ•SocketÂ∞ÜËøôÊÆµ‰ø°ÊÅØÂèëÈÄÅÁªôÂè¶Â§ñ‰∏Ä‰∏™Socket‰∏≠Ôºå‰ΩøËøôÊÆµ‰ø°ÊÅØËÉΩ‰º†ÈÄÅÂà∞ÂÖ∂‰ªñÁ®ãÂ∫è‰∏≠„ÄÇ 2„ÄÅsocketÁöÑ‰ΩúÁî®Â∫îÁî®Â±ÇÈÄöËøá‰º†ËæìÂ±ÇËøõË°åÊï∞ÊçÆÈÄö‰ø°Êó∂ÔºåTCPÂíåUDP‰ºöÈÅáÂà∞ÂêåÊó∂‰∏∫Â§ö‰∏™Â∫îÁî®Á®ãÂ∫èËøõÁ®ãÊèê‰æõÂπ∂ÂèëÊúçÂä°ÁöÑÈóÆÈ¢ò„ÄÇ‰∏∫‰∫ÜÂå∫Âà´‰∏çÂêåÁöÑÂ∫îÁî®Á®ãÂ∫èËøõÁ®ãÂíåËøûÊé•ÔºåËÆ∏Â§öËÆ°ÁÆóÊú∫Êìç‰ΩúÁ≥ªÁªü‰∏∫Â∫îÁî®Á®ãÂ∫è‰∏éTCPÔºèIPÂçèËÆÆ‰∫§‰∫íÊèê‰æõ‰∫ÜÁß∞‰∏∫Â•óÊé•Â≠ó(Socket)ÁöÑÊé•Âè£ÔºåÂå∫ÂàÜ‰∏çÂêåÂ∫îÁî®Á®ãÂ∫èËøõÁ®ãÈó¥ÁöÑÁΩëÁªúÈÄö‰ø°ÂíåËøûÊé•„ÄÇ 3„ÄÅsocketÁöÑÂéüÁêÜ3.1 socketÁöÑÂÆûÁé∞ÊñπÂºèÁîüÊàêÂ•óÊé•Â≠óÔºå‰∏ªË¶ÅÊúâ3‰∏™ÂèÇÊï∞ÔºöÈÄö‰ø°ÁöÑÁõÆÁöÑIPÂú∞ÂùÄ„ÄÅ‰ΩøÁî®ÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆ(TCPÊàñUDP)Âíå‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑„ÄÇSocketÂéüÊÑèÊòØ‚ÄúÊèíÂ∫ß‚Äù„ÄÇÈÄöËøáÂ∞ÜËøô3‰∏™ÂèÇÊï∞ÁªìÂêàËµ∑Êù•Ôºå‰∏é‰∏Ä‰∏™‚ÄúÊèíÂ∫ß‚ÄùSocketÁªëÂÆöÔºåÂ∫îÁî®Â±ÇÂ∞±ÂèØ‰ª•Âíå‰º†ËæìÂ±ÇÈÄöËøáÂ•óÊé•Â≠óÊé•Âè£ÔºåÂå∫ÂàÜÊù•Ëá™‰∏çÂêåÂ∫îÁî®Á®ãÂ∫èËøõÁ®ãÊàñÁΩëÁªúËøûÊé•ÁöÑÈÄö‰ø°ÔºåÂÆûÁé∞Êï∞ÊçÆ‰º†ËæìÁöÑÂπ∂ÂèëÊúçÂä°„ÄÇ Host A‰∏äÁöÑÁ®ãÂ∫èAÂ∞Ü‰∏ÄÊÆµ‰ø°ÊÅØÂÜôÂÖ•Socket‰∏≠ÔºåSocketÁöÑÂÜÖÂÆπË¢´Host AÁöÑÁΩëÁªúÁÆ°ÁêÜËΩØ‰ª∂ËÆøÈóÆÔºåÂπ∂Â∞ÜËøôÊÆµ‰ø°ÊÅØÈÄöËøáHost AÁöÑÁΩëÁªúÊé•Âè£Âç°ÂèëÈÄÅÂà∞Host BÔºåHost BÁöÑÁΩëÁªúÊé•Âè£Âç°Êé•Êî∂Âà∞ËøôÊÆµ‰ø°ÊÅØÂêéÔºå‰º†ÈÄÅÁªôHost BÁöÑÁΩëÁªúÁÆ°ÁêÜËΩØ‰ª∂ÔºåÁΩëÁªúÁÆ°ÁêÜËΩØ‰ª∂Â∞ÜËøôÊÆµ‰ø°ÊÅØ‰øùÂ≠òÂú®Host BÁöÑSocket‰∏≠ÔºåÁÑ∂ÂêéÁ®ãÂ∫èBÊâçËÉΩÂú®Socket‰∏≠ÈòÖËØªËøôÊÆµ‰ø°ÊÅØ„ÄÇ 3.2 SocketËøûÊé•ÁöÑÂÆûÁé∞ÊñπÂºèË¶ÅÈÄöËøá‰∫íËÅîÁΩëËøõË°åÈÄö‰ø°ÔºåËá≥Â∞ëÈúÄË¶Å‰∏ÄÂØπÂ•óÊé•Â≠óÔºå‰∏Ä‰∏™ËøêË°å‰∫éÂÆ¢Êà∑Êú∫Á´ØÔºåÁß∞‰πã‰∏∫ClientSocketÔºåÂè¶‰∏Ä‰∏™ËøêË°å‰∫éÊúçÂä°Âô®Á´ØÔºåÁß∞‰πã‰∏∫serverSocket„ÄÇ Ê†πÊçÆËøûÊé•ÂêØÂä®ÁöÑÊñπÂºè‰ª•ÂèäÊú¨Âú∞Â•óÊé•Â≠óË¶ÅËøûÊé•ÁöÑÁõÆÊ†áÔºåÂ•óÊé•Â≠ó‰πãÈó¥ÁöÑËøûÊé•ËøáÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Ê≠•È™§ÔºöÊúçÂä°Âô®ÁõëÂê¨ÔºåÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºåËøûÊé•Á°ÆËÆ§„ÄÇ 123456ÊúçÂä°Âô®ÁõëÂê¨ÔºöÊòØÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÂπ∂‰∏çÂÆö‰ΩçÂÖ∑‰ΩìÁöÑÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠óÔºåËÄåÊòØÂ§Ñ‰∫éÁ≠âÂæÖËøûÊé•ÁöÑÁä∂ÊÄÅÔºåÂÆûÊó∂ÁõëÊéßÁΩëÁªúÁä∂ÊÄÅ„ÄÇÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºöÊòØÊåáÁî±ÂÆ¢Êà∑Á´ØÁöÑÂ•óÊé•Â≠óÊèêÂá∫ËøûÊé•ËØ∑Ê±ÇÔºåË¶ÅËøûÊé•ÁöÑÁõÆÊ†áÊòØÊúçÂä°Âô®Á´ØÁöÑÂ•óÊé•Â≠ó„ÄÇ‰∏∫Ê≠§ÔºåÂÆ¢Êà∑Á´ØÁöÑÂ•óÊé•Â≠óÂøÖÈ°ª È¶ñÂÖàÊèèËø∞ÂÆÉË¶ÅËøûÊé•ÁöÑÊúçÂä°Âô®ÁöÑÂ•óÊé•Â≠óÔºåÊåáÂá∫ÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÁöÑÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑ÔºåÁÑ∂ÂêéÂ∞±ÂêëÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÊèêÂá∫ËøûÊé•ËØ∑Ê±Ç„ÄÇËøûÊé•Á°ÆËÆ§ ÔºöÊòØÊåáÂΩìÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÁõëÂê¨Âà∞ÊàñËÄÖËØ¥Êé•Êî∂Âà∞ÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠óÁöÑËøûÊé•ËØ∑Ê±ÇÔºåÂÆÉÂ∞±ÂìçÂ∫îÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠óÁöÑËØ∑Ê±ÇÔºå Âª∫Á´ã‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÔºåÊääÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÁöÑÊèèËø∞ÂèëÁªôÂÆ¢Êà∑Á´ØÔºå‰∏ÄÊó¶ÂÆ¢Êà∑Á´ØÁ°ÆËÆ§‰∫ÜÊ≠§ÊèèËø∞ÔºåËøûÊé•Â∞±Âª∫Á´ãÂ•Ω‰∫Ü„ÄÇ ËÄåÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠óÁªßÁª≠Â§Ñ‰∫éÁõëÂê¨Áä∂ÊÄÅÔºåÁªßÁª≠Êé•Êî∂ÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠óÁöÑËøûÊé•ËØ∑Ê±Ç„ÄÇ 3.3 Socket‰∏éTCP/IPÁöÑÂÖ≥Á≥ª ÂàõÂª∫SocketËøûÊé•Êó∂ÔºåÂèØ‰ª•ÊåáÂÆö‰ΩøÁî®ÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÔºåSocketÂèØ‰ª•ÊîØÊåÅ‰∏çÂêåÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÔºàTCPÊàñUDPÔºâÔºåÂΩì‰ΩøÁî®TCPÂçèËÆÆËøõË°åËøûÊé•Êó∂ÔºåËØ•SocketËøûÊé•Â∞±ÊòØ‰∏Ä‰∏™TCPËøûÊé•„ÄÇsocketÂàôÊòØÂØπTCP/IPÂçèËÆÆÁöÑÂ∞ÅË£ÖÂíåÂ∫îÁî®ÔºàÁ®ãÂ∫èÂëòÂ±ÇÈù¢‰∏äÔºâ„ÄÇ‰πüÂèØ‰ª•ËØ¥ÔºåTPC/IPÂçèËÆÆÊòØ‰º†ËæìÂ±ÇÂçèËÆÆÔºå‰∏ªË¶ÅËß£ÂÜ≥Êï∞ÊçÆ Â¶Ç‰ΩïÂú®ÁΩëÁªú‰∏≠‰º†ËæìÔºåËÄåHTTPÊòØÂ∫îÁî®Â±ÇÂçèËÆÆÔºå‰∏ªË¶ÅËß£ÂÜ≥Â¶Ç‰ΩïÂåÖË£ÖÊï∞ÊçÆ„ÄÇÂÖ≥‰∫éTCP/IPÂíåHTTPÂçèËÆÆÁöÑÂÖ≥Á≥ªÔºåÁΩëÁªúÊúâ‰∏ÄÊÆµÊØîËæÉÂÆπÊòìÁêÜËß£ÁöÑ‰ªãÁªçÔºö‚ÄúÊàë‰ª¨Âú®‰º†ËæìÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•Âè™‰ΩøÁî®Ôºà‰º†ËæìÂ±ÇÔºâTCP/IPÂçèËÆÆÔºå‰ΩÜÊòØÈÇ£Ê†∑ÁöÑËØùÔºåÂ¶Ç ÊûúÊ≤°ÊúâÂ∫îÁî®Â±ÇÔºå‰æøÊó†Ê≥ïËØÜÂà´Êï∞ÊçÆÂÜÖÂÆπÔºåÂ¶ÇÊûúÊÉ≥Ë¶Å‰Ωø‰º†ËæìÁöÑÊï∞ÊçÆÊúâÊÑè‰πâÔºåÂàôÂøÖÈ°ª‰ΩøÁî®Âà∞Â∫îÁî®Â±ÇÂçèËÆÆÔºåÂ∫îÁî®Â±ÇÂçèËÆÆÊúâÂæàÂ§öÔºåÊØîÂ¶ÇHTTP„ÄÅFTP„ÄÅTELNETÁ≠âÔºå‰πü ÂèØ‰ª•Ëá™Â∑±ÂÆö‰πâÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇWEB‰ΩøÁî®HTTPÂçèËÆÆ‰ΩúÂ∫îÁî®Â±ÇÂçèËÆÆÔºå‰ª•Â∞ÅË£ÖHTTPÊñáÊú¨‰ø°ÊÅØÔºåÁÑ∂Âêé‰ΩøÁî®TCP/IPÂÅö‰º†ËæìÂ±ÇÂçèËÆÆÂ∞ÜÂÆÉÂèëÂà∞ÁΩëÁªú‰∏ä„ÄÇ‚ÄùÊàë‰ª¨Âπ≥Êó∂ËØ¥ÁöÑÊúÄÂ§öÁöÑsocketÊòØ‰ªÄ‰πàÂë¢ÔºåÂÆûÈôÖ‰∏äsocketÊòØÂØπTCP/IPÂçèËÆÆÁöÑÂ∞ÅË£ÖÔºåSocketÊú¨Ë∫´Âπ∂‰∏çÊòØÂçèËÆÆÔºåËÄåÊòØ‰∏Ä‰∏™Ë∞ÉÁî®Êé•Âè£ÔºàAPIÔºâÔºåÈÄöËøáSocketÔºåÊàë‰ª¨ÊâçËÉΩ‰ΩøÁî®TCP/IPÂçèËÆÆ„ÄÇ ÂÆûÈôÖ‰∏äÔºåSocketË∑üTCP/IPÂçèËÆÆÊ≤°ÊúâÂøÖÁÑ∂ÁöÑËÅîÁ≥ª„ÄÇSocketÁºñÁ®ãÊé•Âè£Âú®ËÆæËÆ°ÁöÑÊó∂ÂÄôÔºåÂ∞±Â∏åÊúõ‰πüËÉΩÈÄÇÂ∫îÂÖ∂‰ªñÁöÑÁΩëÁªúÂçèËÆÆ„ÄÇÊâÄ‰ª•ËØ¥ÔºåSocketÁöÑÂá∫Áé∞ Âè™ÊòØ‰ΩøÂæóÁ®ãÂ∫èÂëòÊõ¥Êñπ‰æøÂú∞‰ΩøÁî®TCP/IPÂçèËÆÆÊ†àËÄåÂ∑≤ÔºåÊòØÂØπTCP/IPÂçèËÆÆÁöÑÊäΩË±°Ôºå‰ªéËÄåÂΩ¢Êàê‰∫ÜÊàë‰ª¨Áü•ÈÅìÁöÑ‰∏Ä‰∫õÊúÄÂü∫Êú¨ÁöÑÂáΩÊï∞Êé•Âè£ÔºåÊØîÂ¶Çcreate„ÄÅ listen„ÄÅconnect„ÄÅaccept„ÄÅsend„ÄÅreadÂíåwriteÁ≠âÁ≠â„ÄÇÁΩëÁªúÊúâ‰∏ÄÊÆµÂÖ≥‰∫ésocketÂíåTCP/IPÂçèËÆÆÂÖ≥Á≥ªÁöÑËØ¥Ê≥ïÊØîËæÉÂÆπÊòìÁêÜËß£Ôºö‚ÄúTCP/IPÂè™ÊòØ‰∏Ä‰∏™ÂçèËÆÆÊ†àÔºåÂ∞±ÂÉèÊìç‰ΩúÁ≥ªÁªüÁöÑËøêË°åÊú∫Âà∂‰∏ÄÊ†∑ÔºåÂøÖÈ°ªË¶ÅÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂêåÊó∂ËøòË¶ÅÊèê‰æõÂØπÂ§ñÁöÑÊìç‰ΩúÊé•Âè£„ÄÇËøô‰∏™Â∞±ÂÉèÊìç‰ΩúÁ≥ªÁªü‰ºöÊèê‰æõÊ†áÂáÜÁöÑÁºñÁ®ãÊé•Âè£ÔºåÊØîÂ¶Çwin32ÁºñÁ®ãÊé•Âè£‰∏ÄÊ†∑ÔºåTCP/IP‰πüË¶ÅÊèê‰æõÂèØ‰æõÁ®ãÂ∫èÂëòÂÅöÁΩëÁªúÂºÄÂèëÊâÄÁî®ÁöÑÊé•Âè£ÔºåËøôÂ∞±ÊòØSocketÁºñÁ®ãÊé•Âè£„ÄÇ‚ÄùÂÆûÈôÖ‰∏äÔºå‰º†ËæìÂ±ÇÁöÑTCPÊòØÂü∫‰∫éÁΩëÁªúÂ±ÇÁöÑIPÂçèËÆÆÁöÑÔºåËÄåÂ∫îÁî®Â±ÇÁöÑHTTPÂçèËÆÆÂèàÊòØÂü∫‰∫é‰º†ËæìÂ±ÇÁöÑTCPÂçèËÆÆÁöÑÔºåËÄåSocketÊú¨Ë∫´‰∏çÁÆóÊòØÂçèËÆÆÔºåÂ∞±ÂÉè‰∏äÈù¢ÊâÄËØ¥ÔºåÂÆÉÂè™ÊòØÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈíàÂØπTCPÊàñËÄÖUDPÁºñÁ®ãÁöÑÊé•Âè£„ÄÇsocketÊòØÂØπÁ´ØÂè£ÈÄö‰ø°ÂºÄÂèëÁöÑÂ∑•ÂÖ∑,ÂÆÉË¶ÅÊõ¥Â∫ïÂ±Ç‰∏Ä‰∫õ. 3.4 Socket‰∏éHTTPÁöÑÂÖ≥Á≥ª Áî±‰∫éÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãSocketËøûÊé•Â∞±ÊòØTCPËøûÊé•ÔºåÂõ†Ê≠§SocketËøûÊé•‰∏ÄÊó¶Âª∫Á´ãÔºåÈÄö‰ø°ÂèåÊñπÂç≥ÂèØÂºÄÂßãÁõ∏‰∫íÂèëÈÄÅÊï∞ÊçÆÂÜÖÂÆπÔºåÁõ¥Âà∞ÂèåÊñπËøûÊé•Êñ≠ÂºÄ„ÄÇ‰ΩÜÂú®ÂÆûÈôÖÁΩëÁªúÂ∫îÁî®‰∏≠ÔºåÂÆ¢Êà∑Á´ØÂà∞ÊúçÂä°Âô®‰πãÈó¥ÁöÑÈÄö‰ø°ÂæÄÂæÄÈúÄË¶ÅÁ©øË∂äÂ§ö‰∏™‰∏≠Èó¥ËäÇÁÇπÔºå‰æãÂ¶ÇË∑ØÁî±Âô®„ÄÅÁΩëÂÖ≥„ÄÅÈò≤ÁÅ´Â¢ôÁ≠âÔºåÂ§ßÈÉ®ÂàÜÈò≤ÁÅ´Â¢ôÈªòËÆ§‰ºöÂÖ≥Èó≠ÈïøÊó∂Èó¥Â§Ñ‰∫éÈùûÊ¥ªË∑ÉÁä∂ÊÄÅÁöÑËøûÊé•ËÄåÂØºËá¥ Socket ËøûÊé•Êñ≠ËøûÔºåÂõ†Ê≠§ÈúÄË¶ÅÈÄöËøáËΩÆËØ¢ÂëäËØâÁΩëÁªúÔºåËØ•ËøûÊé•Â§Ñ‰∫éÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇËÄåHTTPËøûÊé•‰ΩøÁî®ÁöÑÊòØ‚ÄúËØ∑Ê±Ç‚ÄîÂìçÂ∫î‚ÄùÁöÑÊñπÂºèÔºå‰∏ç‰ªÖÂú®ËØ∑Ê±ÇÊó∂ÈúÄË¶ÅÂÖàÂª∫Á´ãËøûÊé•ÔºåËÄå‰∏îÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Âô®ÂèëÂá∫ËØ∑Ê±ÇÂêéÔºåÊúçÂä°Âô®Á´ØÊâçËÉΩÂõûÂ§çÊï∞ÊçÆ„ÄÇ ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåÈúÄË¶ÅÊúçÂä°Âô®Á´Ø‰∏ªÂä®ÂêëÂÆ¢Êà∑Á´ØÊé®ÈÄÅÊï∞ÊçÆÔºå‰øùÊåÅÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Âô®Êï∞ÊçÆÁöÑÂÆûÊó∂‰∏éÂêåÊ≠•„ÄÇÊ≠§Êó∂Ëã•ÂèåÊñπÂª∫Á´ãÁöÑÊòØSocketËøûÊé•ÔºåÊúçÂä°Âô®Â∞±ÂèØ‰ª•Áõ¥Êé•Â∞ÜÊï∞ÊçÆ‰º†ÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºõËã•ÂèåÊñπÂª∫Á´ãÁöÑÊòØHTTPËøûÊé•ÔºåÂàôÊúçÂä°Âô®ÈúÄË¶ÅÁ≠âÂà∞ÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∏ÄÊ¨°ËØ∑Ê±ÇÂêéÊâçËÉΩÂ∞ÜÊï∞ÊçÆ‰º†ÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂõ†Ê≠§ÔºåÂÆ¢Êà∑Á´ØÂÆöÊó∂ÂêëÊúçÂä°Âô®Á´ØÂèëÈÄÅËøûÊé•ËØ∑Ê±ÇÔºå‰∏ç‰ªÖÂèØ‰ª•‰øùÊåÅÂú®Á∫øÔºåÂêåÊó∂‰πüÊòØÂú®‚ÄúËØ¢ÈóÆ‚ÄùÊúçÂä°Âô®ÊòØÂê¶ÊúâÊñ∞ÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûúÊúâÂ∞±Â∞ÜÊï∞ÊçÆ‰º†ÁªôÂÆ¢Êà∑Á´Ø„ÄÇ httpÂçèËÆÆÊòØÂ∫îÁî®Â±ÇÁöÑÂçè‰πâ Êúâ‰∏™ÊØîËæÉÂΩ¢Ë±°ÁöÑÊèèËø∞ÔºöHTTPÊòØËΩøËΩ¶ÔºåÊèê‰æõ‰∫ÜÂ∞ÅË£ÖÊàñËÄÖÊòæÁ§∫Êï∞ÊçÆÁöÑÂÖ∑‰ΩìÂΩ¢ÂºèÔºõSocketÊòØÂèëÂä®Êú∫ÔºåÊèê‰æõ‰∫ÜÁΩëÁªúÈÄö‰ø°ÁöÑËÉΩÂäõ„ÄÇ ÊÄªÁªìÔºö‰ªé‰∏äÈù¢ÁöÑËØ¶ÁªÜ‰∫ÜËß£HTTP„ÄÅTCPÂíåSocketÁöÑÊ¶ÇÂøµÂíåÂéüÁêÜÂèäÂÖ∂Âå∫Âà´ÔºåÁõ∏‰ø°ÂØπËøô‰∏âËÄÖÊúâ‰∏Ä‰∏™‰∫ÜËß£ÂíåÁÜüÊÇâ„ÄÇ]]></content>
      <tags>
        <tag>-ÂçèËÆÆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java8Êñ∞ÁâπÂæÅ-LambdaË°®ËææÂºè‰∏éStream-API]]></title>
    <url>%2F2019%2F11%2F18%2FJava8%E6%96%B0%E7%89%B9%E5%BE%81-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B8%8EStream-API%2F</url>
    <content type="text"><![CDATA[Java8 Êñ∞ÁâπÊÄß ÈÄüÂ∫¶Êõ¥Âø´ Êõ¥Êç¢‰∫ÜÊï∞ÊçÆÁªìÊûÑÔºåÂÜÖÂ≠òÁªìÊûÑÔºàJVMÔºâ *‰ª£Á†ÅÊõ¥Â∞ë‰∫ÜÔºàLambdaË°®ËææÂºèÔºâ * *Âº∫Â§ßÁöÑStream API * ‰æø‰∫éÂπ∂Ë°å fork join (‰∏≤Ë°åÂàáÊç¢Âπ∂Ë°å) ÊúÄÂ§ßÂåñÂáèÂ∞ëÁ©∫ÊåáÈíàÂºÇÂ∏∏ Optional LambdaË°®ËææÂºè Âú®ËØ¥ Lambda ‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅËØ¥ÁöÑÊòØÂáΩÊï∞ÂºèÊé•Âè£„ÄÇËøô‰∏™ÂèØ‰ª•ËØ¥ÊòØ‰∏∫‰∫Ü Lambda Ë°®ËææÂºèËÄåÂ≠òÂú®ÁöÑ‰∏Ä‰∏™‰∏úË•ø„ÄÇÈÇ£‰πà‰ªÄ‰πàÊòØÂáΩÊï∞ÂºèÊé•Âè£Ôºü ÂáΩÊï∞ÂºèÊé•Âè£ÂÆö‰πâÔºö Êé•Âè£‰∏≠Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°Êé•Âè£„ÄÇ ÂÉè java.util.function ‰∏ãÁöÑÊâÄÊúâÊé•Âè£ÈÉΩÊòØÂáΩÊï∞ÂºèÊé•Âè£„ÄÇJava1.8Êèê‰æõ@FunctionalInterfaceÊ£ÄÊµã‰∏Ä‰∏™Êé•Âè£ÊòØÂê¶ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÂºèÊé•Âè£„ÄÇ ‚Äú-&gt;‚Äù ÊòØ lambda Ë°®ËææÂºèÁöÑÁ¨¶Âè∑ Â∑¶‰æßË°®Á§∫ÂáΩÊï∞ÂºèÊé•Âè£‰∏≠ÊäΩË±°ÊñπÊ≥ïÁöÑÂèÇÊï∞ÂàóË°®ÔºåÂè≥‰æßË°®Á§∫‰Ω†ÂØπËøô‰∏™ÊñπÊ≥ïÁöÑÂÆûÁé∞ ÂõõÂ§ßÂáΩÊï∞ÂºèÊé•Âè£Êàë‰ª¨‰∏ÄËà¨ÂØπÂáΩÊï∞ÂºèÊé•Âè£ÁöÑ‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºåÈÉΩ‰ºöÂØπÂÖ∂ËøõË°åÂ∞ÅË£Ö„ÄÇ Ê∂àË¥πÊÄßÊé•Âè£‚Äã Consumer Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÂêç‰∏∫ acceptÔºåÂèÇÊï∞ÂàóË°®Âè™Êúâ‰∏Ä‰∏™Ê≥õÂûãtÔºåÊó†ËøîÂõûÂÄº„ÄÇÂèÇÊï∞ÁöÑÊï∞ÊçÆÁ±ªÂûãÊúâÁ±ªÂÜ≥ÂÆö 1234567891011121314/** * @ClassName ConsumerTest * @Description Ê∂àË¥πÂûãÊé•Âè£Ôºå Ê∂àË¥πÂ≠óÁ¨¶‰∏≤Â≠óÊÆµ ÊâìÂç∞ËæìÂá∫ **/public class ConsumerTest &#123; public static void main(String[] args) &#123; test("hello",x-&gt; System.out.println(x)); &#125; public static &lt;T&gt; void test(T t, Consumer&lt;T&gt; consumer) &#123; consumer.accept(t); &#125;&#125; ËæìÂá∫Ôºöhello Â¶ÇÊûúÈúÄË¶ÅÂ§ö‰∏™ÂèÇÊï∞ÂàóË°®ÁöÑËØùÔºå‰πüÂèØ‰ª•Âú® java.util.function ÂåÖ‰∏ãÊâæÂà∞Áõ∏Â∫îÁöÑÂáΩÊï∞ÂºèÊé•Âè£ ÊØîÂ¶Ç ObjLongConsumer„ÄÇÂÖ∂‰ªñÁöÑÂèØ‰ª•Ëá™Ë°åÊü•Áúã ‰æõÁªôÂûãÊé•Âè£Supplier Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÂêç‰∏∫ getÔºåÂèÇÊï∞ÂàóË°®‰∏∫Á©∫ÔºåÊúâËøîÂõûÂÄºÔºåËøîÂõûÂÄºÂæóÊï∞ÊçÆÁ±ªÂûã‰∏∫T„ÄÇ 123456789101112131415/** * @ClassName SupplerTest * @Description ‰æõÁªôÂûãÊé•Âè£ Â≠óÁ¨¶‰∏≤ÊãºÊé• **/public class SupplerTest &#123; public static void main(String[] args) &#123; String hello = test("hello ", () -&gt; "word!"); System.out.println(hello); &#125; public static String test(String str,Supplier&lt;String&gt; supplier)&#123; return str + supplier.get(); &#125;&#125; ËæìÂá∫‰∏∫Ôºöhello word! Â¶ÇÊûúÈúÄË¶ÅËøîÂõûÂæóÊï∞ÊçÆ‰∏∫Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºåÂèØ‰ª•Âú® java.util.function ÂåÖ‰∏ãÊâæÂà∞Áõ∏Â∫îÁöÑÂáΩÊï∞ÂºèÊé•Âè£ ÊØîÂ¶ÇÔºögetAsLong ÂÖ∂‰ªñÁöÑÂèØ‰ª•Ëá™Ë°åÊü•Áúã ÂáΩÊï∞ÂûãÊé•Âè£‚Äã Function&lt;T, R&gt; Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÂêç‰∏∫ applyÔºåÂèÇÊï∞ÂàóË°®Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞‰∏∫TÔºåÊúâËøîÂõûÂÄºÔºåËøîÂõûÂÄºÁöÑÊï∞ÊçÆÁ±ªÂûã‰∏∫R„ÄÇÔºàÂÄüÈâ¥scalaÂ≠¶‰π†Ôºâ 1234567891011121314151617/** * @ClassName FunctionTest * @Description ÂáΩÊï∞ÂºèÊé•Âè£ Â∞ÜÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêÂ§ßÂÜôÁöÑ **/public class FunctionTest &#123; public static void main(String[] args) &#123; String test = test("hello", x -&gt; x.toUpperCase()); System.out.println(test); &#125; public static String test(String str , Function&lt;String,String&gt; function)&#123; return function.apply(str); &#125;&#125; ËæìÂá∫‰∏∫ÔºöHELLO Â¶ÇÊûúÈúÄË¶ÅÂ§ö‰∏™ÂÖ•ÂèÇÔºåÁÑ∂ÂêéÂèàËøîÂõûÂÄºÁöÑËØùÔºåÂèØ‰ª•Âú® java.util.function ÂåÖ‰∏ãÊâæÂà∞Áõ∏Â∫îÁöÑÂáΩÊï∞ÂºèÊé•Âè£ ÊØîÂ¶Ç BiFunction„ÄÇÂÖ∂‰ªñÁöÑÂèØ‰ª•Ëá™Ë°åÊü•Áúã Êñ≠Ë®ÄÂûãÊé•Âè£‚Äã Êñ≠Ë®ÄÂûãÂèàÂêçÂà§Êñ≠Âûã„ÄÇ Predicate Âè™Êúâ‰∏Ä‰∏™ÊäΩË±°ÊñπÊ≥ïÂêç‰∏∫ testÔºåÂèÇÊï∞ÂàóË°®Âè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ TÔºåÊúâËøîÂõûÂÄºÔºåËøîÂõûÂÄºÁ±ªÂûã‰∏∫ boolean„ÄÇ 12345678910111213141516/** * @ClassName PredicateTest * @Description Êñ≠Ë®ÄÂûãÊé•Âè£ÔºåÂà§Êñ≠Â≠óÁ¨¶‰∏≤Â§ßÂ∞èÊòØÂê¶Â§ß‰∫é6 * @Author ouyangkang * @Date 2019-02-18 16:16 **/public class PredicateTest &#123; public static void main(String[] args) &#123; boolean hello = test("hello", x -&gt; x.length() &gt; 6); System.out.println(hello); &#125; public static boolean test(String str, Predicate&lt;String&gt; predicate)&#123; return predicate.test(str); &#125;&#125;Â§çÂà∂‰ª£Á†Å ËæìÂá∫‰∏∫Ôºö false Stream API‚Äã Stream ‰Ωú‰∏∫ Java 8 ÁöÑ‰∏ÄÂ§ß‰∫ÆÁÇπÔºåÂÆÉ‰∏é java.io ÂåÖÈáåÁöÑ InputStream Âíå OutputStream ÊòØÂÆåÂÖ®‰∏çÂêåÁöÑÊ¶ÇÂøµ„ÄÇStream‰∏≠Èó¥Êìç‰ΩúÔºåÂ§ö‰∏™‰∏≠Èó¥Êìç‰ΩúÂèØ‰ª•ËøûÊé•Ëµ∑Êù•ÂΩ¢Êàê‰∏Ä‰∏™ÊµÅÊ∞¥Á∫øÔºåÈô§ÈùûÊµÅÊ∞¥Á∫ø‰∏äËß¶Âèë‰∫ÜÁªàÊ≠¢Êìç‰ΩúÔºåÂê¶Âàô‰∏≠Èó¥‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÂ§ÑÁêÜÔºÅËÄåÁªàÊ≠¢Êìç‰ΩúÊó∂‰ºö‰∏ÄÊ¨°ÊÄßÂÖ®ÈÉ®Â§ÑÁêÜÔºåÁß∞‰∏∫ÊÉ∞ÊÄßÂ§ÑÁêÜ„ÄÇË¶ÅËøõË°åÊµÅÊìç‰ΩúÈ¶ñÂÖàË¶ÅËé∑ÂèñÊµÅ„ÄÇÊúâ4‰∏≠ÊñπÊ≥ïÂèØ‰ª•Ëé∑ÂèñÊµÅ„ÄÇ ÈõÜÂêàËé∑ÂèñÊµÅ ÈÄöËøáÈõÜÂêàÁ≥ªÂàóÊèê‰æõÁöÑstreamÊñπÊ≥ïÂíå parallelStream()ÔºàÂπ∂Ë°åÊµÅÔºâÊñπÊ≥ïËé∑ÂèñÊµÅ 12345public static void main(String[] args) &#123; List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); // Â∏∏Áî®Ëé∑ÂèñÊµÅÁöÑÊñπÂºè Stream&lt;Integer&gt; stream = list.stream();&#125; 2.ÈÄöËøáArrays.stream() Â∞ÜÊï∞ÁªÑËΩ¨Êç¢ÊàêÊµÅ 12345public static void main(String[] args) &#123; int[] a = new int[]&#123;1,2,3,4&#125;; IntStream stream = Arrays.stream(a); &#125; 3.ÈÄöËøáStream.ofÁöÑÊñπÊ≥ïÂàõÂª∫ÊµÅ 123public static void main(String[] args) &#123; Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3);&#125; 4.ÂàõÂª∫Êó†ÈôêÊµÅ 123public static void main(String[] args) &#123; Stream&lt;Integer&gt; iterate = Stream.iterate(0, x -&gt; x + 2);&#125; ÊâÄÊúâÁöÑÂØπÊµÅÁöÑÊìç‰ΩúÂèØ‰ª•ÂàÜ‰∏∫4ÁßçÔºåÂàÜÂà´‰∏∫Á≠õÈÄâ‰∏éÂàÜÁâáÔºåÊò†Â∞ÑÔºåÊéíÂ∫èÔºåÁªàÁªìÔºàÂΩíÁ∫¶ÔºåÊî∂ÈõÜÔºâ ‰∏≠Èó¥Êìç‰Ωú‰∏ªË¶ÅÊúâ‰ª•‰∏ãÊñπÊ≥ïÔºàÊ≠§Á±ªÂûãÊñπÊ≥ïËøîÂõûÁöÑÈÉΩÊòØStreamÔºâÔºömap (mapToInt, flatMap Á≠â)„ÄÅ filter„ÄÅ distinct„ÄÅ sorted„ÄÅ peek„ÄÅ limit„ÄÅ skip„ÄÅ parallel„ÄÅ sequential„ÄÅ unordered ÁªàÊ≠¢Êìç‰Ωú‰∏ªË¶ÅÊúâ‰ª•‰∏ãÊñπÊ≥ïÔºöforEach„ÄÅ forEachOrdered„ÄÅ toArray„ÄÅ reduce„ÄÅ collect„ÄÅ min„ÄÅ max„ÄÅ count„ÄÅ anyMatch„ÄÅ allMatch„ÄÅ noneMatch„ÄÅ findFirst„ÄÅ findAny„ÄÅ iterator Á≠õÈÄâ‰∏éÂàÜÁâáÊìç‰ΩúÊúâ filter ,distant,limit,skip„ÄÇ filter Ôºö ËøáÊª§Êìç‰Ωú,ÊñπÊ≥ïÂèÇÊï∞‰∏∫*Êñ≠Ë®ÄÂûãÊé•Âè£ * 1234public static void main(String[] args) &#123; Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3); stream.filter(x-&gt;x != 2).forEach(x-&gt; System.out.println(x)); &#125; ËæìÂá∫Ôºö 1213 distinct Ôºö ÂéªÈáçÊìç‰ΩúÔºåÊñπÊ≥ïÊó†ÂèÇÊï∞ limit Ôºö Ëé∑ÂèñÂâçÂá†Êù°Êï∞ÊçÆÔºå*ÊñπÊ≥ïÂèÇÊï∞‰∏∫long * skip Ôºö Ë∑≥ËøáÂâçÂ§öÂ∞ëÊù°Êï∞ÊçÆÔºåÁÑ∂ÂêéËé∑ÂèñÂêéÈù¢ÊâÄÊúâÁöÑ„ÄÇÊñπÊ≥ïÂèÇÊï∞‰∏∫long Êò†Â∞ÑÂ∏∏Áî®Êìç‰ΩúÊúâ map ÔºåflatMap„ÄÇ map: ÂØπÂéüÊï∞ÊçÆËøõË°åÂ§ÑÁêÜÔºåÂπ∂ËøîÂõûÂ§ÑÁêÜÂêéÁöÑÊï∞ÊçÆ„ÄÇ ÊñπÊ≥ïÂèÇÊï∞‰∏∫ÂáΩÊï∞ÂûãÊé•Âè£ 1234public static void main(String[] args) &#123; Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3); stream.map(x-&gt;x*2).forEach(System.out::println); &#125; ËæìÂá∫Ôºö 123246 flatMap Ôºö ‰ΩøÂéüÊù•ÊµÅÁßçÁöÑÂéüÊúâÊï∞ÊçÆ‰∏Ä‰∏™‰∏Ä‰∏™Êï¥ÂêàÂú®Âè¶‰∏Ä‰∏™ÊµÅ‰∏≠„ÄÇÊñπÊ≥ïÂèÇÊï∞‰∏∫ÂáΩÊï∞ÂûãÊé•Âè£Ôºå‰ΩÜÊòØËøîÂõûÂÄº‰∏∫ÊµÅ 12345public static void main(String[] args) &#123; List&lt;String&gt; list = Arrays.asList("a", "b", "c"); List&lt;String&gt; list2 = Arrays.asList("f","d"); list.stream().flatMap(x-&gt;list2.stream().map(y-&gt; x + y)).forEach(System.out::println);&#125; ÊéíÂ∫èÂ∏∏Áî®Êìç‰ΩúÊúâsortËá™ÁÑ∂ÊéíÂ∫èÔºåÂêàsortÂèÇÊï∞‰∏∫ÊéíÂ∫èÂô®ÁöÑÂÆöÂà∂ÊéíÂ∫è Ëá™ÁÑ∂ÊéíÂ∫è 1234public static void main(String[] args) &#123; Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3); stream.sorted().forEach(System.out::println); &#125; ËæìÂá∫Ôºö 123123 ÂÆöÂà∂ÊéíÂ∫èÔºà(x,y)-&gt;-Integer.compare(x,y)Ôºâ 12345 public static void main(String[] args) &#123; Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3); stream.sorted((x,y)-&gt;-Integer.compare(x,y)).forEach(System.out::println); &#125;Â§çÂà∂‰ª£Á†Å ËæìÂá∫Ôºö 123321 ÁªàÊ≠¢Êìç‰Ωú allMatch Ê£ÄÊü•ÊòØÂê¶ÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† ÊñπÊ≥ïÂèÇÊï∞‰∏∫Êñ≠Ë®ÄÂûãÊé•Âè£ anyMatch Ê£ÄÊü•ÊòØÂê¶ÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† ÊñπÊ≥ïÂèÇÊï∞‰∏∫Êñ≠Ë®ÄÂûãÊé•Âè£ noneMatch Ê£ÄÊü•ÊòØÂê¶Ê≤°ÊúâÂåπÈÖçÊâÄÊúâÂÖÉÁ¥† ÊñπÊ≥ïÂèÇÊï∞‰∏∫Êñ≠Ë®ÄÂûãÊé•Âè£ findFirst ËøîÂõûÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† Êó†ÊñπÊ≥ïÂèÇÊï∞ findAny ËøîÂõûÂΩìÂâçÊµÅÁöÑ‰ªªÊÑèÂÖÉÁ¥† Êó†ÊñπÊ≥ïÂèÇÊï∞ count ËøîÂõûÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÊÄª‰∏™Êï∞ Êó†ÊñπÊ≥ïÂèÇÊï∞ max ËøîÂõûÊµÅÁöÑÊúÄÂ§ßÂÄº Êó†ÊñπÊ≥ïÂèÇÊï∞ min ËøîÂõûÊµÅ‰∏≠ÁöÑÊúÄÂ∞èÂÄº Êó†ÊñπÊ≥ïÂèÇÊï∞ ÂΩíÁ∫¶reduce : ÂΩíÁ∫¶ ‚Äì ÂèØ‰ª•Â∞ÜÊµÅ‰∏≠ÁöÑÂÖÉÁ¥†ÂèçÂ§çÁªìÂêàËµ∑Êù•ÔºåÂæóÂà∞‰∏Ä‰∏™ÂÄº 12345public static void main(String[] args) &#123; List&lt;Integer&gt; list1 = Arrays.asList(1,2,3,4,5,6,7,8,9,10); Integer reduce = list1.stream().reduce(11, (x, y) -&gt; x + y); System.out.println(reduce); &#125; ËæìÂá∫ Ôºö 66 Êî∂ÈõÜ‚Äã Ëøô‰∏™ÊòØÈùûÂ∏∏Â∏∏Áî®ÁöÑ‰∏Ä‰∏™Êìç‰Ωú„ÄÇ Â∞ÜÊµÅË£ÖÊç¢‰∏∫ÂÖ∂‰ªñÂΩ¢Âºè„ÄÇÊé•Êî∂Âà∞‰∏Ä‰∏™CollectorÊé•Âè£ÁöÑÂÆûÁé∞ÔºåÁî®‰∫éÁªôStream‰∏≠ÁöÑÂÖÉÁ¥†Ê±áÊÄªÁöÑÊñπÊ≥ï„ÄÇÁî®collectÊñπÊ≥ïËøõË°åÊî∂ÈõÜ„ÄÇÊñπÊ≥ïÂèÇÊï∞‰∏∫Collector„ÄÇCollectorÂèØ‰ª•Áî±Collectors‰∏≠ÁöÑtoList()ÔºåtoSet(),toMap(Function(T,R) key,Function(T,R) value)Á≠âÈùôÊÄÅÊñπÊ≥ïÂÆûÁé∞„ÄÇ toList() ËøîÂõû‰∏Ä‰∏™ Collector ÔºåÂÆÉÂ∞ÜËæìÂÖ•ÂÖÉÁ¥† ListÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ List „ÄÇ toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper) ËøîÂõû‰∏Ä‰∏™ Collector ÔºåÂÆÉÂ∞ÜÂÖÉÁ¥†Á¥ØÂä†Âà∞‰∏Ä‰∏™ Map ÔºåÂÖ∂ÈîÆÂíåÂÄºÊòØÂ∞ÜÊâÄÊèê‰æõÁöÑÊò†Â∞ÑÂáΩÊï∞Â∫îÁî®‰∫éËæìÂÖ•ÂÖÉÁ¥†ÁöÑÁªìÊûú„ÄÇ toSet() ËøîÂõû‰∏Ä‰∏™ Collector ÔºåÂ∞ÜËæìÂÖ•ÂÖÉÁ¥† SetÂà∞‰∏Ä‰∏™Êñ∞ÁöÑ Set „ÄÇ eg: UserÁ±ª 1234567891011121314151617181920@Data@ToStringpublic class User &#123; private String name; private Integer age; private Integer salary;&#125; public static void main(String[] args) &#123; List&lt;User&gt; users = Arrays.asList(new User("Âº†‰∏â", 19, 1000), new User("Âº†‰∏â", 58, 2000), new User("ÊùéÂõõ", 38, 3000), new User("Ëµµ‰∫î", 48, 4000) ); List&lt;String&gt; collect = users.stream().map(x -&gt; x.getName()).collect(Collectors.toList()); Set&lt;String&gt; collect1 = users.stream().map(x -&gt; x.getName()).collect(Collectors.toSet()); Map&lt;Integer, String&gt; collect2 = users.stream().collect(Collectors.toMap(x -&gt; x.getAge(), x -&gt; x.getName())); System.out.println(collect); System.out.println(collect1); System.out.println(collect2); &#125; ËæìÂá∫Ôºö 123[Âº†‰∏â, Âº†‰∏â, ÊùéÂõõ, Ëµµ‰∫î][ÊùéÂõõ, Âº†‰∏â, Ëµµ‰∫î]&#123;48=Ëµµ‰∫î, 19=Âº†‰∏â, 38=ÊùéÂõõ, 58=Âº†‰∏â&#125; ÂàÜÁªÑ‚Äã Collectors.groupingBy()ÊñπÊ≥ïÊòØ ËøîÂõû Collector ‚ÄúÁî±Âü∫Âõ¢‚Äù‰∏äÁöÑÁ±ªÂûãÁöÑËæìÂÖ•ÂÖÉ‰ª∂Êìç‰ΩúÂÆûÁé∞ T ÔºåÊ†πÊçÆÂàÜÁ±ªÂäüËÉΩÂàÜÁªÑÂÖÉÁ¥†„ÄÇËøô‰∏™ÊòØÈùûÂ∏∏Â∏∏Áî®ÁöÑÊìç‰Ωú„ÄÇ ÊØîÂ¶Ç‰Ω†Ë¶ÅÂØπÂêçÂ≠óÁõ∏ÂêåÁöÑËøõË°åÂàÜÁªÑ„ÄÇ groupingBy(Function&lt;? super T,? extends K&gt; classifier) eg: 123456789public static void main(String[] args) &#123; List&lt;User&gt; users = Arrays.asList(new User("Âº†‰∏â", 19, 1000), new User("Âº†‰∏â", 58, 2000), new User("ÊùéÂõõ", 38, 3000), new User("Ëµµ‰∫î", 48, 4000) ); Map&lt;String, List&lt;User&gt;&gt; collect3 = users.stream().collect(Collectors.groupingBy(x -&gt; x.getName())); System.out.println(collect3);&#125; ËæìÂá∫Ôºö{ÊùéÂõõ=[User{name=‚ÄôÊùéÂõõ‚Äô, age=38, salary=3000}], Âº†‰∏â=[User{name=‚ÄôÂº†‰∏â‚Äô, age=19, salary=1000}, User{name=‚ÄôÂº†‰∏â‚Äô, age=58, salary=2000}], Ëµµ‰∫î=[User{name=‚ÄôËµµ‰∫î‚Äô, age=48, salary=4000}]} ÂΩìÁÑ∂ËøòÊúâÂÖ∂‰ªñÁöÑ‰∏Ä‰∫õÊØîËæÉÂ§çÊùÇÁöÑÂàÜÁªÑÊìç‰ΩúÔºåÂÆûÈôÖ‰ª£Á†ÅÁúã‰∏öÂä°Êù•ËøõË°åÂÆûÁé∞„ÄÇ ÊÄªÁªì‚Äã java8‰∏≠ÁöÑlambdaË°®ËææÂºèÂèØËÉΩ‰∏ÄÂºÄÂßãÁî®ÁöÑÊó∂ÂÄôËøò‰∏çÊòØÂæàÁÜüÊÇâÔºå‰ΩÜÊòØÂè™Ë¶ÅÁÜüÊÇâ‰∫ÜÔºå‰Ω†‰ºöÂèëÁé∞ÈùûÂ∏∏ÁöÑÂ•ΩÁî®ÔºåËÄå‰∏îlambdaË°®ËææÂºèÁªìÂêàstream APIÂèØ‰ª•ËøõË°åÁºñÂÜôËá™Â∑±ÁöÑÂ∑•ÂÖ∑Á±ª„ÄÇÂú®Âπ≥Â∏∏È°πÁõÆ‰∏≠ÂèØ‰ª•ÈùûÂ∏∏ÁöÑÁúÅÊó∂Èó¥ÔºåÊèêÈ´òÂÜô‰ª£Á†ÅÁöÑÊïàÁéá„ÄÇÊàëÁé∞Âú®ÁªôÂá∫‰∏Ä‰∏™ListËΩ¨MapÁöÑÂ∑•ÂÖ∑Á±ª„ÄÇ 123456789101112131415161718192021222324252627282930public class CollectionStream &#123; public static void main(String[] args) &#123; List&lt;User&gt; users = Arrays.asList(new User("Âº†‰∏â", 19, 1000), new User("Âº†‰∏â", 58, 2000), new User("ÊùéÂõõ", 38, 3000), new User("Ëµµ‰∫î", 48, 4000) ); Map&lt;Integer, Integer&gt; map = listToMap(users, x -&gt; x.getAge(), x -&gt; x.getSalary()); System.out.println(map); &#125; /** * @Description list ËΩ¨map key‰∏çËÉΩÁõ∏Âêå ÔºåÂ¶ÇÊûúÁõ∏Âêå‰ºöÊä•Èîô„ÄÇ ÊñπÊ≥ïÂØπ Ê∫êÊï∞ÊçÆÔºåkeyÔºåvalueËøáÊª§null„ÄÇ * @param source Ê∫êÊï∞ÊçÆ * @param key * @param value * @return java.util.Map&lt;K,V&gt; **/ public static &lt;DTO, K, V&gt; Map&lt;K, V&gt; listToMap(List&lt;DTO&gt; source, Function&lt;? super DTO, ? extends K&gt; key, Function&lt;? super DTO, ? extends V&gt; value) &#123; Objects.requireNonNull(source, "source not null"); Objects.requireNonNull(key, "key not null"); Objects.requireNonNull(value, "value not null"); Map&lt;K, V&gt; map = source.stream() .filter(dto -&gt; dto != null) .filter(dto -&gt; key.apply(dto) != null) .filter(dto -&gt; value.apply(dto) != null) .collect(Collectors.toMap(key, value)); return map; &#125;&#125;]]></content>
      <tags>
        <tag>-lambda -Stream</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ËßÇÂØüËÄÖÊ®°Âºè]]></title>
    <url>%2F2019%2F10%2F29%2F%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Ê®°ÂºèÂÆö‰πâËßÇÂØüËÄÖÊ®°ÂºèÊòØÂØπË±°Ë°å‰∏∫Ê®°ÂºèÔºåÂèàÂè´ÂèëÂ∏É-ËÆ¢ÈòÖÊ®°ÂºèÔºàpublish/subscribeÔºâÊ®°ÂºèÔºåÊ∫ê-ÁõëËßÜÂô®Ê®°ÂºèÔºàsource/Listener)Ê®°Âºè„ÄÇ ËßÇÂØüËÄÖÊ®°ÂºèÂÆö‰πâ‰∫Ü‰∏ÄÁßç‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåËÆ©Â§ö‰∏™ËßÇÂØüËÄÖÂØπË±°Âêå‰∫ãÁõëÂê¨Êüê‰∏Ä‰∏™‰∏ªÈ¢òÂØπË±°ÔºåËøô‰∏™‰∏ªÈ¢òÂØπË±°Âú®Áä∂ÊÄÅ‰∏äÂèëÁîüÂèòÂåñÊó∂Ôºå‰ºöÈÄöÁü•ÊâÄÊúâËßÇÂØüËÄÖÂØπË±°Ôºå‰Ωø‰ªñ‰ª¨ËÉΩÂ§üÂÅöÂá∫Áõ∏Â∫îÁöÑÊìç‰Ωú„ÄÇ Ê®°ÂºèÁªìÊûÑËΩØ‰ª∂Á≥ªÁªü‰∏≠ÔºåÂ∏∏Â∏∏Âõ†‰∏∫‰∏Ä‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÊüê‰∫õÂÖ∂‰ªñÂØπË±°ÂÅöÂá∫Áõ∏Â∫îÁöÑÊîπÂèòÔºåÂÅöÂà∞Ëøô‰∏ÄÁÇπÁöÑËÆæËÆ°ÊñπÊ°àÊúâÂæàÂ§öÔºå‰ΩÜ‰∏∫‰∫ÜÁ≥ªÁªüÁ®≥ÂÆöÊÄßÔºåÈÄâÊã©‰ΩéËÄ¶ÂêàÁöÑËßÇÂØüËÄÖÊ®°ÂºèÔºåÊúâÂä©‰∫éÁ≥ªÁªüÁöÑÂ§çÁî®Ôºå‰øùËØÅÈ´òÂ∫¶Âçè‰Ωú„ÄÇ Ê®°ÂºèÊèèËø∞ÊÑèÂõæÔºöÂÆö‰πâÂØπË±°Èó¥ÁöÑ‰∏ÄÁßç‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÊâÄÊúâ‰æùËµñ‰∫éÂÆÉÁöÑÂØπË±°ÈÉΩÂæóÂà∞ÈÄöÁü•Âπ∂Ë¢´Ëá™Âä®Êõ¥Êñ∞„ÄÇ ‰∏ªË¶ÅËß£ÂÜ≥Ôºö‰∏Ä‰∏™ÂØπË±°Áä∂ÊÄÅÊîπÂèòÁªôÂÖ∂‰ªñÂØπË±°ÈÄöÁü•ÁöÑÈóÆÈ¢òÔºåËÄå‰∏îË¶ÅËÄÉËôëÂà∞ÊòìÁî®Âíå‰ΩéËÄ¶ÂêàÔºå‰øùËØÅÈ´òÂ∫¶ÁöÑÂçè‰Ωú„ÄÇ ‰ΩïÊó∂‰ΩøÁî®Ôºö‰∏Ä‰∏™ÂØπË±°ÔºàÁõÆÊ†áÂØπË±°ÔºâÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÔºåÊâÄÊúâÁöÑ‰æùËµñÂØπË±°ÔºàËßÇÂØüËÄÖÂØπË±°ÔºâÈÉΩÂ∞ÜÂæóÂà∞ÈÄöÁü•ÔºåËøõË°åÂπøÊí≠ÈÄöÁü•„ÄÇ Â¶Ç‰ΩïËß£ÂÜ≥Ôºö‰ΩøÁî®Èù¢ÂêëÂØπË±°ÊäÄÊúØÔºåÂèØ‰ª•Â∞ÜËøôÁßç‰æùËµñÂÖ≥Á≥ªÂº±Âåñ„ÄÇ ÂÖ≥ÈîÆ‰ª£Á†ÅÔºöÂú®ÊäΩË±°Á±ªÈáåÊúâ‰∏Ä‰∏™ ArrayList Â≠òÊîæËßÇÂØüËÄÖ‰ª¨„ÄÇ ‰ΩøÁî®Âú∫ÊôØÔºö ‰∏Ä‰∏™ÊäΩË±°Ê®°ÂûãÊúâ‰∏§‰∏™ÊñπÈù¢ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÊñπÈù¢‰æùËµñ‰∫éÂè¶‰∏Ä‰∏™ÊñπÈù¢„ÄÇÂ∞ÜËøô‰∫õÊñπÈù¢Â∞ÅË£ÖÂú®Áã¨Á´ãÁöÑÂØπË±°‰∏≠‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•ÂêÑËá™Áã¨Á´ãÂú∞ÊîπÂèòÂíåÂ§çÁî®„ÄÇ ‰∏Ä‰∏™ÂØπË±°ÁöÑÊîπÂèòÂ∞ÜÂØºËá¥ÂÖ∂‰ªñ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°‰πüÂèëÁîüÊîπÂèòÔºåËÄå‰∏çÁü•ÈÅìÂÖ∑‰ΩìÊúâÂ§öÂ∞ëÂØπË±°Â∞ÜÂèëÁîüÊîπÂèòÔºåÂèØ‰ª•Èôç‰ΩéÂØπË±°‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶„ÄÇ ‰∏Ä‰∏™ÂØπË±°ÂøÖÈ°ªÈÄöÁü•ÂÖ∂‰ªñÂØπË±°ÔºåËÄåÂπ∂‰∏çÁü•ÈÅìËøô‰∫õÂØπË±°ÊòØË∞Å„ÄÇ ÈúÄË¶ÅÂú®Á≥ªÁªü‰∏≠ÂàõÂª∫‰∏Ä‰∏™Ëß¶ÂèëÈìæÔºåAÂØπË±°ÁöÑË°å‰∏∫Â∞ÜÂΩ±ÂìçBÂØπË±°ÔºåBÂØπË±°ÁöÑË°å‰∏∫Â∞ÜÂΩ±ÂìçCÂØπË±°‚Ä¶‚Ä¶ÔºåÂèØ‰ª•‰ΩøÁî®ËßÇÂØüËÄÖÊ®°ÂºèÂàõÂª∫‰∏ÄÁßçÈìæÂºèËß¶ÂèëÊú∫Âà∂„ÄÇ ËßíËâ≤ ÊäΩË±°‰∏ªÈ¢òÔºàSubject)ËßíËâ≤ÔºöÊäΩË±°‰∏ªÈ¢òËßíËâ≤ÊääÊâÄÊúâÂØπËßÇÂØüËÄÖÂØπË±°ÁöÑÂºïÁî®‰øùÂ≠òÂú®‰∏Ä‰∏™ËÅöÈõÜÔºàÊØîÂ¶ÇArrayList)ÈáåÔºåÊØè‰∏Ä‰∏™‰∏ªÈ¢òÈÉΩÂèØ‰ª•Êúâ‰ªª‰ΩïÊï∞ÈáèÁöÑËßÇÂØüËÄÖ„ÄÇÊäΩË±°‰∏ªÈ¢òÊèê‰æõ‰∏Ä‰∏™Êé•Âè£ÔºàÊäΩË±°Á±ª)ÔºåÂèØ‰ª•Â¢ûÂä†ÂíåÂà†Èô§ËßÇÂØüËÄÖÔºåÊäΩË±°‰∏ªÈ¢òËßíËâ≤ÂèàÂè´ÊäΩË±°Ë¢´ËßÇÂØüËÄÖÔºàObservable)ËßíËâ≤„ÄÇ ÂÖ∑‰Ωì‰∏ªÈ¢òÔºàConcreteSubject)ËßíËâ≤ÔºöÂ∞ÜÊúâÂÖ≥Áä∂ÊÄÅÂ≠òÂÖ•ÂÖ∑‰ΩìÁöÑËßÇÂØüËÄÖÂØπË±°ÔºõÂú®ÂÖ∑‰Ωì‰∏ªÈ¢òÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÊîπÂèòÊó∂ÔºåÁªôÊâÄÊúâÁôªÂΩïËÆ¢ÈòÖËøáÁöÑËßÇÂØüËÄÖÂèëÈÄÅÈÄöÁü•„ÄÇÂÖ∑‰Ωì‰∏ªÈ¢òÂØπË±°ÂèàÂè´ÂÖ∑‰ΩìË¢´ËßÇÂØüËÄÖÔºàConcrete ObservableÔºâËßíËâ≤„ÄÇ ÊäΩË±°ËßÇÂØüËÄÖ(Observer)ËßíËâ≤ÔºöÁªôÊâÄÊúâÁöÑÂÖ∑‰ΩìËßÇÂØüËÄÖÂÆö‰πâ‰∏Ä‰∏™Êé•Âè£ÔºåÂú®ÂæóÂà∞‰∏ªÈ¢òÁöÑÈÄöÁü•Êó∂Êõ¥Êñ∞Ëá™Â∑±ÔºåËøô‰∏™Êé•Âè£Âè´ÂÅöÊõ¥Êñ∞Êé•Âè£„ÄÇ ÂÖ∑‰ΩìËßÇÂØüËÄÖÔºàConcrete ObserverÔºâËßíËâ≤ÔºöÂ≠òÂÇ®‰∏é‰∏ªÈ¢òÁöÑÁä∂ÊÄÅËá™ÊÅ∞ÁöÑÁä∂ÊÄÅÔºåÂÖ∑‰ΩìËßÇÂØüËÄÖÂÆûÁé∞ÊäΩË±°ËßÇÂØüËÄÖËßíËâ≤ÊâÄË¶ÅÊ±ÇÁöÑÊõ¥Êñ∞Êé•Âè£Ôºå‰ª•‰æø‰ΩøÊú¨Ë∫´ÁöÑÁä∂ÊÄÅ‰∏é‰∏ªÈ¢òÁõ∏ÂçèË∞ÉÔºåÂÖ∑‰ΩìËßÇÂØüËÄÖÂèØ‰ª•‰øùÊåÅ‰∏Ä‰∏™ÊåáÂêëÂÖ∑‰Ωì‰∏ªÈ¢òÂØπË±°ÁöÑÂºïÁî®„ÄÇ ÂÆûÁé∞‰ª£Á†ÅÁ§∫‰æãÔºö ÊäΩË±°‰∏ªÈ¢òÁ±ª 12345678910111213141516171819202122232425262728293031public abstract class Subject &#123; /** * Áî®Êù•‰øùÂ≠òÊ≥®ÂÜåÁöÑËßÇÂØüËÄÖÂØπË±° */ private List&lt;Observer&gt; list = new ArrayList&lt;Observer&gt;(); /** * Ê≥®ÂÜåËßÇÂØüËÄÖÂØπË±° * @param observer ËßÇÂØüËÄÖÂØπË±° */ public void attach(Observer observer)&#123; list.add(observer); System.out.println("Attached an observer"); &#125; /** * Âà†Èô§ËßÇÂØüËÄÖÂØπË±° * @param observer ËßÇÂØüËÄÖÂØπË±° */ public void detach(Observer observer)&#123; list.remove(observer); &#125; /** * ÈÄöÁü•ÊâÄÊúâÊ≥®ÂÜåÁöÑËßÇÂØüËÄÖÂØπË±° */ public void nodifyObservers(String newState)&#123; for(Observer observer : list)&#123; //Êé®Ê®°Âºè‰∏ãÔºåÈúÄË¶Å‰º†ÂÖ•Áä∂ÊÄÅ //ÊãâÊ®°Âºè‰∏ãÔºå‰∏çÈúÄË¶Å‰º†ÂÖ•Áä∂ÊÄÅ observer.update(newState); &#125; &#125;&#125; ÂÖ∑‰Ωì‰∏ªÈ¢òËßíËâ≤Á±ªÔºö 1234567891011121314public class ConcreteSubject extends Subject&#123; private String state; public String getState() &#123; return state; &#125; public void change(String newState)&#123; state = newState; System.out.println("‰∏ªÈ¢òÁä∂ÊÄÅ‰∏∫Ôºö" + state); //Áä∂ÊÄÅÂèëÁîüÊîπÂèòÔºåÈÄöÁü•ÂêÑ‰∏™ËßÇÂØüËÄÖ //Âú®Êé®Ê®°Âºè‰∏ãÔºåÈúÄË¶Å‰º†ÂÖ•ÂèÇÊï∞ //ÊãâÊ®°Âºè‰∏ãÔºå‰∏çÈúÄË¶Å‰º†ÂÖ•ÂèÇÊï∞ this.nodifyObservers(state);//Ë∞ÉÁî®Áà∂Á±ªÂÆö‰πâÊñπÊ≥ï &#125;&#125; ÊäΩË±°ËßÇÂØüËÄÖËßíËâ≤Á±ªÔºö 1234567public interface Observer &#123; /** * Êõ¥Êñ∞Êé•Âè£ * @param state Êõ¥Êñ∞ÁöÑÁä∂ÊÄÅ */ public void update(String state);&#125; ÂÖ∑‰ΩìËßÇÂØüËÄÖËßíËâ≤Á±ªÔºö 123456789101112public class ConcreteObserver implements Observer &#123; //ËßÇÂØüËÄÖÁöÑÁä∂ÊÄÅ private String observerState; @Override public void update(String state) &#123; /** * Êõ¥Êñ∞ËßÇÂØüËÄÖÁöÑÁä∂ÊÄÅÔºå‰ΩøÂÖ∂‰∏éÁõÆÊ†áÁöÑÁä∂ÊÄÅ‰øùÊåÅ‰∏ÄËá¥ */ observerState = state; System.out.println("Áä∂ÊÄÅ‰∏∫Ôºö"+observerState); &#125;&#125; ÂÆ¢Êà∑Á´ØÔºö 123456789101112public class Client &#123; public static void main(String[] args) &#123; //ÂàõÂª∫‰∏ªÈ¢òÂØπË±° ConcreteSubject subject = new ConcreteSubject(); //ÂàõÂª∫ËßÇÂØüËÄÖÂØπË±° Observer observer = new ConcreteObserver(); //Â∞ÜËßÇÂØüËÄÖÂØπË±°ÁôªËÆ∞Âà∞‰∏ªÈ¢òÂØπË±°‰∏ä subject.attach(observer); //ÊîπÂèò‰∏ªÈ¢òÂØπË±°ÁöÑÁä∂ÊÄÅ subject.change("new state"); &#125;&#125; Êé®Ê®°ÂºèÂíåÊãâÊ®°ÂºèÊé®Ê®°Âºè‰∏äÈù¢ÁöÑ‰æãÂ≠êÂ∞±ÊòØÂÖ∏ÂûãÁöÑÊé®Ê®°ÂºèÔºå‰∏ªÈ¢òÂØπË±°ÂêëËßÇÂØüËÄÖÊé®ÈÄÅËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ ÊãâÊ®°Âºè‰∏ªÈ¢òÂØπË±°Âú®ÈÄöÁü•ËßÇÂØüËÄÖÁöÑÊó∂ÂÄôÔºåÂè™‰º†ÈÄíÂ∞ëÈáè‰ø°ÊÅØ„ÄÇÂ¶ÇÊûúËßÇÂØüËÄÖÈúÄË¶ÅÊõ¥ÂÖ∑‰ΩìÁöÑ‰ø°ÊÅØÔºåÁî±ËßÇÂØüËÄÖ‰∏ªÂä®Âà∞‰∏ªÈ¢òÂØπË±°‰∏≠Ëé∑ÂèñÔºåÁõ∏ÂΩì‰∫éÊòØËßÇÂØüËÄÖ‰ªé‰∏ªÈ¢òÂØπË±°‰∏≠ÊãâÊï∞ÊçÆ„ÄÇ‰∏ÄËà¨ËøôÁßçÊ®°ÂûãÁöÑÂÆûÁé∞‰∏≠Ôºå‰ºöÊää‰∏ªÈ¢òÂØπË±°Ëá™Ë∫´ÈÄöËøáupdate()ÊñπÊ≥ï‰º†ÈÄíÁªôËßÇÂØüËÄÖÔºåËøôÊ†∑Âú®ËßÇÂØüËÄÖÈúÄË¶ÅËé∑ÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáËøô‰∏™ÂºïÁî®Êù•Ëé∑Âèñ‰∫Ü„ÄÇ Ë∞ÉÁî®ËßÇÂØüËÄÖÁöÑÊñπÊ≥ïÊó∂Ôºå‰∏çÈúÄË¶Å‰º†ÂÖ•ÂèÇÊï∞ ËßÇÂØüËÄÖÊ®°Âºè‰∏éËÆ¢ÈòÖÊ®°Âºè ËßÇÂØüËÄÖÊ≥®ÂÜåÂà∞ÁõÆÊ†áÔºõÁõÆÊ†áÂèëÁîüÊîπÂèòÊó∂ÔºåË∞ÉÁî®ËßÇÂØüËÄÖÊñπÊ≥ï ËÆ¢ÈòÖËÄÖÊääËá™Â∑±ÊÉ≥ËÆ¢ÈòÖÁöÑ‰∫ã‰ª∂Ê≥®ÂÜåÂà∞Ë∞ÉÂ∫¶‰∏≠ÂøÉÔºåÂΩìËØ•‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÂÄôÔºåÂèëÂ∏ÉËÄÖÂèëÂ∏ÉËØ•‰∫ã‰ª∂Âà∞Ë∞ÉÂ∫¶‰∏≠ÂøÉÔºàÈ°∫Â∏¶‰∏ä‰∏ãÊñáÔºâÔºåÁî±Ë∞ÉÂ∫¶‰∏≠ÂøÉÁªü‰∏ÄË∞ÉÂ∫¶ËÆ¢ÈòÖËÄÖÊ≥®ÂÜåÂà∞Ë∞ÉÂ∫¶‰∏≠ÂøÉÁöÑÂ§ÑÁêÜ‰ª£Á†Å ÊÄªÁªì ‰ªé‰∏§Âº†ÂõæÁâáÂèØ‰ª•ÁúãÂà∞ÔºåÊúÄÂ§ßÁöÑÂå∫Âà´ÊòØË∞ÉÂ∫¶ÁöÑÂú∞Êñπ„ÄÇ ËôΩÁÑ∂‰∏§ÁßçÊ®°ÂºèÈÉΩÂ≠òÂú®ËÆ¢ÈòÖËÄÖÂíåÂèëÂ∏ÉËÄÖÔºàÂÖ∑‰ΩìËßÇÂØüËÄÖÂèØËÆ§‰∏∫ÊòØËÆ¢ÈòÖËÄÖ„ÄÅÂÖ∑‰ΩìÁõÆÊ†áÂèØËÆ§‰∏∫ÊòØÂèëÂ∏ÉËÄÖÔºâÔºå‰ΩÜÊòØËßÇÂØüËÄÖÊ®°ÂºèÊòØÁî±ÂÖ∑‰ΩìÁõÆÊ†áË∞ÉÂ∫¶ÁöÑÔºåËÄåÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÊòØÁªü‰∏ÄÁî±Ë∞ÉÂ∫¶‰∏≠ÂøÉË∞ÉÁöÑÔºåÊâÄ‰ª•ËßÇÂØüËÄÖÊ®°ÂºèÁöÑËÆ¢ÈòÖËÄÖ‰∏éÂèëÂ∏ÉËÄÖ‰πãÈó¥ÊòØÂ≠òÂú®‰æùËµñÁöÑÔºåËÄåÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÂàô‰∏ç‰ºö„ÄÇ ‰∏§ÁßçÊ®°ÂºèÈÉΩÂèØ‰ª•Áî®‰∫éÊùæÊï£ËÄ¶ÂêàÔºåÊîπËøõ‰ª£Á†ÅÁÆ°ÁêÜÂíåÊΩúÂú®ÁöÑÂ§çÁî®„ÄÇ]]></content>
      <tags>
        <tag>-ËÆæËÆ°Ê®°Âºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaÂü∫Êú¨Ê≥®Ëß£]]></title>
    <url>%2F2019%2F10%2F28%2FJava%E5%9F%BA%E6%9C%AC%E6%B3%A8%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[AnnotationÁöÑÊ¶ÇÂøµ‰∏é‰ΩúÁî®ÂÖÉÊï∞ÊçÆÔºàMeteDataÔºâ‰πüÂ∞±ÊòØAnnotationÔºåËøôÊòØ‰∏ÄÁßç‰ª£Á†ÅÈáåÁöÑÁâπÊÆäÊ†áÂøóÔºåÂèØÂú®ÁºñËØëÔºåÁ±ªÂä†ËΩΩÔºåËøêË°åÊó∂Ë¢´ËØªÂèñ„ÄÇ AnnotationÂ∞±ÂÉè‰øÆÈ•∞Á¨¶‰∏ÄÊ†∑ÔºåÂèØÁî®‰∫é‰øÆÈ•∞ÂåÖÔºåÁ±ªÔºåÊûÑÈÄ†Âô®ÔºåÊñπÊ≥ïÔºå ÊàêÂëòÂèòÈáèÔºåÂèÇÊï∞ÔºåÂ±ÄÈÉ®ÂèòÈáèÁöÑÂ£∞ÊòéÔºåËøô‰∫õ‰ø°ÊÅØË¢´Â≠òÂÇ®Âà∞AnnotationÁöÑ‚Äúname=value‚ÄùÂØπ‰∏≠ AnnotationÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÁ®ãÂ∫èÈÄöËøáÂèçÂ∞ÑÊù•Ëé∑ÂèñÊåáÂÆöÁ®ãÂ∫èÂÖÉÁ¥†ÁöÑAnnotationÂØπË±°ÔºåÁÑ∂ÂêéÈÄöËøáAnnotationÂØπË±°Êù•Ëé∑ÂèñÊ≥®ÈáäÈáåÁöÑÂÖÉÊï∞ÊçÆ Âü∫Êú¨Annotation ÂõõÁßçÂü∫Êú¨ÁöÑAnnotationÂ¶Ç‰∏ãÔºö @Override @Deprecated @SuppressWarinings @SafeVarargs @OverrideÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@OverrideÁî®Êù•Âà∂ÂÆöÊñπÊ≥ïË¶ÜÁõñÂ∫¶ÔºåÂº∫Âà∂‰∏Ä‰∏™Â≠êÁ±ªÂøÖÈ°ªË¶ÜÁõñÁà∂Á±ªÁöÑÊñπÊ≥ïÔºõÁî®‰∫éÈÅøÂÖçÊôÆÈÄöÂ≠êÁ±ªÊ≤°Ë¶ÜÁõñÁà∂Á±ªÊäΩË±°ÊñπÊ≥ïÔºåÊñπÊ≥ïÂêçÂÜôÈîô @DeprecatedÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@DeprecatedÁî®‰∫éË°®Á§∫Êüê‰∏™Á®ãÂ∫èÂÖÉÁ¥†ÔºàÊñπÊ≥ïÔºåÁ±ªÁ≠âÔºâÂ∑≤ËøáÊó∂ÔºåÂΩì‰ΩøÁî®ËøáÊó∂Á±ªÔºåÊñπÊ≥ïÊó∂Ôºå‰ºöÂèëÂá∫Ë≠¶Âëä‰ø°ÊÅØ @SuppressWariningsÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@SuppressWariningsÊåáÁ§∫Ë¢´ËØ•Annotation‰øÆÈ•∞ÁöÑÁ®ãÂ∫èÂÖÉÁ¥†Ôºà‰ª•ÂèäËØ•Á®ãÂ∫èÂÖÉÁ¥†ÁöÑÊâÄÊúâÂ≠êÂÖÉÁ¥†ÔºâÂèñÊ∂àÊòæÁ§∫ÊåáÂÆöÁöÑÁºñËØëÂô®ÈîôËØØ @SafeVarargsÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@SafeVarargsÁî®‰∫éËß£ÂÜ≥‚ÄúÂ†ÜÊ±°Êüì‚ÄùË≠¶Âëä ‚ÄúÂ†ÜÊ±°Êüì‚ÄùÔºöÂΩìÊää‰∏Ä‰∏™‰∏çÂ∏¶Ê≥õÂûãÁöÑÂØπË±°ËµãÂÄºÁªô‰∏Ä‰∏™Â∏¶Ê≥õÂûãÁöÑÂèòÈáèÊó∂ÔºåÂæÄÂæÄ‰ºö‰∫ßÁîüÂ†ÜÊ±°Êüì JDKÁöÑÂÖÉAnnotation‰∏äÈù¢Âõõ‰∏™Âü∫Êú¨Ê≥®Ëß£ÊòØÂú®java.langÂåÖ‰∏ãÁöÑÔºå Ê≠§Â§ñËøòÂú®java.lang.annotationÂåÖ‰∏ãÊèê‰æõ4‰∏™Meta AnnotationÔºåËøôÂõõ‰∏™AnnotationÈÉΩÁî®‰∫é‰øÆÈ•∞ÂÖ∂‰ªñÁöÑAnnotationÁöÑÂÆö‰πâ @Retention @Target @Document @Inherited @RetentionÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@RetentionÂè™ËÉΩÁî®‰∫é‰øÆÈ•∞‰∏Ä‰∏™AnnotationÂÆö‰πâÔºåÊåáÂÆöË¢´‰øÆÈ•∞ÁöÑAnnotationÂèØ‰ª•‰øùÁïôÂ§öÈïøÊó∂Èó¥ @RetentionÂåÖÂê´‰∏Ä‰∏™RetentionPolicyÁ±ªÂûãÁöÑvalueÊàêÂëòÂèòÈáèÔºå‰ΩøÁî®@RetentionÂøÖÈ°ª‰∏∫ÊîπÂØπË±°ÊåáÂÆöÂÄº valueÂÄºÂàÜÂà´ÊúâÔºö RetentionPolicy.CLASS:ÈªòËÆ§ÂÄºÔºåËÆ∞ÂΩïÂú®classÊñá‰ª∂‰∏≠ RetentionPolicy.RUNTIME:JVM‰øùÁïôËØ•AnnotationÔºåÁ®ãÂ∫èÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑËé∑ÂèñËØ•Annotation‰ø°ÊÅØ RetentionPolicy.SOURCE:‰øùÁïôÊ∫ê‰ª£Á†Å‰∏≠ÔºåÁºñËØëÂô®‰∏¢ÂºÉËØ•Annotation @TargetÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@TargetÁî®‰∫é‰øÆÈ•∞‰∏Ä‰∏™AnnotationÂÆö‰πâÔºåÁî®‰∫éÊåáÂÆöË¢´‰øÆÈ•∞ÁöÑAnnotationËÉΩÁî®‰∫é‰øÆÈ•∞Âì™‰∫õÁ®ãÂ∫èÂçïÂÖÉ valueÂÄºÂàÜÂà´ÊúâÔºö ElementType.ANNOTATION_TYPE:ÊåáÂÆöËØ•Á≠ñÁï•ÁöÑAnnotationÂè™ËÉΩÁî®‰∫é‰øÆÈ•∞Annotation ElementType.CONSTRUCTOR:Âè™ËÉΩ‰øÆÈ•∞ÊûÑÈÄ†Âô® ElementType.FIFLD:Âè™ËÉΩ‰øÆÈ•∞ÊàêÂëòÂèòÈáè ElementType.LOCAL_VARIABLE:Âè™ËÉΩ‰øÆÈ•∞Â±ÄÈÉ®ÂèòÈáè ElementType.METHOD:‰øÆÈ•∞ÊñπÊ≥ïÂÆö‰πâ ElementType.PACKAGE:‰øÆÈ•∞ÂåÖÁöÑÂÆö‰πâ ElementType.PARAETER:‰øÆÈ•∞ÂèÇÊï∞ ElementType.TYPE:ÂèØ‰ª•‰øÆÈ•∞Á±ª„ÄÅÊé•Âè£ÔºàÂåÖÊã¨Ê≥®Ëß£Á±ªÂûãÔºâÊàñÊûö‰∏æÂÆö‰πâ @DocumentÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@DocumentÁî®‰∫éËØ•AnnotationÂ∞ÜË¢´javadocÂ∑•ÂÖ∑ÊèêÂèñÊàêÊñáÊ°£ @InheritedÊ≥®Ëß£ÁöÑÂäüËÉΩ‰∏éÁî®Ê≥ï@InheritedÂÖÉAnnotationÊåáÂÆöË¢´ÂÆÉ‰øÆÈ•∞ÁöÑAnnotationÂ∞ÜÂÖ∑ÊúâÁªßÊâøÊÄß„ÄÇ Â¶ÇÊûúÊüê‰∏™Á±ªÁî®ÂåÖÂê´@InheritedÁöÑAnnotationÔºåÂàôËØ•Â≠êÁ±ªÂ∞ÜËá™Âä®‰πü‰ΩøÁî®ËØ•Annotation Ëá™ÂÆö‰πâAnnotationÂÆö‰πâ‰∏Ä‰∏™Êñ∞ÁöÑAnnotationÁ±ªÂûã‰ΩøÁî®@interfaceÂÖ≥ÈîÆÂ≠ó„ÄÇ 1234public @interface TESTAnnotation&#123; ...&#125; ÂèØÂÆö‰πâAnnotationÁöÑÊàêÂëòÂèòÈáèÔºåÂπ∂‰∏îËØ•ÂèòÈáèÂèØ‰ª•ÊåáÂÆöÂàùÂßãÂÄºÔºåÁî®ÂÖ≥ÈîÆÂ≠ódefault 12345public @interface MyTag&#123; String name() default "zhengkai"; int age() default 18; &#125; ËØ•AnnotationÂÆö‰πâ‰ø©‰∏™ÊàêÂëòÂèòÈáèÔºåÂπ∂‰∏îÂ∑≤ÁªèÊúâÂàùÂßãÂÄº **ÂΩìÂºÄÂèëËÄÖ‰ΩøÁî®Annotation‰øÆÈ•∞Á±ªÔºåÊñπÊ≥ïÔºåFiledÁ≠âÊàêÂëò‰πãÂêéÔºåËøô‰∫õAnnotationÂπ∂‰∏ç‰ºöÁîüÊïàÔºåÂøÖÈ°ªÊúâÂºÄÂèëËÄÖÊèê‰æõÁõ∏Â∫îÁöÑÂ∑•ÂÖ∑Êù•ÊèêÂèñÂπ∂Â§ÑÁêÜAnnotation‰ø°ÊÅØ ËøêË°åÊó∂Annotationjava.lang.reflectÂåÖ‰∏ãÊèê‰æõ‰∫ÜËé∑ÂèñAnnotationÁöÑAnnotationElenmentÊé•Âè£ÔºåÁ®ãÂ∫èÂèØË∞ÉÁî®Â¶Ç‰∏ã‰∏â‰∏™ÊñπÊ≥ïËé∑ÂèñAnnotation‰ø°ÊÅØ getAnnotation(Class annotationClass)ÔºöËé∑ÂæóÁ®ãÂ∫èÂÖÉÁ¥†ÁöÑÊ≥®Ëß£Ôºå‰∏çÂ≠òÂú®ËøîÂõûnull Annotations[]ÔºöËé∑ÂèñÁ®ãÂ∫èÂÖÉÁ¥†‰∏äÊâÄÊúâÁöÑÊ≥®Ëß£ isAnnotationPresent(Class&lt;? extends Annotation&gt; annotationClass):Âà§Êñ≠ËØ•Á®ãÂ∫èÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®Ê≥®Ëß£]]></content>
      <tags>
        <tag>-Ê≥®Ëß£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HiveÊï∞ÊçÆ‰ªìÂ∫ìÂü∫Á°ÄÁü•ËØÜ]]></title>
    <url>%2F2019%2F10%2F22%2FHive%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[Êï∞ÊçÆ‰ªìÂ∫ìHive‰∫ßÁîüËÉåÊôØMapReduceÁºñÁ®ãÈó®ÊßõÈ´òÔºåÊó†Ê≥ïÂèäÊó∂Â∫îÂØπÈúÄÊ±ÇÁöÑÂèòÊõ¥ ‰º†ÁªüRDBMSÔºàÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºâ‰∫∫ÂëòÁöÑÈúÄÊ±ÇÔºåHDFS‰∏äÁöÑÊñá‰ª∂Âπ∂Ê≤°ÊúâschemaÁöÑÊ¶ÇÂøµ ÂèØÈÄöËøáHiveËøõË°åÂ§ßÊï∞ÊçÆÁöÑÂ§ÑÁêÜ HiveÊ¶ÇËø∞ÊúâFacebookÂºÄÊ∫êÔºåÁî®‰∫éËß£ÂÜ≥Êµ∑ÈáèÁªìÊûÑÂåñÊó•ÂøóÁöÑÊï∞ÊçÆÁªüËÆ°ÈóÆÈ¢ò ÊûÑÂª∫Âú®Hadoop‰πã‰∏äÁöÑÊï∞ÊçÆ‰ªìÂ∫ìÔºàËÆ°ÁÆóËÉΩÂäõÔºåÂ≠òÂÇ®ËÉΩÂäõÔºåÂèØÂ∫î‰ªòÊï∞ÊçÆÁöÑÊö¥Â¢ûÔºâ HiveÊèê‰æõÁöÑSQLÊü•ËØ¢ËØ≠Ë®ÄÔºöHQL Â∫ïÂ±ÇÊîØÊíëÂ§öÁßç‰∏çÂêåÁöÑÊâßË°åÂºïÊìé HiveÂ∫ïÂ±ÇÊâßË°åÂºïÊìéÊîØÊåÅÔºöMR/Tez/SparkÔºàÁî®Êà∑‰∏çÊÑüÁü•Ôºâ ###‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Hive ÁÆÄÂçïÔºåÂÆπÊòì‰∏äÊâã ‰∏∫Ë∂ÖÂ§ßÊï∞ÊçÆÈõÜËÆæËÆ°ÁöÑËÆ°ÁÆó/Êâ©Â±ïËÉΩÂäõ Âêå‰∏ÄÁöÑÂÖÉÊï∞ÊçÆÁÆ°ÁêÜÔºöHiveÊï∞ÊçÆÊòØÂ≠òÊîæÂú®HDFS‰∏äÔºåÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºàËÆ∞ÂΩïÊï∞ÊçÆ(HDFSÊï∞ÊçÆ)ÁöÑÊï∞ÊçÆÔºâÊòØÂ≠òÊîæÂú®MySQL‰∏≠ SQL on Hadoop:Hive,Spark,SQL,impala‚Ä¶ HiveÊòØ‰∏Ä‰∏™Á¶ªÁ∫øÊ°ÜÊû∂Ôºå‰∏çÈÄÇÂêàÂÆûÊó∂Êü•ËØ¢ Hive‰ΩìÁ≥ªÊû∂ÊûÑHive Âú®HadoopÁîüÊÄÅ‰∏≠ÁöÑ‰ΩçÁΩÆ ‰ΩìÁ≥ªÊû∂ÊûÑÂõæÔºö clientÔºöshell„ÄÅthrift/jdbc(server/jdbc)„ÄÅwebUI(HUE/Zeppelin) metastore:==&gt;MySQL database:name/location/owner... table:name„ÄÅlocation„ÄÅowner„ÄÅcolumn„ÄÅname/type...HiveÔºöÂÜôSQLÁøªËØëÊàêMapReduceÔºåÊîæÂÖ•Âà∞Hadoop HiveÈÉ®ÁΩ≤Êû∂ÊûÑ ÊµãËØïÁéØÂ¢É ÂÆ¢Êà∑Á´ØÊääSQLÊèê‰∫§HiveÂºïÊìéÔºåÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÂèØÂ≠òÊîæÂú®Derby‰∏≠ÔºàÂè™ËÉΩËøõË°åÂçïÂÆ¢Êà∑Á´ØÁöÑÊìç‰ΩúÔºåÂ∞±ÊòØÂçïsessionÔºâÂç≥‰ΩøÊòØÊµãËØïÁéØÂ¢É‰πü‰∏çÊé®Ëçê‰ΩøÁî®ÔºåÂõ†Ê≠§Âè™ËÉΩÈÄâÊã©MySQL Áîü‰∫ßÁéØÂ¢ÉÔºö‰∏∫‰∫ÜÈò≤Ê≠¢MySQLÈîôËØØÂØºËá¥Êó†Ê≥ïËøõË°åËé∑ÂèñÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºåÂõ†Ê≠§ÂæóÊúâ‰∏ªÂ§áMySQLÔºå‰∏ªÂ§áMySQL‰ºöËøõË°åÂàáÊç¢„ÄÇÔºàËß£ÂÜ≥MySQLÂçïÁÇπÈóÆÈ¢òÔºâ HadoopÈõÜÁæ§ÔºöDN„ÄÅNM„ÄÅNN„ÄÅRM HiveÊèê‰∫§Âà∞RM‰∏äÔºåHadpoopÈõÜÁæ§ÊúâÂæàÂ§öËäÇÁÇπÔºåHiveÊòØ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÔºåÂπ∂‰∏çÊ∂âÂèäÈõÜÁæ§ÁöÑÊ¶ÇÂøµ Hive‰∏éRDBMSÁöÑÂå∫Âà´ ÊîØÊåÅÁöÑÔºöÈÉΩÊîØÊåÅÂàÜÂ∏ÉÂºè Âå∫Âà´ÁöÑÔºöHive‰∏çÈÄÇÂêàÁ´ãÈ©¨ËøõË°åÊü•ËØ¢ HiveÈÉ®ÁΩ≤ÂèäÂø´ÈÄüÂÖ•Èó®ÂåÖÔºöhive-1.*.0cdh.5 *. *tar-gz *binÁõÆÂΩïÔºöËÑöÊú¨ *confÁõÆÂΩïÔºöÈÖçÁΩÆ 1 ‰∏ãËΩΩ 2Ëß£ÂéãÁöÑ ~/app 3Ê∑ªÂä†Hive-HOMEÂà∞Á≥ªÁªüÁéØÂ¢ÉÂèòÈáè 4‰øÆÊîπÈÖçÁΩÆ 5Êã∑Ë¥ùMySQLÈ©±Âä®ÂåÖ 6È¢ÑÂÖà‰∏ãËΩΩMySQLÊï∞ÊçÆÂ∫ì Hive DDLËØ¶Ëß£ÂèØ‰ª•ÂàõÂª∫‰∏ÄÂº†Ë°®ÔºåÊääÊï∞ÊçÆÂä†ÂÖ•Âà∞Ë°®‰∏≠ÔºåÂØπÊï∞ÊçÆÁöÑÂêÑÁßçÁª¥Â∫¶ÁöÑÂàÜÊûê create/delete/alter‚Ä¶ HiveÊï∞ÊçÆÊäΩË±°/ÁªìÊûÑ database HDFS‰∏Ä‰∏™ÁõÆÂΩï table HDFS‰∏Ä‰∏™ÁõÆÂΩï dataÊñá‰ª∂ partitionÂàÜÂå∫Ë°® HDFS‰∏Ä‰∏™ÁõÆÂΩï bucketÂàÜÊ°∂ HDFS‰∏Ä‰∏™Êñá‰ª∂ ÂàõÂª∫Êï∞ÊçÆÂ∫ì1234CREATE (DATABASE|SCHEMA) [IF NOT EXISTS] database_name [COMMENT database_comment] [LOCATIO hdfs_path] [WITH DBPROPERTIES (property_name=property_value,...)]; ÂàõÂª∫Ë°®12345678910111213CREATE [EXTERNAL] TABLE [IF NOT EXISTS] table_name [(col_name data_type[COMMENT col_comment], ... [constraint_specification])] [COMMENT table_comment] [PARTITIONED BY (col_name data_type [COMMENT col_comment], ...)] [CLUSTERED BY (col_name, col_name, ...) [SORTED BY (col_name [ASC|DESC], ...)] INTO num_buckets BUCKETS] [ROW FORMAT row_format] [STORED AS file_format] [LOCATION hdfs_path] [TBLPROPERTIES (property_name=property_value, ...)] [AS select_statement];CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS] [db_name.]table_name LIKE existing_table_or_view_name [LOCATION hdfs_path]; ÂêÑÈ°πÂèÇÊï∞ËØ¥ÊòéÔºö 1CREATE TABLE ÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÂêçÂ≠óÁöÑË°®„ÄÇÂ¶ÇÊûúÁõ∏ÂêåÂêçÂ≠óÁöÑË°®Â∑≤ÁªèÂ≠òÂú®ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ÔºõÁî®Êà∑ÂèØ‰ª•Áî® IF NOT EXISTS ÈÄâÈ°πÊù•ÂøΩÁï•Ëøô‰∏™ÂºÇÂ∏∏Ôºå‰∏ÄËà¨‰πüÂèØ‰ª•‰∏çÂä†Ëøô‰∏™IF NOT EXISTSËØ≠Âè•ÔºåÊúÄÂ§öÊäõÂá∫ÈîôËØØ„ÄÇ 2 [constraint_specification]ÂèØÈÄâÈ°πÔºö [ PRIMARY KEY|UNIQUE|NOT NULL|DEFAULT [default_value] 3 [COMMENT table_comment] ÂèØÈÄâÈ°πÔºöCOMMENT ÂêéÈù¢Ë∑üÁöÑÂ≠óÁ¨¶‰∏≤ÊòØÁªôË°®Â≠óÊÆµÊàñËÄÖË°®ÂÜÖÂÆπÊ∑ªÂä†Ê≥®ÈáäËØ¥ÊòéÁöÑ 4 [PARTITIONED BY ] ÂèØÈÄâÈ°πÔºöPARTITIONED BYÂÖ∂ÂÆûÊòØÁªôË°®ÂÅöÂàÜÂå∫ÔºåÂÜ≥ÂÆö‰∫ÜË°®ÊòØÂê¶ÊòØÂàÜÂå∫Ë°®„ÄÇÔºàHive‰∏≠ÊâÄË∞ìÂàÜÂå∫Ë°®Â∞±ÊòØÂ∞ÜË°®ÈáåÊñ∞Â¢ûÂä†‰∏Ä‰∏™Â≠óÊÆµÔºåÂ∞±ÊòØÂàÜÂå∫ÁöÑÂêçÂ≠óÔºåËøôÊ†∑‰Ω†Âú®Êìç‰ΩúË°®‰∏≠ÁöÑÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•ÊåâÂàÜÂå∫Â≠óÊÆµËøõË°åËøáÊª§Ôºâ 5 [CLUSTERED BY ]ÂèØÈÄâÈ°πÔºöCLUSTERED BYÂØπ‰∫éÊØè‰∏Ä‰∏™Ë°®ÔºàtableÔºâÊàñËÄÖÂàÜÂå∫Ôºå HiveÂèØ‰ª•Ëøõ‰∏ÄÊ≠•ÁªÑÁªáÊàêÊ°∂Ôºå‰πüÂ∞±ÊòØËØ¥Ê°∂ÊòØÊõ¥‰∏∫ÁªÜÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆËåÉÂõ¥ÂàíÂàÜ„ÄÇHive‰πüÈíàÂØπÊüê‰∏ÄÂàóËøõË°åÊ°∂ÁöÑÁªÑÁªá„ÄÇHiveÈááÁî®ÂØπÂàóÂÄºÂìàÂ∏åÔºåÁÑ∂ÂêéÈô§‰ª•Ê°∂ÁöÑ‰∏™Êï∞Ê±Ç‰ΩôÁöÑÊñπÂºèÂÜ≥ÂÆöËØ•Êù°ËÆ∞ÂΩïÂ≠òÊîæÂú®Âì™‰∏™Ê°∂ÂΩì‰∏≠ 6 [ROW FORMAT]ÂèØÈÄâÈ°πÔºöÂ≠òÂÇ®Ë°®Ê†ºÂºè 7 [STORED AS] ÂèØÈÄâÈ°πÔºöhiveÂ≠òÂÇ®ÁöÑ‰∏âÁßçÊñá‰ª∂Ê†ºÂºè 8 [LOCATION AS] ÂèØÈÄâÈ°πÔºöLOCATION ÂÖ∂ÂÆûÊòØÂÆö‰πâhiveË°®ÁöÑÊï∞ÊçÆÂú®hdfs‰∏äÁöÑÂ≠òÂÇ®Ë∑ØÂæÑÔºå‰∏ÄËà¨ÁÆ°ÁêÜË°®ÔºàÂÜÖÈÉ®Ë°®‰∏ç‰∏çË¶ÅËá™ÂÆö‰πâÔºâÔºå‰ΩÜÊòØÂ¶ÇÊûúÂÆö‰πâÁöÑÊòØÂ§ñÈÉ®Ë°®ÔºåÂàôÈúÄË¶ÅÁõ¥Êé•ÊåáÂÆö‰∏Ä‰∏™Ë∑ØÂæÑ„ÄÇÂÆûÈôÖ‰∏ä‰∏çÊåáÂÆö‰πüÊ≤°‰∫ãÔºå‰ºö‰ΩøÁî®ÈªòËÆ§Ë∑ØÂæÑ ÈÉ®ÂàÜËØ¶Ëß£Ôºö ‰ΩøÁî®PARTITIONED BYÂ≠êÂè•ÂàõÂª∫ÂàÜÂå∫Ë°®„ÄÇ‰∏Ä‰∏™Ë°®ÂèØ‰ª•ÂÖ∑Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂàÜÂå∫ÂàóÔºåÂπ∂‰∏∫ÂàÜÂå∫Âàó‰∏≠ÁöÑÊØè‰∏™‰∏çÂêåÂÄºÁªÑÂêàÂàõÂª∫‰∏Ä‰∏™ÂçïÁã¨ÁöÑÊï∞ÊçÆÁõÆÂΩï„ÄÇÊ≠§Â§ñÔºåÂèØ‰ª•‰ΩøÁî®CLUSTERED BYÂàóÂØπË°®ÊàñÂàÜÂå∫ËøõË°åÂ≠òÂÇ®ÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáSORT BYÂàóÂú®ËØ•Â≠òÂÇ®Âå∫‰∏≠ÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫è„ÄÇËøôÊ†∑ÂèØ‰ª•ÊèêÈ´òÊüê‰∫õÊü•ËØ¢ÁöÑÊÄßËÉΩ„ÄÇ eg: 12345678CREATE TABLE page_view(viewTime INT, userid BIGINT, page_url STRING, referrer_url STRING, ip STRING COMMENT &apos;IP Address of the User&apos;) COMMENT &apos;This is the page view table&apos; PARTITIONED BY(dt STRING, country STRING) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;\001&apos;STORED AS SEQUENCEFILE; ‰∏äÈù¢ÁöÑËØ≠Âè•ÂàõÂª∫Â∏¶ÊúâviewTimeÔºåuseridÔºåpage_urlÔºåreferrer_urlÂíåipÂàóÔºàÂåÖÊã¨Ê≥®ÈáäÔºâÁöÑpage_viewË°®„ÄÇËØ•Ë°®‰πüË¢´ÂàÜÂå∫ÔºåÊï∞ÊçÆÂ≠òÂÇ®Âú®Â∫èÂàóÊñá‰ª∂‰∏≠,Êñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆÊ†ºÂºèÁî±ctrl-AÂàÜÈöîÂ≠óÊÆµÔºåÁî±Êç¢Ë°åÂàÜÈöîË°å„ÄÇ ÈáçÂëΩÂêçË°®1ALTER TABLE table_name RENAME TO new_table_name; ####Êõ¥ÊîπË°®Â±ûÊÄß 1`ALTER TABLE table_name SET TBLPROPERTIES table_properties;` `table_properties:`` ``: (property_name = property_value, property_name = property_value, ... )` table_properties : (property_name = property_value, property_name = property_value, ‚Ä¶ ) TBLPROPERTIES:ÂÖÅËÆ∏ÊÇ®‰ΩøÁî®Ëá™Â∑±ÁöÑÂÖÉÊï∞ÊçÆÈîÆ/ÂÄºÂØπÊ†áËÆ∞Ë°®ÂÆö‰πâ;ËøòÂ≠òÂú®‰∏Ä‰∫õÈ¢ÑÂÆö‰πâÁöÑË°®Â±ûÊÄßÔºåÁî±HiveËá™Âä®Ê∑ªÂä†ÂíåÁÆ°ÁêÜÁöÑlast_modified_userÂíålast_modified_time„ÄÇ ‰øÆÊîπË°®Ê≥®ÈáäÔºöË¶ÅÊõ¥ÊîπË°®ÁöÑÊ≥®ÈáäÔºåÊÇ®ÂøÖÈ°ªÊõ¥ÊîπÁöÑcommentÂ±ûÊÄßTBLPROPERTIESÔºö 1`ALTER TABLE table_name SET TBLPROPERTIES (``&apos;comment&apos;` `= new_comment);` ÈáçÂëΩÂêçÁé∞ÊúâË°®ÁöÑÂàó1`ALTER TABLE old_table_name REPLACE COLUMNS (col1 TYPE, ...);` Â∞ÜÂàóÊ∑ªÂä†Âà∞Áé∞ÊúâË°®1ALTER TABLE tab1 ADD COLUMNS (c1 INT COMMENT &apos;a new int column&apos;, c2 STRING DEFAULT &apos;def val&apos;); Âà†Èô§Ë°®1`DROP TABLE pv_users;` Âà†Èô§Ë°®ÂàÜÂå∫(Êõ¥ÊîπË°®‰ª•Âà†Èô§ÂàÜÂå∫)Ôºö1`ALTER TABLE pv_users DROP PARTITION (ds=``&apos;2008-08-08&apos;``)` HiveÊü•ËØ¢Êìç‰ΩúËÆ∞ÂΩïÂú®Select‰∏≠ÔºåËÄåÊèíÂÖ•Êìç‰ΩúËÆ∞ÂΩïÂú®Â∞ÜÊï∞ÊçÆ‰ªéÊü•ËØ¢ÊèíÂÖ•HiveË°®Âíå‰ªéÊü•ËØ¢Â∞ÜÊï∞ÊçÆÂÜôÂÖ•Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇ ÁÆÄÂçïÊü•ËØ¢1`INSERT OVERWRITE TABLE user_active``SELECT user.*``FROM user``WHERE user.active = ``1``;` ËØ∑Ê≥®ÊÑèÔºå‰∏éSQL‰∏çÂêåÔºåÊàë‰ª¨ÊÄªÊòØÂ∞ÜÁªìÊûúÊèíÂÖ•Ë°®‰∏≠„ÄÇ‰πüÂèØ‰ª•Â∞ÜÂÖ∂ËΩ¨ÂÇ®Âà∞Êú¨Âú∞Êñá‰ª∂‰∏≠„ÄÇ ‰πüÂèØ‰ª•Âú®Beeline ÊàñHive CLI‰∏≠ËøêË°å‰ª•‰∏ãÊü•ËØ¢ Ôºö 123SELECT user.*FROM userWHERE user.active = ``1``; Âü∫‰∫éÂàÜÂå∫ÁöÑÊü•ËØ¢1`INSERT OVERWRITE TABLE xyz_com_page_views``SELECT page_views.*``FROM page_views``WHERE page_views.date &gt;= ``&apos;2008-03-01&apos;` `AND page_views.date &lt;= ``&apos;2008-03-31&apos;` `AND`` ``page_views.referrer_url like ``&apos;%xyz.com&apos;``;` Á≥ªÁªüÊ†πÊçÆÂàÜÂå∫Âàó‰∏äÁöÑwhereÂ≠êÂè•Êù°‰ª∂Ëá™Âä®Á°ÆÂÆöË¶ÅÂú®Êü•ËØ¢‰∏≠‰ΩøÁî®ÁöÑÂàÜÂå∫„ÄÇ‰æãÂ¶ÇÔºå‰∏∫‰∫ÜËé∑ÂèñÂüüxyz.comÂºïÁî®ÁöÑ03/2008Êúà‰ªΩÁöÑÊâÄÊúâpage_views ËØ∑Ê≥®ÊÑèÔºåÊ≠§Â§Ñ‰ΩøÁî®page_views.dateÔºåÂõ†‰∏∫ËØ•Ë°®Ôºà‰∏äÈù¢ÔºâÊòØ‰ΩøÁî®PARTITIONED BYÔºàdate DATETIMEÔºåcountry STRINGÔºâÂÆö‰πâÁöÑÔºõÂ¶ÇÊûúÊÇ®ÁªôÂàÜÂå∫ÂëΩÂêç‰∏çÂêåÔºåËØ∑‰∏çË¶ÅÊúüÊúõ.dateÂèëÊå•ÊÇ®ÁöÑÊÉ≥Ê≥ïÔºÅ ËøûÊé•Êü•ËØ¢1234INSERT OVERWRITE TABLE pv_usersSELECT pv.*, u.gender, u.ageFROM user u JOIN page_view pv ON (pv.userid = u.id)WHERE pv.date = &apos;2008-03-03&apos;; ÂèØ‰ª•‰ΩøÁî®LEFT OUTERÔºåRIGHT OUTERÊàñFULL OUTERÂÖ≥ÈîÆÂ≠óÈôêÂÆöËÅîÊé•Ôºå‰ª•ÊåáÁ§∫Â§ñÈÉ®ËÅîÊé•ÁöÑÁ±ªÂûãÔºà‰øùÁïôÁöÑÂ∑¶‰æßÔºå‰øùÁïôÁöÑÂè≥‰æßÊàñ‰∏§‰æß‰øùÁïôÔºâ Ê£ÄÊü•Âè¶‰∏Ä‰∏™Ë°®‰∏≠ÊòØÂê¶Â≠òÂú®ÈîÆÔºåÁî®Êà∑ÂèØ‰ª•‰ΩøÁî®LEFT SEMI JOIN]]></content>
      <tags>
        <tag>-Hive</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[swagger2Â≠¶‰π†]]></title>
    <url>%2F2019%2F10%2F16%2Fswagger2%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[‰∏Ä„ÄÅSwaggerÁÆÄ‰ªãËÉåÊôØ‚Äã Âú®Áé∞Âú®ÁöÑÂºÄÂèëÊµÅÁ®ã‰∏≠Ôºå‰∏∫‰∫ÜÊúÄÂ§ßÁ®ãÂ∫¶ÂÆûÁé∞ÂâçÂêéÁ´ØÁöÑÂàÜÁ¶ªÔºåÈÄöÂ∏∏ÂêéÁ´ØÊé•Âè£Âè™Êèê‰æõÊï∞ÊçÆÊé•Âè£ÔºåÁî±ÂâçÁ´ØÈÄöËøáAjaxËØ∑Ê±Ç‰ªéÂêéÁ´ØËé∑ÂèñÊï∞ÊçÆÂπ∂ËøõË°åÊ∏≤ÊüìÂÜçÂ±ïÁ§∫ÁªôÁî®Êà∑„ÄÇÊàë‰ª¨Áî®ÁöÑÊúÄÂ§öÁöÑÊñπÂºèÂ∞±ÊòØÂêéÁ´Ø‰ºöËøîÂõûÁªôÂâçÁ´Ø‰∏Ä‰∏™JSONÂ≠óÁ¨¶‰∏≤ÔºåÂâçÁ´ØËß£ÊûêJSONÂ≠óÁ¨¶‰∏≤ÁîüÊàêJavaScriptÁöÑÂØπË±°ÔºåÁÑ∂ÂêéÂÜçÂÅöÂ§ÑÁêÜ„ÄÇ ÊºîÂåñÈùûRestfulÊé•Âè£ÁöÑÊîØÊåÅ ‰∏Ä‰∏™ÊñπÊ≥ïÂØπÂ∫î‰∫é‰∏Ä‰∏™Á´ØÂè£ÊñπÊ≥ïÊò†Â∞ÑÔºåÈÄöÂ∏∏Âè™ÊúâGET/POSTÊñπÊ≥ïÂØπÂ∫îCRUDÔºåÂêéÊúüÁª¥Êä§ÊàêÊú¨Â§ßÔºåÈÄöÂ∏∏Ê†áÁ≠æÊúâÔºö ‚Äã @Controller Ê†áËØÜ‰∏Ä‰∏™Á±ª‰∏∫ÊéßÂà∂Âô®„ÄÇ @RequestMapping URLÁöÑÊò†Â∞Ñ„ÄÇ @ResponseBody ËøîÂõûÁªìÊûúËΩ¨Êç¢‰∏∫JSONÂ≠óÁ¨¶‰∏≤„ÄÇ @RequestBody Ë°®Á§∫Êé•Êî∂JSONÊ†ºÂºèÂ≠óÁ¨¶‰∏≤ÂèÇÊï∞„ÄÇ Restful APIËÆæËÆ° Restful APIÊòØ‰∏ÄÁßçÁºñÁ®ãÈ£éÊ†ºÔºåÊØîËµ∑‰º†ÁªüÁöÑÈÄöËøáget/postÊñπÊ≥ïÁöÑÊé•Âè£ËÆæËÆ°ÔºåRestful APIÁöÑËÆæËÆ°ÂàôÈÄöËøáHTTPÁöÑÊñπÊ≥ïÊù•Ë°®Á§∫CRUDÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ 123456Êé•Âè£URL | HTTPÊñπÊ≥ï | Êé•Âè£ËØ¥Êòé-------| -------- |-------/article | POST | ‰øùÂ≠òÊñáÁ´†/article/&#123;id&#125; | GET | Êü•ËØ¢ÊñáÁ´†ÂàóË°®/article/&#123;id&#125; | DELETE | Âà†Èô§ÊñáÁ´†/article/&#123;id&#125; | PUT | ‰øÆÊîπÊñáÁ´† Âå∫Âà´Ôºö ‚Äã ‚ë†Á±ª‰∏äÈÄöÂ∏∏‰ΩøÁî®@RestControllerÊ≥®Ëß£Ôºàspring4Êèê‰æõÔºâÔºåË°®Á§∫ËøîÂõûJsonÊï∞ÊçÆÁöÑÊ≥®Ëß£ÔºåÊîØÊåÅRestfulÊéßÂà∂Âô®„ÄÇ ‚Äã ‚ë°/article/{id}ÂÖ∑Êúâ‰∏â‰∏™Áõ∏ÂêåÁöÑURLÊò†Â∞ÑÔºåËøôÂú®@ControllerÊ†áËØÜÁöÑÁ±ª‰∏≠ÊòØ‰∏çÂÖÅËÆ∏Âá∫Áé∞ÁöÑÔºåËÄåËøôÈÄöËøámethodÊù•ËøõË°åÂå∫ÂàÜÔºåproducesÁöÑ‰ΩúÁî®ÊòØË°®Á§∫ËøîÂõûÁªìÊûúÁöÑÁ±ªÂûãÊòØJSON„ÄÇ ‚ë¢@PathVariableËøô‰∏™Ê≥®Ëß£ÔºàSpring MVCÊèê‰æõÔºâÔºå‰ΩúÁî®ÊòØË°®Á§∫ËØ•ÂèòÈáèÁöÑÂÄºÊòØ‰ªéËÆøÈóÆË∑ØÂæÑ‰∏≠Ëé∑Âèñ„ÄÇ ÁÆÄ‰ªãSwagger ÊòØ‰∏Ä‰∏™ËßÑËåÉÂíåÂÆåÊï¥ÁöÑÊ°ÜÊû∂ÔºåÁî®‰∫éÁîüÊàê„ÄÅÊèèËø∞„ÄÅË∞ÉÁî®ÂíåÂèØËßÜÂåñ RESTful È£éÊ†ºÁöÑ Web ÊúçÂä°„ÄÇÊÄª‰ΩìÁõÆÊ†áÊòØ‰ΩøÂÆ¢Êà∑Á´ØÂíåÊñá‰ª∂Á≥ªÁªü‰Ωú‰∏∫ÊúçÂä°Âô®‰ª•ÂêåÊ†∑ÁöÑÈÄüÂ∫¶Êù•Êõ¥Êñ∞„ÄÇÊñá‰ª∂ÁöÑÊñπÊ≥ïÔºåÂèÇÊï∞ÂíåÊ®°ÂûãÁ¥ßÂØÜÈõÜÊàêÂà∞ÊúçÂä°Âô®Á´ØÁöÑ‰ª£Á†ÅÔºåÂÖÅËÆ∏APIÊù•ÂßãÁªà‰øùÊåÅÂêåÊ≠•„ÄÇSwagger ËÆ©ÈÉ®ÁΩ≤ÁÆ°ÁêÜÂíå‰ΩøÁî®ÂäüËÉΩÂº∫Â§ßÁöÑAPI‰ªéÊú™Â¶ÇÊ≠§ÁÆÄÂçï„ÄÇ ‰∫å„ÄÅSwagger‰∏éSpring bootÈõÜÊàê‚ë†„ÄÅÂØºÂÖ•Áõ∏Â∫îjarÂåÖ12345678910&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;io.springfox&lt;/groupId&gt; &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt;&lt;/dependency&gt; ‚ë°„ÄÅÂü∫Êú¨‰ø°ÊÅØÈÖçÁΩÆ12345678910111213141516171819202122232425262728293031323334353637@Configuration@EnableSwagger2public class SwaggerConfig &#123; @Bean public Docket docket()&#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .select() //ÂΩìÂâçÂåÖË∑ØÂæÑ .apis(RequestHandlerSelectors.basePackage("com.bmsoft.dc.dodp")) .paths(PathSelectors.any()).build(); &#125; @Bean public Docket docket1()&#123; return new Docket(DocumentationType.SWAGGER_2) .apiInfo(apiInfo()) .groupName("caozifu") .select() .apis(RequestHandlerSelectors.basePackage("com.bmsoft.dc.dodp")) .paths(PathSelectors.any()).build(); &#125; /** * ÊûÑÂª∫apiÊñáÊ°£ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂáΩÊï∞ * */ private ApiInfo apiInfo()&#123; return new ApiInfoBuilder() //È°µÈù¢Ê†áÈ¢ò .title("Á¶ªÁ∫øÂºÄÂèëÂπ≥Âè∞RestfulÊé•Âè£ÁÆ°ÁêÜ") //ÁâàÊú¨Âè∑ .version("1.0") //ÊèèËø∞ .description("API ÊèèËø∞") .build(); &#125;&#125; Ê†áÁ≠æËØ¥ÊòéÔºö @ConfigurationÊòØË°®Á§∫ËøôÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºåÊòØJDKËá™Â∏¶ÁöÑÊ≥®Ëß£ @EnableSwagger2ÁöÑ‰ΩúÁî®ÊòØÂêØÁî®Swagger2Áõ∏ÂÖ≥ÂäüËÉΩ„ÄÇ ‚Äã ÈÖçÁΩÆÁ±ªÈáåÈù¢Êàë‰πàÂÆû‰æãÂåñ‰∫Ü‰∏Ä‰∏™DocketÂØπË±°ÔºåËøô‰∏™ÂØπË±°‰∏ªË¶ÅÂåÖÊã¨‰∏â‰∏™ÊñπÈù¢ÁöÑ‰ø°ÊÅØÔºö ‚Äã Ôºà1ÔºâÊï¥‰∏™APIÁöÑÊèèËø∞‰ø°ÊÅØÔºåÂç≥ApiInfoÂØπË±°ÂåÖÊã¨ÁöÑ‰ø°ÊÅØÔºåËøô ÈÉ®ÂàÜ‰ø°ÊÅØ‰ºöÂú®È°µÈù¢‰∏äÂ±ïÁ§∫„ÄÇ Ôºà2ÔºâÊåáÂÆöÁîüÊàêAPIÊñáÊ°£ÁöÑÂåÖÂêç„ÄÇ Ôºà3ÔºâÊåáÂÆöÁîüÊàêAPIÁöÑË∑ØÂæÑ„ÄÇÊåâË∑ØÂæÑÁîüÊàêAPIÂèØÊîØÊåÅÂõõÁßçÊ®°ÂºèÔºö‰ªª‰ΩïË∑ØÂæÑÈÉΩÁîüÊàê(any)„ÄÅ‰ªª‰ΩïË∑ØÂæÑÈÉΩ‰∏çÁîüÊàê (none)‰ª•ÂèäÊ≠£ÂàôÂåπÈÖç(regex)Âíåant Ê®°ÂºèÂåπÈÖçÂõõÁßçÊñπÂºè ‚ë¢„ÄÅÁºñÂÜôÊñπÊ≥ïÂèäÂÖ∂ÂèÇÊï∞ÊèèËø∞‚Äã ÁºñÂÜôÁõ∏Â∫îÁöÑÊñπÊ≥ïÔºåÂπ∂Â∫îÊñπÊ≥ï‰∏≠ÂÅöÂá∫Áõ∏Â∫îÁöÑÂèÇÊï∞ÊèèËø∞ÔºåÂÖ∑‰ΩìÊ†áÁ≠æÊúâÔºö @ApiOperation Áî®Âú®ÊñπÊ≥ï‰∏äÔºåËØ¥ÊòéÊñπÊ≥ïÁöÑ‰ΩúÁî®ÔºåÊØè‰∏Ä‰∏™urlËµÑÊ∫êÁöÑÂÆö‰πâ,‰ΩøÁî®ÊñπÂºèÔºö Â±ûÊÄßÂêçÁß∞ Â§áÊ≥® value urlÁöÑË∑ØÂæÑÂÄº ‚Äã *tags Êé•Âè£ÁöÑÊ†áÁ≠æÔºåÁõ∏ÂêåÊ†áÁ≠æÁöÑÊé•Âè£‰ºöÂú®‰∏Ä‰∏™Ê†áÁ≠æÈ°µ‰∏ãÂ±ïÁ§∫„ÄÇ notes Êé•Âè£ËØ¶ÁªÜËØ¥ÊòéÔºåÂ±ïÁ§∫Âú®Êé•Âè£ÁöÑËØ¶ÊÉÖÈ°µ„ÄÇ httpMethod ÊîØÊåÅÁöÑHTTPÁöÑÊñπÊ≥ï„ÄÇ @ApiImplicitParamsÔºå@ApiImplicitParamÁöÑÂÆπÂô®ÔºåÂèØÂåÖÂê´Â§ö‰∏™@ApiImplicitParamÊ≥®Ëß£ @ApiImplicitParamÔºåËØ∑Ê±ÇÂèÇÊï∞Â±ûÊÄßÈÖçÁΩÆÔºö Â±ûÊÄßÂêçÁß∞ Â§áÊ≥® name ÂèÇÊï∞ÂêçÁß∞ value ÂèÇÊï∞ËØ¥Êòé required ÊòØÂê¶ÂøÖÈ°ª dataType Êï∞ÊçÆÁ±ªÂûã @ApiResponseÔºåËøîÂõûÁªìÊûúÂ±ûÊÄßÈÖçÁΩÆÔºö Â±ûÊÄßÂêçÁß∞ Â§áÊ≥® code ËøîÂõûÁªìÊûúÁöÑÁºñÁ†Å message ËøîÂõûÁªìÊûúÁöÑËØ¥Êòé response ËøîÂõûÁªìÊûúÂØπÂ∫îÁöÑÁ±ª Á§∫‰æã 12345678910111213@ApiOperation(value = &quot;Êõ¥Êñ∞ÊñáÁ´†&quot;, notes = &quot;Êõ¥Êñ∞ÊñáÁ´†ÂÜÖÂÆπ&quot;, tags = &quot;Article&quot;,httpMethod = &quot;PUT&quot;) @ApiImplicitParams(&#123; @ApiImplicitParam(name = &quot;id&quot;, value = &quot;ÊñáÁ´†ID&quot;, required = true, dataType = &quot;Long&quot;), @ApiImplicitParam(name = &quot;title&quot;, value = &quot;ÊñáÁ´†Ê†áÈ¢ò&quot;, required = false, dataType = &quot;String&quot;), @ApiImplicitParam(name = &quot;summary&quot;, value = &quot;ÊñáÁ´†ÊëòË¶Å&quot;, required = false, dataType = &quot;String&quot;), @ApiImplicitParam(name = &quot;status&quot;, value = &quot;ÂèëÂ∏ÉÁä∂ÊÄÅ&quot;, required = false, dataType = &quot;Integer&quot;) &#125;) @RequestMapping(value = &quot;/article/&#123;id&#125;&quot;, method = PUT, produces = &quot;application/json&quot;) public WebResponse&lt;?&gt; updateArticle(@PathVariable Long id,@RequestBody Article article)&#123; article.setId(id); articleService.updateArticle(article); return WebResponse.getSuccessResponse(new HashMap&lt;&gt;()); &#125; ÂêØÂä®Spring bootÔºåÁÑ∂ÂêéËÆøÈóÆÔºöhttp://127.0.0.1:8080/swagger-ui.htmlÂç≥ÂèØÁúãÂà∞Â¶Ç‰∏ãÁªìÊûú È°µÈù¢ÊòæÁ§∫Ôºö ÂÖ∂‰ªñÂ∏∏Áî®Ê†áÁ≠æ @APIÊ≥®Ëß£:Áî®Âú®Á±ª‰∏äÔºåËØ¥ÊòéËØ•Á±ªÁöÑ‰ΩúÁî®„ÄÇÂèØ‰ª•Ê†áËÆ∞‰∏Ä‰∏™ControllerÁ±ªÂÅö‰∏∫swagger ÊñáÊ°£ËµÑÊ∫ê 12&gt; @Api(value = "/user", description = "Operations about user")&gt; Â±ûÊÄßÂêçÁß∞ Â§áÊ≥® value urlÁöÑË∑ØÂæÑÂÄº tags Â¶ÇÊûúËÆæÁΩÆËøô‰∏™ÂÄº„ÄÅvalueÁöÑÂÄº‰ºöË¢´Ë¶ÜÁõñ description ÂØπapiËµÑÊ∫êÁöÑÊèèËø∞ description ÂØπapiËµÑÊ∫êÁöÑÊèèËø∞ @ApiModelÔºöÊèèËø∞‰∏Ä‰∏™ModelÁöÑ‰ø°ÊÅØÔºàËøôÁßç‰∏ÄËà¨Áî®Âú®postÂàõÂª∫ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®@RequestBodyËøôÊ†∑ÁöÑÂú∫ÊôØÔºåËØ∑Ê±ÇÂèÇÊï∞Êó†Ê≥ï‰ΩøÁî® @ApiModelPropertyÔºöÊèèËø∞‰∏Ä‰∏™modelÁöÑÂ±ûÊÄß]]></content>
      <tags>
        <tag>-swagger</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mybatis-plusÂ≠¶‰π†]]></title>
    <url>%2F2019%2F10%2F14%2Fmybatis-plus%E4%B8%AA%E4%BA%BA%E8%A7%81%E8%A7%A3%2F</url>
    <content type="text"><![CDATA[MyBatis-PlusÔºàÁÆÄÁß∞ MPÔºâÊòØ‰∏Ä‰∏™ MyBatis ÁöÑÂ¢ûÂº∫Â∑•ÂÖ∑ÔºåÂú® MyBatis ÁöÑÂü∫Á°Ä‰∏äÂè™ÂÅöÂ¢ûÂº∫‰∏çÂÅöÊîπÂèòÔºå‰∏∫ÁÆÄÂåñÂºÄÂèë„ÄÅÊèêÈ´òÊïàÁéáËÄåÁîü„ÄÇmybatis-plusÁöÑÁâπÊÄß‚Äã ‚ë†Êó†‰æµÂÖ•ÔºöÂè™ÂÅöÂ¢ûÂº∫‰∏çÂÅöÊîπÂèòÔºåÂºïÂÖ•ÂÆÉ‰∏ç‰ºöÂØπÁé∞ÊúâÂ∑•Á®ã‰∫ßÁîüÂΩ±ÂìçÔºåÂ¶Ç‰∏ùËà¨È°∫Êªë‚Äã ‚ë°ÊçüËÄóÂ∞èÔºöÂêØÂä®Âç≥‰ºöËá™Âä®Ê≥®ÂÖ•Âü∫Êú¨ CURDÔºåÊÄßËÉΩÂü∫Êú¨Êó†ÊçüËÄóÔºåÁõ¥Êé•Èù¢ÂêëÂØπË±°Êìç‰Ωú‚Äã ‚ë¢Âº∫Â§ßÁöÑ CRUD Êìç‰ΩúÔºöÂÜÖÁΩÆÈÄöÁî® Mapper„ÄÅÈÄöÁî® ServiceÔºå‰ªÖ‰ªÖÈÄöËøáÂ∞ëÈáèÈÖçÁΩÆÂç≥ÂèØÂÆûÁé∞ÂçïË°®Â§ßÈÉ®ÂàÜ CRUD Êìç‰ΩúÔºåÊõ¥ÊúâÂº∫Â§ßÁöÑÊù°‰ª∂ÊûÑÈÄ†Âô®ÔºåÊª°Ë∂≥ÂêÑÁ±ª‰ΩøÁî®ÈúÄÊ±Ç‚Äã ‚ë£ÊîØÊåÅ Lambda ÂΩ¢ÂºèË∞ÉÁî®ÔºöÈÄöËøá Lambda Ë°®ËææÂºèÔºåÊñπ‰æøÁöÑÁºñÂÜôÂêÑÁ±ªÊü•ËØ¢Êù°‰ª∂ÔºåÊó†ÈúÄÂÜçÊãÖÂøÉÂ≠óÊÆµÂÜôÈîô‚Äã ‚ë§ÊîØÊåÅ‰∏ªÈîÆËá™Âä®ÁîüÊàêÔºöÊîØÊåÅÂ§öËææ 4 Áßç‰∏ªÈîÆÁ≠ñÁï•ÔºàÂÜÖÂê´ÂàÜÂ∏ÉÂºèÂîØ‰∏Ä ID ÁîüÊàêÂô® - SequenceÔºâÔºåÂèØËá™Áî±ÈÖçÁΩÆÔºåÂÆåÁæéËß£ÂÜ≥‰∏ªÈîÆÈóÆÈ¢ò‚Äã ‚ë•ÊîØÊåÅ ActiveRecord Ê®°ÂºèÔºöÊîØÊåÅ ActiveRecord ÂΩ¢ÂºèË∞ÉÁî®ÔºåÂÆû‰ΩìÁ±ªÂè™ÈúÄÁªßÊâø Model Á±ªÂç≥ÂèØËøõË°åÂº∫Â§ßÁöÑ CRUD Êìç‰Ωú‚Äã ‚ë¶ÊîØÊåÅËá™ÂÆö‰πâÂÖ®Â±ÄÈÄöÁî®Êìç‰ΩúÔºöÊîØÊåÅÂÖ®Â±ÄÈÄöÁî®ÊñπÊ≥ïÊ≥®ÂÖ•Ôºà Write once, use anywhere Ôºâ‚Äã ‚ëßÂÜÖÁΩÆ‰ª£Á†ÅÁîüÊàêÂô®ÔºöÈááÁî®‰ª£Á†ÅÊàñËÄÖ Maven Êèí‰ª∂ÂèØÂø´ÈÄüÁîüÊàê Mapper „ÄÅ Model „ÄÅ Service „ÄÅ Controller Â±Ç‰ª£Á†ÅÔºåÊîØÊåÅÊ®°ÊùøÂºïÊìéÔºåÊõ¥ÊúâË∂ÖÂ§öËá™ÂÆö‰πâÈÖçÁΩÆÁ≠âÊÇ®Êù•‰ΩøÁî®‚Äã ‚ë®ÂÜÖÁΩÆÂàÜÈ°µÊèí‰ª∂ÔºöÂü∫‰∫é MyBatis Áâ©ÁêÜÂàÜÈ°µÔºåÂºÄÂèëËÄÖÊó†ÈúÄÂÖ≥ÂøÉÂÖ∑‰ΩìÊìç‰ΩúÔºåÈÖçÁΩÆÂ•ΩÊèí‰ª∂‰πãÂêéÔºåÂÜôÂàÜÈ°µÁ≠âÂêå‰∫éÊôÆÈÄö List Êü•ËØ¢‚Äã ‚ë©ÂàÜÈ°µÊèí‰ª∂ÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÂ∫ìÔºöÊîØÊåÅ MySQL„ÄÅMariaDB„ÄÅOracle„ÄÅDB2„ÄÅH2„ÄÅHSQL„ÄÅSQLite„ÄÅPostgre„ÄÅSQLServer2005„ÄÅSQLServer Á≠âÂ§öÁßçÊï∞ÊçÆÂ∫ì ‰∏ªË¶ÅÊ†∏ÂøÉÁü•ËØÜÔºöMapper CRUDÊé•Âè£ËØ¥Êòé: ÈÄöÁî® CRUD Â∞ÅË£ÖBaseMapperÊé•Âè£Ôºå‰∏∫ Mybatis-Plus ÂêØÂä®Êó∂Ëá™Âä®Ëß£ÊûêÂÆû‰ΩìË°®ÂÖ≥Á≥ªÊò†Â∞ÑËΩ¨Êç¢‰∏∫ Mybatis ÂÜÖÈÉ®ÂØπË±°Ê≥®ÂÖ•ÂÆπÂô® Ê≥õÂûã T ‰∏∫‰ªªÊÑèÂÆû‰ΩìÂØπË±° ÂèÇÊï∞ Serializable ‰∏∫‰ªªÊÑèÁ±ªÂûã‰∏ªÈîÆ Mybatis-Plus ‰∏çÊé®Ëçê‰ΩøÁî®Â§çÂêà‰∏ªÈîÆÁ∫¶ÂÆöÊØè‰∏ÄÂº†Ë°®ÈÉΩÊúâËá™Â∑±ÁöÑÂîØ‰∏Ä id ‰∏ªÈîÆ ÂØπË±° Wrapper ‰∏∫ Êù°‰ª∂ÊûÑÈÄ†Âô® ÂÆûÈôÖ‰∏äÊòØÂú®MybatisÁöÑmapperÊâ´ÊèèÊñá‰ª∂ËøõË°å‰∫ÜCURDÂ¢ûÂº∫Ôºå CRUDÊñπÊ≥ïÂü∫Êú¨ÊòØinsert„ÄÅdeleteÔºàById,ByMap„ÄÅBatchIds)„ÄÅ updateÔºàById)„ÄÅselectÔºàById„ÄÅBathchIds„ÄÅByMap„ÄÅOne„ÄÅCount„ÄÅList„ÄÅMaps„ÄÅObjs„ÄÅPage„ÄÅMapsPage) Âü∫Êú¨ÊòØÈÄöËøáId,Êù°‰ª∂ËøõË°åCRUD Service CRUDÊé•Âè£ËØ¥Êòé: ÈÄöÁî® Service CRUD Â∞ÅË£ÖIServiceÊé•Âè£ÔºåËøõ‰∏ÄÊ≠•Â∞ÅË£Ö CRUD ÈááÁî® get Êü•ËØ¢ÂçïË°å remove Âà†Èô§ list Êü•ËØ¢ÈõÜÂêà page ÂàÜÈ°µ ÂâçÁºÄÂëΩÂêçÊñπÂºèÂå∫ÂàÜ Mapper Â±ÇÈÅøÂÖçÊ∑∑Ê∑ÜÔºå Ê≥õÂûã T ‰∏∫‰ªªÊÑèÂÆû‰ΩìÂØπË±° Âª∫ËÆÆÂ¶ÇÊûúÂ≠òÂú®Ëá™ÂÆö‰πâÈÄöÁî® Service ÊñπÊ≥ïÁöÑÂèØËÉΩÔºåËØ∑ÂàõÂª∫Ëá™Â∑±ÁöÑ IBaseService ÁªßÊâø Mybatis-Plus Êèê‰æõÁöÑÂü∫Á±ª ÂØπË±° Wrapper ‰∏∫ Êù°‰ª∂ÊûÑÈÄ†Âô® Êù°‰ª∂ÊûÑÈÄ†Âô®ËØ¥Êòé: ‰ªãÁªç ‰∏äÂõæÁªøËâ≤Ê°Ü‰∏∫ÊäΩË±°Á±ªabstract ËìùËâ≤Ê°Ü‰∏∫Ê≠£Â∏∏classÁ±ªÔºåÂèØnewÂØπË±° ÈªÑËâ≤ÁÆ≠Â§¥ÊåáÂêë‰∏∫Áà∂Â≠êÁ±ªÂÖ≥Á≥ªÔºåÁÆ≠Â§¥ÊåáÂêë‰∏∫Áà∂Á±ª ÊñπÊ≥ïÂÖ•ÂèÇboolean conditionË°®Á§∫ËØ•Êù°‰ª∂ÊòØÂê¶Âä†ÂÖ•ÊúÄÂêéÁîüÊàêÁöÑsql‰∏≠ ÊñπÊ≥ïÂùá‰∏∫‰ªé‰∏äÂæÄ‰∏ãË°•ÂÖ®‰∏™Âà´booleanÁ±ªÂûãÁöÑÂÖ•ÂèÇ,ÈªòËÆ§‰∏∫true Âá∫Áé∞ÁöÑÊ≥õÂûãParamÂùá‰∏∫WrapperÁöÑÂ≠êÁ±ªÂÆû‰æã(ÂùáÂÖ∑ÊúâAbstractWrapperÁöÑÊâÄÊúâÊñπÊ≥ï) ÊñπÊ≥ïÂú®ÂÖ•ÂèÇ‰∏≠Âá∫Áé∞ÁöÑR‰∏∫Ê≥õÂûã,Âú®ÊôÆÈÄöwrapper‰∏≠ÊòØString,Âú®LambdaWrapper‰∏≠ÊòØÂáΩÊï∞(‰æã:Entity::getId,Entity‰∏∫ÂÆû‰ΩìÁ±ª,getId‰∏∫Â≠óÊÆµidÁöÑgetMethod) ÊñπÊ≥ïÂÖ•ÂèÇ‰∏≠ÁöÑR columnÂùáË°®Á§∫Êï∞ÊçÆÂ∫ìÂ≠óÊÆµ,ÂΩìRÂÖ∑‰ΩìÁ±ªÂûã‰∏∫StringÊó∂Âàô‰∏∫Êï∞ÊçÆÂ∫ìÂ≠óÊÆµÂêç(Â≠óÊÆµÂêçÊòØÊï∞ÊçÆÂ∫ìÂÖ≥ÈîÆÂ≠óÁöÑËá™Â∑±Áî®ËΩ¨‰πâÁ¨¶ÂåÖË£π!)!ËÄå‰∏çÊòØÂÆû‰ΩìÁ±ªÊï∞ÊçÆÂ≠óÊÆµÂêç!!!,Âè¶ÂΩìRÂÖ∑‰ΩìÁ±ªÂûã‰∏∫SFunctionÊó∂È°πÁõÆruntime‰∏çÊîØÊåÅeclipseËá™ÂÆ∂ÁöÑÁºñËØëÂô®!!! ‰∏æ‰æãÂùá‰∏∫‰ΩøÁî®ÊôÆÈÄöwrapper,ÂÖ•ÂèÇ‰∏∫MapÂíåListÁöÑÂùá‰ª•jsonÂΩ¢ÂºèË°®Áé∞! ‰ΩøÁî®‰∏≠Â¶ÇÊûúÂÖ•ÂèÇÁöÑMapÊàñËÄÖList‰∏∫Á©∫,Âàô‰∏ç‰ºöÂä†ÂÖ•ÊúÄÂêéÁîüÊàêÁöÑsql‰∏≠!!! Êúâ‰ªª‰ΩïÁñëÈóÆÂ∞±ÁÇπÂºÄÊ∫êÁ†ÅÁúã,Áúã‰∏çÊáÇÂáΩÊï∞ÁöÑlambda Ë°®ËææÂºèËØ¶Ëß£ QueryWrapper###ËØ¥Êòé:ÁªßÊâøËá™ AbstractWrapper ,Ëá™Ë∫´ÁöÑÂÜÖÈÉ®Â±ûÊÄß entity ‰πüÁî®‰∫éÁîüÊàê where Êù°‰ª∂Âèä LambdaQueryWrapper, ÂèØ‰ª•ÈÄöËøá new QueryWrapper().lambda() ÊñπÊ≥ïËé∑Âèñ SELECT 123select(String... sqlSelect)select(Predicate&lt;TableFieldInfo&gt; predicate)select(Class&lt;T&gt; entityClass, Predicate&lt;TableFieldInfo&gt; predicate) ËÆæÁΩÆÊü•ËØ¢Â≠óÊÆµ ËØ¥Êòé: ‰ª•‰∏äÊñπÂàÜÊ≥ï‰∏∫‰∏§Á±ª.Á¨¨‰∫åÁ±ªÊñπÊ≥ï‰∏∫:ËøáÊª§Êü•ËØ¢Â≠óÊÆµ(‰∏ªÈîÆÈô§Â§ñ),ÂÖ•ÂèÇ‰∏çÂåÖÂê´ class ÁöÑË∞ÉÁî®ÂâçÈúÄË¶ÅwrapperÂÜÖÁöÑentityÂ±ûÊÄßÊúâÂÄº! Ëøô‰∏§Á±ªÊñπÊ≥ïÈáçÂ§çË∞ÉÁî®‰ª•ÊúÄÂêé‰∏ÄÊ¨°‰∏∫ÂáÜ ‰æã: select(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;) ‰æã: select(i -&gt; i.getProperty().startsWith(&quot;test&quot;)) ‰ΩøÁî®MPÂÖ•Èó®Ôºö ‚ë†ÂÆö‰πâ‰∏Ä‰∏™JavaBeanÂØπË±°ÔºåÁî®‰∫éÂ∞ÅË£ÖÊï∞ÊçÆÂ∫ì‰ø°ÊÅØ ‚ë°ÂÆö‰πâ‰∏Ä‰∏™ÔºàBeanName)MapperÊé•Âè£ÔºåËØ•Êé•Âè£ÁªßÊâøBaseMapper Âπ∂‰º†ÂÖ•Áõ∏ÂØπÂ∫îÁöÑBeanÂØπË±° ‚ë¢ÂèØÁõ¥Êé•Âú®Êü•ËØ¢Âú∞ÊñπÂÆö‰πâ‰∏Ä‰∏™Êü•ËØ¢ÊûÑÈÄ†Âô®WrapperÂÆûÁé∞Á±ªÔºàQueryWrapperÊàñLambdaQueryWrapperÔºâÁî®‰∫éÂ§çÊùÇÊü•ËØ¢ÔºåÂ∞ÜÂÖ∂‰º†ÂÖ•ÂÆû‰æãÂåñÔºàÂÆπÂô®‰∏≠ÊãøÔºâÁöÑmapperÁöÑÊñπÊ≥ïÊù°‰ª∂‰∏≠ÔºåËé∑ÂèñÊü•ËØ¢ÂêéÁöÑÊï∞ÊçÆ„ÄÇ]]></content>
      <tags>
        <tag>-mybatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[virtualBox ËøõË°åNetÂêéSSHÊ≥®ÊÑè‰∫ãÈ°π]]></title>
    <url>%2F2019%2F10%2F05%2FvirtualBox-%E8%BF%9B%E8%A1%8CNet%E5%90%8ESSH%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[Âõ†‰∏∫Â≠¶‰π†ÈúÄË¶ÅÔºå‰∏∫‰∫ÜÊõ¥Âä†‰æøÊç∑ÔºåÊäõÂºÉ‰∫Ü‰ΩøÁî®Á¨®ÈáçÁöÑVMwareÔºåËÄåÈÄâÊã©‰∫ÜËΩªÊê∫ÁöÑOracle virtualBoxÔºå‰ΩÜÊòØÊÅ∂Ê¢¶‰πüÊòØ‰ªéËøôÈáåÂºÄÂßã‰∫ÜÔºåÂÄíËÖæ‰∫ÜÂçäÂ§©Ôºå‰πüÊÄªÁÆóËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºÅ È¶ñÂÖàÂ£∞ÊòéÔºöËøô‰∏™ÈóÆÈ¢òÈíàÂØπÊ†°Âõ≠ÁΩëÈîêÊç∑ÂÆ¢Êà∑Á´ØËÄåË®ÄÔºåÈîêÊç∑‰∏çÂÖÅËÆ∏Â§öIPÔºåÂú®ÂÄíËÖæ‰∫Ü‰∏Ä‰ºöÂêéÔºåÂèëÁé∞Â¶ÇÊûúÈÄâÊã©Ê°•Êé•Ê®°ÂºèÔºåÂÜçËøõË°å‰∏çÂêåÁâ©ÁêÜÁΩëÂç°‰∏éËôöÊãüÁΩëÂç°ËøõË°åInternetÁΩëÁªúÂÖ±‰∫´ÂêéÔºåÈîêÊç∑ÂÆ¢Êà∑Á´ØÊÄªÊòØÊäõÊñ≠ÁΩëÊêûÁ†¥ÂùèÔºåÂõ†Ê≠§Âè™ËÉΩÈÄâÊã©ÔºåNetËøûÊé•ÔºàÂú®VMware‰∏≠‰πüÊòØÈÄâÊã©NetËøûÊé• ÁöÑÊàëÔºåÂØπNetÊñπÂºèËæÉ‰∏∫ÁÜüÊÇâÔºâ ÊÅ∂ÊÄßÂæ™ÁéØÔºö Â¶ÇÊûúÈÄâÊã©Ê°•Êé•Ê®°ÂºèÔºåÂè™ËÉΩpingÈÄö‰∏ªÊú∫ÔºåÊó†Ê≥ïpingÈÄöÂÖ∂‰ªñIP‰∏éÂüüÂêç Â¶ÇÊûúÈÄâÊã© Ê°•Êé•Ôºå‰∏îËøõË°åÁâ©ÁêÜÁΩëÂç°‰∏éËôöÊãüÁΩëÂç°ÔºàÈúÄ‰∏ãËΩΩÔºâËøõË°åInternetÁΩëÁªúÂÖ±‰∫´ÔºåÂàôÈîêÊç∑Êñ≠ÁΩëË≠¶Âëä Â¶ÇÊûúÈÄâÊã©NetËøûÊé•ÔºåÁΩëÁªúÊ≠£Â∏∏pingÈÄöÔºå‰ΩÜ‰∏ªÊú∫sshËÆøÈóÆËôöÊãüÊú∫ÂèóÈôê„ÄÇ Êú¨ÁùÄÁÜüÊÇâÂÖ•ÊâãÔºåÂáèÂ∞ëÈÖçÁΩÆÔºåÈÄâÊã©‰∫ÜÁ¨¨‰∏âÁÇπÔºåÁî®NetËøõË°åÁΩëÁªúÈÖçÁΩÆ Âú®virtualBox NAT Ê®°Âºè‰∏ãÔºå‰∏ªÊú∫sshËÆøÈóÆËôöÊãüÊú∫ÈÖçÁΩÆ,ÊÄªÊòØÊòæÁ§∫Â§±Ë¥• ÈÄâÊã©ËôöÊãüÊú∫-&gt;ËÆæÁΩÆ-&gt;ÁΩëÁªú-&gt;È´òÁ∫ß-&gt;Á´ØÂè£ËΩ¨ÂèëÔºö ÂçèËÆÆÔºöTCP ‰∏ªÊú∫IP:127.0.0.1 ‰∏ªÊú∫Á´ØÂè£Ôºö1234 Â≠êÁ≥ªÁªüIPÔºöÔºàËôöÊãüÊú∫IPÔºâ Â≠êÁ≥ªÁªüÁ´ØÂè£Ôºö22ÔºàSSHÁõëÂê¨Á´ØÂè£Ôºâ ÂÆåÊàêÈÖçÁΩÆÂêéÔºåÂú®‰∏ªÊú∫‰∏äÁ°ÆËÆ§ÊòØÂê¶Â∑≤ÂêØÂä®1234Á´ØÂè£ÁõëÂê¨Ôºö ÁôªÂΩïÊàêÂäüÔºö]]></content>
      <tags>
        <tag>-virtualBox -Áü•ËØÜÊºèÊ¥û</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Leecodede_139ÂçïËØçÊãÜÂàÜ]]></title>
    <url>%2F2019%2F10%2F04%2FLeecodede-139%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86%2F</url>
    <content type="text"><![CDATA[ÁªôÂÆö‰∏Ä‰∏™ÈùûÁ©∫Â≠óÁ¨¶‰∏≤ s Âíå‰∏Ä‰∏™ÂåÖÂê´ÈùûÁ©∫ÂçïËØçÂàóË°®ÁöÑÂ≠óÂÖ∏ wordDict*ÔºåÂà§ÂÆö *s ÊòØÂê¶ÂèØ‰ª•Ë¢´Á©∫Ê†ºÊãÜÂàÜ‰∏∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âú®Â≠óÂÖ∏‰∏≠Âá∫Áé∞ÁöÑÂçïËØç„ÄÇ ËØ¥ÊòéÔºö ÊãÜÂàÜÊó∂ÂèØ‰ª•ÈáçÂ§ç‰ΩøÁî®Â≠óÂÖ∏‰∏≠ÁöÑÂçïËØç„ÄÇ ‰Ω†ÂèØ‰ª•ÂÅáËÆæÂ≠óÂÖ∏‰∏≠Ê≤°ÊúâÈáçÂ§çÁöÑÂçïËØç„ÄÇ Á§∫‰æã 1Ôºö ËæìÂÖ•: s = ‚Äúleetcode‚Äù, wordDict = [‚Äúleet‚Äù, ‚Äúcode‚Äù]ËæìÂá∫: true*Ëß£Èáä: ËøîÂõû true Âõ†‰∏∫ ‚Äúleetcode‚Äù ÂèØ‰ª•Ë¢´ÊãÜÂàÜÊàê ‚Äúleet code‚Äù Á§∫‰æã 2Ôºö ËæìÂÖ•: s = ‚Äúapplepenapple‚Äù, wordDict = [‚Äúapple‚Äù, ‚Äúpen‚Äù]ËæìÂá∫: trueËß£Èáä: ËøîÂõû true Âõ†‰∏∫ ‚Äúapplepenapple‚Äù ÂèØ‰ª•Ë¢´ÊãÜÂàÜÊàê ‚Äúapple pen apple‚Äù„ÄÇ Ê≥®ÊÑè‰Ω†ÂèØ‰ª•ÈáçÂ§ç‰ΩøÁî®Â≠óÂÖ∏‰∏≠ÁöÑÂçïËØç„ÄÇ Á§∫‰æã 3Ôºö ËæìÂÖ•: s = ‚Äúcatsandog‚Äù, wordDict = [‚Äúcats‚Äù, ‚Äúdog‚Äù, ‚Äúsand‚Äù, ‚Äúand‚Äù, ‚Äúcat‚Äù]ËæìÂá∫: false-* ËØ•È¢òÂèØ‰ª•ÈááÁî®Êö¥ÂäõÊ≥ï „ÄÅÂπøÂ∫¶‰ºòÂÖàÊêúÁ¥¢„ÄÅÂä®ÊÄÅËßÑÂàí ÂÆûÈôÖ‰∏ä‰∏âËÄÖÈÉΩÊúâ‰∏Ä‰∏™ÂÖ±ÂêåÁÇπÔºåÂç≥ÔºöÂ∫îËØ•ÂÖàÊâæÂá∫ÂâçÂçäÈÉ®ÂàÜÊòØÂê¶Âê´ÊúâÔºåÂÜçËøõË°åÈÄíÂΩíÊàñËÄÖÈÄíÊé® Âä®ÊÄÅËßÑÂàí‰∏âË¶ÅÁ¥†ÔºöÔºàÂàùÂßãÔºâÁä∂ÊÄÅÔºåÁä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÔºåÁªàÊ≠¢Êù°‰ª∂ ÂÖ∂ÂÆûÂä®ÊÄÅËßÑÂàíÂ•óË∑ØÂ∞±ÊòØËÆ∞ÂøÜÂ≠òÂÇ®ÔºåËá™Â∫ïÈÄíÊé®ÔºåÊâæÂà∞Áä∂ÊÄÅËΩ¨Áßª ‰ΩÜÊòØËøôÈÅìÈ¢òÔºåÂèØ‰ª•ÊÉ≥Ë±°ÂÖ∂ÂÆûÂèØ‰ª•Êää‰∏Ä‰∏™ÂçïËØçÔºàËÄå‰∏çÊòØ‰∏Ä‰∏™‰∏ãÊ†áÔºâÔºåÂΩìÂàù‰∏Ä‰∏™Áä∂ÊÄÅÔºåÊù•ËøõË°åÁä∂ÊÄÅÁöÑËΩ¨Áßª eg: catdog‚Äî&gt;cat(true)+dog(exit) 12345678910111213141516171819class Solution &#123; public boolean wordBreak(String s, List&lt;String&gt; wordDict) &#123; Set&lt;String&gt; set=new HashSet(wordDict); boolean[] dp=new boolean[s.length()+1]; dp[0]=true; //Ê≥®ÊÑèÁïåÈôêÔºöi&lt;=s.length() for(int i=0;i&lt;=s.length();i++)&#123; for(int j=0;j&lt;i;j++)&#123; //ÊÉ≥Ë±°ÊàêÔºödp[leet]+contains(code) ? true if(dp[j] &amp;&amp; set.contains(s.substring(j,i)))&#123; dp[i]=true; break; &#125; &#125; &#125; return dp[s.length()]; &#125; &#125; LeecodeÂÆòÊñπÔºö Ëøô‰∏™ÊñπÊ≥ïÁöÑÊÉ≥Ê≥ïÊòØÂØπ‰∫éÁªôÂÆöÁöÑÂ≠óÁ¨¶‰∏≤ÔºàssÔºâÂèØ‰ª•Ë¢´ÊãÜÂàÜÊàêÂ≠êÈóÆÈ¢ò s1s1 Âíå s2s2 „ÄÇÂ¶ÇÊûúËøô‰∫õÂ≠êÈóÆÈ¢òÈÉΩÂèØ‰ª•Áã¨Á´ãÂú∞Ë¢´ÊãÜÂàÜÊàêÁ¨¶ÂêàË¶ÅÊ±ÇÁöÑÂ≠êÈóÆÈ¢òÔºåÈÇ£‰πàÊï¥‰∏™ÈóÆÈ¢ò ss ‰πüÂèØ‰ª•Êª°Ë∂≥„ÄÇ‰πüÂ∞±ÊòØÔºåÂ¶ÇÊûú ‚Äú\text{catsanddog}catsanddog‚Äù ÂèØ‰ª•ÊãÜÂàÜÊàê‰∏§‰∏™Â≠êÂ≠óÁ¨¶‰∏≤ ‚Äú\text{catsand}catsand‚Äù Âíå ‚Äú\text{dog}dog‚Äù „ÄÇÂ≠êÈóÆÈ¢ò ‚Äú\text{catsand}catsand‚Äù ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•ÊãÜÂàÜÊàê ‚Äú\text{cats}cats‚Äù Âíå ‚Äú\text{and}and‚Äù ÔºåËøô‰∏§‰∏™Áã¨Á´ãÁöÑÈÉ®ÂàÜÈÉΩÊòØÂ≠óÂÖ∏ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊâÄ‰ª• ‚Äú\text{catsand}catsand‚Äù Êª°Ë∂≥È¢òÊÑèÊù°‰ª∂ÔºåÂÜçÂæÄÂâçÔºå ‚Äú\text{catsand}catsand‚Äù Âíå ‚Äú\text{dog}dog‚Äù ‰πüÂàÜÂà´Êª°Ë∂≥Êù°‰ª∂ÔºåÊâÄ‰ª•Êï¥‰∏™Â≠óÁ¨¶‰∏≤ ‚Äú\text{catsanddog}catsanddog‚Äù ‰πüÊª°Ë∂≥Êù°‰ª∂„ÄÇ Áé∞Âú®ÔºåÊàë‰ª¨ËÄÉËôë \text{dp}dp Êï∞ÁªÑÊ±ÇËß£ÁöÑËøáÁ®ã„ÄÇÊàë‰ª¨‰ΩøÁî® n+1n+1 Â§ßÂ∞èÊï∞ÁªÑÁöÑ \text{dp}dp ÔºåÂÖ∂‰∏≠ nn ÊòØÁªôÂÆöÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶„ÄÇÊàë‰ª¨‰πü‰ΩøÁî® 2 ‰∏™‰∏ãÊ†áÊåáÈíà ii Âíå jj ÔºåÂÖ∂‰∏≠ ii ÊòØÂΩìÂâçÂ≠óÁ¨¶‰∏≤‰ªéÂ§¥ÂºÄÂßãÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤Ôºàs‚ÄôsÔºâÁöÑÈïøÂ∫¶Ôºå jj ÊòØÂΩìÂâçÂ≠êÂ≠óÁ¨¶‰∏≤Ôºàs‚Äôs ‚Ä≤ÔºâÁöÑÊãÜÂàÜ‰ΩçÁΩÆÔºåÊãÜÂàÜÊàê s‚Äô(0,j)s ‚Ä≤ (0,j) Âíå s‚Äô(j+1,i)s ‚Ä≤ (j+1,i) „ÄÇ ‰∏∫‰∫ÜÊ±ÇÂá∫ \text{dp}dp Êï∞ÁªÑÔºåÊàë‰ª¨ÂàùÂßãÂåñ \text{dp}[0]dp[0] ‰∏∫ \text{true}true ÔºåËøôÊòØÂõ†‰∏∫Á©∫Â≠óÁ¨¶‰∏≤ÊÄªÊòØÂ≠óÂÖ∏ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ \text{dp}dp Êï∞ÁªÑÂâ©‰ΩôÁöÑÂÖÉÁ¥†ÈÉΩÂàùÂßãÂåñ‰∏∫ \text{false}false „ÄÇ Êàë‰ª¨Áî®‰∏ãÊ†á ii Êù•ËÄÉËôëÊâÄÊúâ‰ªéÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÂºÄÂßãÁöÑÂèØËÉΩÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤„ÄÇÂØπ‰∫éÊØè‰∏Ä‰∏™Â≠êÂ≠óÁ¨¶‰∏≤ÔºåÊàë‰ª¨ÈÄöËøá‰∏ãÊ†á jj Â∞ÜÂÆÉÊãÜÂàÜÊàê s1‚Äôs1 ‚Ä≤ Âíå s2‚Äôs2 ‚Ä≤ ÔºàÊ≥®ÊÑè ii Áé∞Âú®ÊåáÂêë s2‚Äôs2 ‚Ä≤ ÁöÑÁªìÂ∞æÔºâ„ÄÇ‰∏∫‰∫ÜÂ∞Ü \text{dp}[i]dp[i] Êï∞ÁªÑÊ±ÇÂá∫Êù•ÔºåÊàë‰ª¨‰æùÊ¨°Ê£ÄÊü•ÊØè‰∏™ \text{dp}[j]dp[j] ÊòØÂê¶‰∏∫ \text{true}true Ôºå‰πüÂ∞±ÊòØÂ≠êÂ≠óÁ¨¶‰∏≤ s1‚Äôs1 ‚Ä≤ ÊòØÂê¶Êª°Ë∂≥È¢òÁõÆË¶ÅÊ±Ç„ÄÇÂ¶ÇÊûúÊª°Ë∂≥ÔºåÊàë‰ª¨Êé•‰∏ãÊù•Ê£ÄÊü• s2‚Äôs2 ‚Ä≤ ÊòØÂê¶Âú®Â≠óÂÖ∏‰∏≠„ÄÇÂ¶ÇÊûúÂåÖÂê´ÔºåÊàë‰ª¨Êé•‰∏ãÊù•Ê£ÄÊü• s2‚Äôs2 ‚Ä≤ÊòØÂê¶Âú®Â≠óÂÖ∏‰∏≠ÔºåÂ¶ÇÊûú‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÈÉΩÊª°Ë∂≥Ë¶ÅÊ±ÇÔºåÊàë‰ª¨ËÆ© \text{dp}[i]dp[i] ‰∏∫ \text{true}true ÔºåÂê¶Âàô‰ª§ÂÖ∂‰∏∫ \text{false}false „ÄÇ]]></content>
      <tags>
        <tag>-Leecode -ÁÆóÊ≥ïÊÄùË∑Ø</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Á¨¨‰∫åÁØáÂçöÂÆ¢]]></title>
    <url>%2F2019%2F10%2F04%2F%E7%AC%AC%E4%BA%8C%E7%AF%87%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[Á¨¨‰∏ÄÊ¨°ÂÜôÂçöÂÆ¢ÔºåÂ∏åÊúõËÉΩËÆ∞ÂΩïÂ≠¶‰π†ÁöÑÁÇπÁÇπÊª¥Êª¥ Êù•Âπ¥Êò•ÊãõÂäõ‰∫âÂ§ßÂéÇoffer‰∏äÂ≤∏ Á¨¨‰∫åÁØáÂçöÂÆ¢]]></content>
      <tags>
        <tag>-hexo</tag>
      </tags>
  </entry>
</search>
